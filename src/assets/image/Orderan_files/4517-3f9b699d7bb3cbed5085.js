(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4517],{24781:function(t,e,n){"use strict";var o,i=n(82891),r=n(65400),c=n(12386),l=n(74047),a=n(52700),s=n(4706),u=n(33814),p=n(44102),d=n(20775),f=n(26265),h=n(44908),y=n.n(h),v=n(67294),m=n(57254),g=n(87217),b=n(49485),Z=n(14494),k=v.createElement;function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){(0,f.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function w(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=(0,d.Z)(t);if(e){var i=(0,d.Z)(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return(0,p.Z)(this,n)}}var S=(0,g.Z)()(o=function(t){(0,u.Z)(n,t);var e=w(n);function n(t){var o;return(0,l.Z)(this,n),o=e.call(this,t),(0,f.Z)((0,s.Z)(o),"calcWidth",(function(){var t=o.props,e=t.keyView,n=t.subWidth,i="60%",r=["order","customer"].includes(e)?100:87,c=document.querySelector(".tools-container .filter");if(c){var l,a=130+(4==(null===(l=c.childNodes)||void 0===l?void 0:l.length)?64:0);i="calc(".concat(r,"% - ").concat(c.offsetWidth+a+(n||0),"px)")}return i})),(0,f.Z)((0,s.Z)(o),"calcWidthActionTools",(function(){var t=document.getElementById("action-tools");if(t){var e=t.childNodes,n=-1,i=[];if(t.style.maxWidth=o.calcWidth(),e)for(var r=0;r<e.length;r++){var c=e[r];if(c.style.display="inline-block",c.getBoundingClientRect().top>t.getBoundingClientRect().top){n=r;break}}if(-1!=n)for(var l=n-1;l<e.length;l++){var a=e[l];if(l==e.length-1){if(!(a.getBoundingClientRect().top>t.getBoundingClientRect().top))break;a=e[n-2]}var s=a.getAttribute("id");s&&i.push(s),a.style.display="none"}o.setState({hideTools:y()(i)})}})),(0,f.Z)((0,s.Z)(o),"renderMenu",(function(){var t=o.props.t,e=o.state,n=e.activeActionToolKeys,i=e.hideTools,r=o.getListActionTools(),l=r.reduce((function(t,e){return E(E({},t),{},(0,f.Z)({},e.key,k("div",{style:{display:"flex",alignItems:"center"}},k("div",{style:{fontSize:16,marginRight:8}},e.icon),k("div",null,e.title))))}),{});return k(c.default,null,r.filter((function(t){return!n.filter((function(t){return!i.includes(t)})).includes(t.key)})).map((function(t){return k(c.default.Item,{key:t.key},t.content(!1))})),k(c.default.Item,{style:{borderTop:"1px solid #d9d9d9",color:"#096DD9"}},k(b.Z,{t:t,title:t("pages.shop.actionTools.config"),translate:l,displayColumns:n,addOptionColumns:r.filter((function(t){return!n.includes(t.key)})).map((function(t){return t.key})),onChange:o.onChangeSaveActionTools,isTools:!0,isButton:!1,isToolsBar:!0,defaultCheckedList:n})))})),(0,f.Z)((0,s.Z)(o),"onChangeSaveActionTools",(function(t){var e=o.props.keyView;o.setState({activeActionToolKeys:t},(function(){return o.calcWidthActionTools()})),localStorage.setItem("".concat(e,"_action_tools"),JSON.stringify({activeActionToolKeys:t}))})),(0,f.Z)((0,s.Z)(o),"getListActionTools",(function(){var t=o.props.listActionTools,e=o.state.activeActionToolKeys;return e.reduce((function(e,n){var o=t.find((function(t){return t.key==n}));return o&&e.push(o),e}),[]).concat(t.filter((function(t){return!e.includes(t.key)})))})),o.state={activeActionToolKeys:t.defaultActiveKeys,hideTools:[]},o}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.keyView,n=localStorage.getItem("".concat(e,"_action_tools"));if(this.props.onRef&&this.props.onRef(this),n){var o=JSON.parse(n).activeActionToolKeys;this.setState({activeActionToolKeys:o},(function(){window.addEventListener("resize",t.calcWidthActionTools),t.calcWidthActionTools()}))}else window.addEventListener("resize",this.calcWidthActionTools),this.calcWidthActionTools()}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.collapsed,o=e.subWidth;(t.collapsed!=n||t.subWidth!=o)&&this.calcWidthActionTools()}},{key:"componentWillUnmount",value:function(){this.props.onRef&&this.props.onRef(null)}},{key:"render",value:function(){var t=this,e=this.state.activeActionToolKeys,n=this.props.t;return k("div",{style:{display:"inline-block"},id:"action-tools"},e.map((function(e){var n=t.getListActionTools().find((function(t){return t.key==e}));return n?k("span",{id:n.key,key:e},n.content(!0)):null})),k(i.default,{overlay:this.renderMenu(),trigger:"hover",overlayClassName:"action-tools-dropdown"},k(r.default,null,n("pages.shop.actionTools.other"),k(m.Z,null))))}}]),n}(v.Component))||o;e.Z=(0,Z.$j)((function(t){return{collapsed:t.navigation.collapsed}}))(S)},7690:function(t,e,n){"use strict";var o,i=n(71535),r=n(65400),c=n(74047),l=n(52700),a=n(4706),s=n(33814),u=n(44102),p=n(20775),d=n(26265),f=n(65988),h=n(67294),y=n(99069),v=n(17405),m=n(57254),g=n(87217),b=n(95213),Z=n(20920),k=h.createElement;function O(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=(0,p.Z)(t);if(e){var i=(0,p.Z)(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return(0,u.Z)(this,n)}}var E="btn-filter",w=(0,g.Z)()(o=function(t){(0,s.Z)(n,t);var e=O(n);function n(t){var o;return(0,c.Z)(this,n),o=e.call(this,t),(0,d.Z)((0,a.Z)(o),"handleClickOutSideFilter",(function(t){var e=o.state.popupVisible,n=o.props,i=n.popupClassName,r=n.id,c=n.field;t.stopPropagation();var l=document.getElementsByClassName(i)[0],a=document.getElementById("advance-filter-".concat(null===c||void 0===c?void 0:c.name));if(l){var s=l.getBoundingClientRect();if(s.left<t.x&&t.x<s.right&&s.top<t.y&&t.y<s.bottom)return}var u=document.getElementsByClassName("ant-picker-dropdown-range")[0],p=r?document.getElementById(r):document.getElementById(E);l&&(l.contains(t.target)||p.contains(t.target)||u&&u.contains(t.target)||a&&a.contains(t.target)||e&&o.setPopupVisible(!1))})),(0,d.Z)((0,a.Z)(o),"setPopupVisible",(function(t){return o.setState({popupVisible:t})})),(0,d.Z)((0,a.Z)(o),"handleFilter",(function(){var t=o.props,e=t.field,n=t.callBackField,i=t.type,r=(t.popupClassName,o.state.popupVisible);o.setPopupVisible(!r),i&&n(e)})),(0,d.Z)((0,a.Z)(o),"styleModal",(function(t){var e=o.props,n=e.columnsWidth,i=e.field,r=e.dataSource,c=n[i.name];return c=(c=c||(0,b.IQS)(r,i.type==(0,Z.Rt)().boolean.id?i.label:i.name))&&(c.toString().includes("em")?c:"".concat(c,"px")),k(f.default,{id:"2766829989",dynamic:[t,c,t]},[".".concat(t," .ant-cascader-menu:first-child{width:").concat(c,";min-width:150px;max-width:285px;}"),".".concat(t," .ant-cascader-menu-item-disabled{position:-webkit-sticky;position:sticky;top:-4px;padding-top:5px;z-index:900;background-color:#fff;}")])})),(0,d.Z)((0,a.Z)(o),"getButton",(function(){var t=o.props,e=t.t,n=t.label,i=t.type,c=t.field,l=t.popupClassName,a=t.id,s=t.noIcon;return n?k("span",{id:a||E,className:"btn-advance-filter",onClick:o.handleFilter},n):i?k("span",{id:"advance-filter-".concat(c.name),onClick:function(){return o.handleFilter()},style:{width:20}},o.styleModal(l),k(y.Z,{style:{color:"#949494"},className:"field-icon"})):k(r.default,{id:a||E,icon:s?null:k(v.Z,null),onClick:function(){return o.handleFilter()},className:"btn-advance-filter"},e("crm.addFilter"),k(m.Z,null))})),o.state={popupVisible:!1},o}return(0,l.Z)(n,[{key:"componentDidMount",value:function(){this.props.onRef&&this.props.onRef(this),document.addEventListener("click",this.handleClickOutSideFilter,!1)}},{key:"componentWillUnmount",value:function(){this.props.onRef&&this.props.onRef(null),document.removeEventListener("click",this.handleClickOutSideFilter,!1)}},{key:"render",value:function(){var t=this.props,e=t.options,n=t.popupClassName,o=t.onChange,r=t.changeOnSelect,c=t.loadData,l=t.disabled,a=t.displayRender,s=t.type,u=this.state.popupVisible;return k(i.Z,{defaultValue:s?["$customize"]:"",popupVisible:u,popupClassName:n,options:e,popupPlacement:"bottomRight",changeOnSelect:r,onChange:o,loadData:c,disabled:l,displayRender:a},this.getButton())}}]),n}(h.Component))||o;e.Z=w},45812:function(t,e,n){"use strict";var o=n(65400),i=n(74806),r=n(67294),c=n(54549),l=n(74298),a=r.createElement;e.Z=function(t){var e=t.loadingData,n=t.selectedLength,r=t.total,s=t.onClick;return 0!=n||e?a(o.default,{onClick:s},e&&a(i.default,{type:"circle",percent:Math.round(n/(r||1)*100),width:18,strokeWidth:16,format:function(){return null},style:{marginRight:4}}),a("b",null,n),"\xa0",l.ZP.t("pages.shop.order.selectedOrder"),"  ",a(c.Z,null)):null}},65644:function(t,e,n){"use strict";var o=n(74047),i=n(52700),r=n(4706),c=n(33814),l=n(44102),a=n(20775),s=n(26265),u=n(67294),p=n(14494),d=n(36934),f=u.createElement;function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){(0,s.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=(0,a.Z)(t);if(e){var i=(0,a.Z)(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return(0,l.Z)(this,n)}}var m=function(t){(0,c.Z)(n,t);var e=v(n);function n(t){var i;return(0,o.Z)(this,n),i=e.call(this,t),(0,s.Z)((0,r.Z)(i),"listenMeronpan",(function(){var t=i.props,e=t.extension,n=t.dispatch;null==e&&(i.unlistenMeronpan(),window.addEventListener("message",i.listenMeronpanHandler.bind((0,r.Z)(i),n)),window.postMessage({type:"CHECK_EXTENSION_VERSION",from:"WEBPAGE"},"*"),window.postMessage({type:"CHECK_EXTENSION",from:"WEBPAGE"},"*"))})),(0,s.Z)((0,r.Z)(i),"listenMeronpanHandler",(function(t,e){if("WEBPAGE"!=e.data.from)switch(e.data.type){case"EXTENSION_LOADED":window.postMessage({type:"CHECK_EXTENSION",from:"WEBPAGE"},"*");break;case"REPORT_EXTENSION_STATUS":t((0,d.GoT)(e.data.connectionStatus));break;case"EXTENSION_VERSION":t((0,d.HfQ)(e.data.version))}})),(0,s.Z)((0,r.Z)(i),"unlistenMeronpan",(function(){window.removeEventListener("message",i.listenMeronpanHandler)})),i}return(0,i.Z)(n,[{key:"componentWillUnmount",value:function(){this.unlistenMeronpan()}},{key:"componentDidMount",value:function(){this.listenMeronpan()}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.children,o=t.onScroll,i=t.style,r=t.top,c=t.height;return f("div",{id:"container-layout",onScroll:o,style:this.props.fullScreen?y(y(y({},g),i),{},{top:0,height:"calc(100%)"}):y(y(y({},g),i),{},{top:r||49,height:c||"calc(100% - ".concat(r||49,"px)")}),className:"__container-layout ".concat(e||"")},n)}}]),n}(u.Component),g={overflowY:"overlay",overflowX:"hidden",position:"absolute",height:"calc(100% - 49px)",width:"100%",padding:"10px 0",top:49,left:0};e.Z=(0,p.$j)((function(t){return{fullScreen:t.navigation.fullScreen,extension:t.shop.extension}}),null)(m)}}]);