(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7517],{69705:function(e){!function(){"use strict";e.exports=".upload-image .ant-upload-list .ant-upload-list-item{padding:2px}.upload-image .ant-upload-list .ant-upload-list-picture-card-container,.upload-image .ant-upload-list .ant-upload-select-picture-card{height:75px;width:75px}.upload-image .ant-upload-list .ant-upload-list-picture-card-container .ant-upload-text,.upload-image .ant-upload-list .ant-upload-select-picture-card .ant-upload-text{margin-top:8px;font-size:12px;color:#666}.upload-image .ant-upload-list .ant-upload-animate-inline-appear,.upload-image .ant-upload-list .ant-upload-animate-inline-enter,.upload-image .ant-upload-list .ant-upload-animate-inline-leave{-webkit-animation-duration:.1s;animation-duration:.1s}.create-shop-upload-avatar .ant-upload-select-picture-card{height:104px !important;width:104px !important}"}()},72289:function(e){!function(){"use strict";e.exports=".setting-body .status-label{color:#fff;height:22px;position:relative;overflow:hidden;padding:4px 8px;border-radius:2px;margin:0px 8px;font-size:13px;white-space:nowrap;background:#e2b93b;border-color:#e2b93b;font-weight:normal !important}.setting-body .setting-rows{display:flex;flex-direction:row;justify-content:space-between;height:100%}@media screen and (max-width: 900px){.setting-body .setting-rows{overflow:auto;flex-direction:column !important}.setting-body .setting-rows .setting-col{width:100% !important;height:auto !important}.setting-body .setting-rows .setting-col:last-child{margin-top:10px}}.setting-body .setting-rows .setting-col{height:-webkit-max-content;height:-moz-max-content;height:max-content;width:50%}.setting-body .setting-rows .setting-col .setting-box{border:1px solid #d9d9d9;margin-bottom:20px;border-radius:2px}.setting-body .setting-rows .setting-col .setting-snappy-status{box-shadow:0 0 0 1px rgba(63,63,68,.05),0 1px 3px 0 rgba(63,63,68,.15);margin-bottom:10px}.setting-body .setting-rows .setting-col .setting-snappy-status .setting-status-title{background-color:#f5f5f5;border-radius:none !important;padding:15px;color:#000;font-size:15px;font-weight:500;border-bottom:1px solid #d9d9d9}.setting-body .setting-rows .setting-col .setting-snappy-status .setting-snappy-body{padding:20px;display:block;align-items:center;justify-content:space-between;background-color:#fff}.setting-body .setting-rows .setting-col .setting-snappy-status .setting-snappy-body .snappy-info strong{margin-left:5px;font-style:normal;color:#096dd9;font-weight:600}.setting-body .setting-rows .setting-col .setting-snappy-status .setting-snappy-body .snappy-info alert{margin-left:5px;font-style:normal;color:#ff3860;font-weight:600}.setting-body .setting-rows .setting-col .setting-snappy-status .setting-snappy-body .snappy-action{margin-right:10px;display:flex}.setting-body .setting-rows .setting-col .setting-snappy-status .setting-snappy-body .snappy-action .action-button{cursor:pointer;font-weight:600;padding:8px 14px;border:1px solid;border-radius:2px}.setting-body .setting-rows .setting-col .setting-snappy-status .setting-snappy-body .snappy-action .ant-input-number{overflow:hidden;width:150px;font-size:14px}.setting-body .setting-rows .setting-col .setting-partner-status{margin-bottom:10px}.setting-body .setting-rows .setting-col .setting-partner-status .setting-status-title{background-color:#f5f5f5;border-radius:none !important;padding:15px;color:#000;font-size:15px;font-weight:500;border-bottom:1px solid #d9d9d9}.setting-body .setting-rows .setting-col .setting-partner-status .setting-partner-body{padding-left:20px;padding-right:20px;padding-top:7px;padding-bottom:7px;display:flex;align-items:center;justify-content:space-between;background-color:#fff}.setting-body .setting-rows .setting-col .setting-partner-status .setting-partner-body .partner-info strong{margin-left:5px;font-style:normal;color:#096dd9;font-weight:600}.setting-body .setting-rows .setting-col .setting-partner-status .setting-partner-body .partner-info alert{margin-left:5px;font-style:normal;color:#ff3860;font-weight:600}.setting-body .setting-rows .setting-col .setting-partner-status .setting-partner-body .partner-action{margin-right:10px;display:flex}.setting-body .setting-rows .setting-col .setting-partner-status .setting-partner-body .partner-action .action-button{cursor:pointer;font-weight:600;padding:8px 14px;border:1px solid;border-radius:2px}.setting-body .setting-rows .setting-col .setting-partner-status .setting-partner-body .partner-action .action-button-disconnect{cursor:pointer;font-weight:600;color:#ff3860}.setting-body .setting-rows .setting-col .setting-partner-status .setting-partner-body .partner-action .ant-input-number{overflow:hidden;width:150px;font-size:14px}.setting-body .setting-rows .setting-col .setting-card .setting-title{background-color:#f5f5f5;padding:15px;color:#000;font-size:15px;font-weight:500;border-top-left-radius:2px;border-top-right-radius:2px}.setting-body .setting-rows .setting-col .setting-card .setting-card-body{background:#fff;border-bottom-left-radius:2px;border-bottom-right-radius:2px}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .ant-input-number{overflow:hidden}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-container-commission .box-input-number-wrapper{width:200px;border:1px solid #d9d9d9}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-option-condition{display:flex;justify-content:space-between;align-items:center;height:56px}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-option{display:flex;justify-content:space-between;align-items:center}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-option .section-period{display:flex;align-items:center}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-option .section-period .close-period{color:red;display:none;padding-right:10px;cursor:pointer}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-option .box-input-number-wrapper{border:1px solid #d9d9d9;width:150px}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-option .setting-item-select .ant-select-selection-item{display:flex;align-items:center}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-option-children{display:flex;flex-direction:row;align-items:center;background:#fafafa}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-option-children .setting-item-children{padding-left:8px}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-option-children-no-border{border-bottom:none}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-option-children-small{padding:4px 16px 4px 32px;min-height:40px}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-option-children-large{min-height:48px;padding:8px 16px 8px 32px}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .period-hover .section-period .close-period{display:block}.setting-body .setting-rows .setting-col .setting-card .setting-card-body ul{margin:0}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li{padding:12px 16px;display:flex;align-items:center;border-bottom:1px solid #f0f0f0;min-height:57px}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li span{font-weight:400}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li .setting-item{padding-left:12px;display:flex;align-items:center}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li .setting-wholesale{margin-left:15px;margin-top:15px;display:flex;justify-content:space-between;align-items:center}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li .setting-wholesale .text-wholesale{margin-top:5px;width:70%}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li .setting-wholesale .ant-input-suffix{top:0 !important}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li .setting-wholesale .box-input-number-wrapper{height:35px;width:18%}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li:last-child{border-bottom:none}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li .setting-order-source{width:100%;display:flex;justify-content:space-between;align-items:center}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li .setting-button{display:flex;justify-content:space-between;align-items:center;padding:5px 8px 5px 12px;flex-direction:row;width:152px;border:1px solid #d9d9d9}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li .setting-button .setting-button-title,.setting-body .setting-rows .setting-col .setting-card .setting-card-body li .setting-button .icon-setting{color:#096dd9}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li .setting-button .setting-button-title{margin-right:5px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.setting-body .setting-rows .setting-col .setting-card .setting-card-body li .setting-button .icon-setting{border-left:1px solid #d9d9d9;padding-left:8px}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-option-children-border{border-bottom:1px solid #f0f0f0 !important}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .span-item{width:calc(100% - 155px)}.setting-body .setting-rows .setting-col .setting-card .setting-card-body .setting-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:keep-all}.setting-body .setting-rows .crm-setting-col{width:50%}.modal-commission .add-commission{position:absolute;right:4px;top:4px;z-index:30}.modal-commission .add-commission .ant-btn{border-radius:2px !important}.modal-commission .ant-table-tbody .box-input-number-wrapper{border-radius:2px !important}.modal-commission .ant-table-tbody .box-input-number-wrapper .input-format-number{border-top-left-radius:2px !important;border-bottom-left-radius:2px !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important}.link-web-items{height:340px;overflow:auto;margin-top:8px;width:410px}.link-web-items .link-web-item{height:30px;padding:4px 8px}.link-web-items .link-web-item:hover{background:#f5f5f5;cursor:pointer}.ant-cascader-menu-item-disabled{color:unset;cursor:unset}.order-source-detail .order-source-popular{display:flex;border-bottom:1px dashed #d9d9d9;margin-bottom:20px;padding-bottom:10px}.order-source-detail .order-source-info .order-source-create{display:flex;padding-top:10px;border-top:1px solid #d9d9d9;margin-top:10px;justify-content:space-between}.order-source-detail .order-source-info .order-source-create .save-order-source{display:flex}.order-source-detail .order-source-info .order-source-footer{display:flex;justify-content:space-between;align-items:center;padding-top:10px;border-top:1px solid #d9d9d9;margin-top:10px}.seeding-modal .ant-modal-body{background:#f5f5f5 !important}.ant-modal-body .content{overflow:auto;max-height:290px}.table-commission .box-input-number-wrapper{border:1px solid #d9d9d9}.table-commission .btn-delete{margin-bottom:0px !important}.ant-modal .login-action{display:flex;flex-direction:column}.ant-modal .login-form-forgot{float:right}.ant-modal .modal-content{padding:20px 0 !important;height:568px}.ant-modal .modal-content .snp-welcome{padding:0 10px;font-weight:600;color:rgba(0,0,0,.65)}.ant-modal .modal-content ul{border-top:1px dashed #d9d9d9;border-bottom:1px dashed #d9d9d9;color:rgba(0,0,0,.65);max-height:430px;overflow:scroll}.ant-modal .modal-content ul li{padding:15px 10px !important;border-bottom:1px dashed #d9d9d9}.ant-modal .modal-content ul li:hover{cursor:pointer;padding-left:7px !important;background-color:#d2eafb;border-left:3px solid #ff3860}.ant-modal .modal-content .snp-logout{position:absolute;width:100%;bottom:0;padding:10px}.ant-modal .modal-content .snp-corporation-list{padding:10px;font-weight:600 !important;color:rgba(0,0,0,.65);display:flex;align-items:center;justify-content:space-between}.ant-modal .modal-content .snp-corporation-list .snp-new-corporation .snp-add,.ant-modal .modal-content .snp-corporation-list .snp-new-corporation .snp-cancel{padding:2px 10px;font-weight:400;background-color:#00d1b2;color:#fff;border-radius:2px;cursor:pointer;font-size:13px}.ant-modal .modal-content .snp-corporation-list .snp-new-corporation .snp-cancel{background-color:#ff3860;margin-right:3px}.ant-modal .login-form-button{width:100%}.ant-modal .login-actions-wrapper{margin-top:25px}.shop-container-config{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:flex-start;padding-left:20px;margin-bottom:30px;overflow:auto;max-height:50vh}.shop-container-config .copy-config-shop{border:1px solid #e6ebe6;margin-left:28px;margin-top:30px;border-radius:7px;display:flex;flex-wrap:wrap;position:relative}.shop-container-config .copy-config-shop .shop-info{padding:20px 30px 10px 30px;display:flex;flex-direction:column;align-items:center;flex:1}.shop-container-config .copy-config-shop .shop-info .shop-name{width:65px;font-size:12px;font-weight:30px;margin-top:10px;text-align:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.product-item{margin-top:5px;min-height:60px;background-color:#f7f7f7;padding:5px;border-radius:2px;border:1px solid #d9d9d9}.product-item .ant-card-body{padding:10px}.modal-scan-barcode .ant-modal-body{padding:0px 24px 0px 24px !important}.setting-create-order{margin-bottom:15px}.setting-create-order .setting-box{border:1px solid #d9d9d9;border-radius:2px}.setting-create-order .setting-box .setting-title{padding:15px;border-top-left-radius:2px;border-top-right-radius:2px}.setting-create-order .setting-box .setting-card-body{background-color:#fff;border-bottom-left-radius:2px;border-bottom-right-radius:2px}.setting-create-order .link-table .ant-table-body{overflow-y:auto !important;max-height:600px !important}.setting-create-order .link-table .ant-table-body .ant-table-row{cursor:pointer}.setting-link-marketer .link-table .ant-table-body{overflow-y:auto !important;max-height:600px !important}.setting-link-marketer .link-table .ant-table-body .ant-table-row{cursor:pointer}.post-table .ant-table-body{overflow-y:auto !important;max-height:600px !important}.post-table .ant-table-body .ant-table-row{cursor:pointer}.configure-additinal-partner-transport .add-partner .ant-btn{border-radius:2px !important;margin:0px !important}.configure-additinal-partner{position:relative}.configure-additinal-partner .add-partner{position:absolute;right:4px;top:4px;z-index:100}.configure-additinal-partner .add-partner .ant-btn{border-radius:2px !important}.configure-additinal-partner .custom-add-partner{top:15px !important}.custom-partner .ant-modal-body{padding:0px 20px}.custom-partner .ant-modal-header{padding:16px 24px 10px 24px}.custom-partner-element .ant-modal-body{padding:0px 24px 24px 24px}.header-row{background-color:#f6f6f6;border-bottom:none !important}.row-config{height:44px;border:1px solid #d9d9d9}.row-config:not(:last-child){border-bottom:none}.row-config .ant-col{padding:5px 0px;display:flex;align-items:center;justify-content:center}.row-config .ant-col .ant-switch{margin-bottom:0px !important}.row-config .ant-col:not(:last-child){border-right:1px solid #d9d9d9}.config-field{max-width:340px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.fields-selected{cursor:pointer}.add-field{position:absolute;right:5px}.add-field button{color:#fff}.crm-popover-ads .ant-popover-inner-content{min-width:400px}.no-content{padding:18px !important}.crm-ads-config .config-item{margin-bottom:10px}.crm-ads-config .config-item>div{margin-bottom:5px}.config-body{height:calc(100vh - 400px);overflow:auto}.setting-info-wrapper{height:100%}.auto-setting-modal .ant-modal-body{padding-top:0px}.auto-setting-modal .notisetting-wrapper{height:100%}.auto-setting-modal .notisetting-wrapper .setting-card{margin-bottom:20px;border-radius:2px;overflow:overlay;background-color:#fff}.auto-setting-modal .notisetting-wrapper .setting-box{border:1px solid #d9d9d9;border-radius:2px}.auto-setting-modal .notisetting-wrapper .setting-title{background-color:#f5f5f5;padding:10px;color:#000;font-size:15px;font-weight:500;border-top-left-radius:2px;border-top-right-radius:2px}.auto-setting-modal .notisetting-wrapper .notisetting-table{overflow-x:auto;min-width:500px}.auto-setting-modal .notisetting-wrapper .notisetting-table strong{margin-left:20px}.auto-setting-modal .notisetting-wrapper .notisetting-table .notisetting-thead{display:flex;padding-bottom:10px;font-weight:600;font-size:14px}.auto-setting-modal .notisetting-wrapper .notisetting-table ul li{display:flex;border-bottom:1px solid #f0f0f0;padding:15px 0}.auto-setting-modal .notisetting-wrapper .notisetting-table ul li:first-child{border-top:1px solid #d9d9d9}.auto-setting-modal .notisetting-wrapper .notisetting-table .col-first,.auto-setting-modal .notisetting-wrapper .notisetting-table .col-action{display:flex;justify-content:center}.auto-setting-modal .notisetting-wrapper .notisetting-table .col-first{width:20%;align-items:center}.auto-setting-modal .notisetting-wrapper .notisetting-table .col-second{width:60%;align-items:center;font-size:14px;font-weight:600}.auto-setting-modal .notisetting-wrapper .notisetting-table .col-action{width:20%;align-items:center}.auto-setting-modal .notisetting-wrapper .notisetting-table .col-action .action-delete:hover{border:1px solid #f46e65}.auto-setting-modal .notisetting-wrapper .notisetting-table .col-action .action-delete:hover .anticon-delete{color:#f46e65}.auto-setting-item{display:flex;align-items:center;justify-content:space-between;padding:4px 8px;border-bottom:1px solid #f0f0f0}.table-setting{border-radius:4px}.table-setting .ant-table-body{overflow:hidden overlay !important;border-radius:0px 0px 4px 4px}.table-setting .ant-table-tbody .ant-table-cell{text-align:center;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.table-setting .ant-table-tbody .ant-table-cell .ant-form-item-control-input{min-height:auto}.table-setting .ant-table-tbody .ant-table-cell .ant-form-item-control-input .box-input-number-wrapper .input-format-number{height:29px !important}.table-setting .ant-table-tbody .ant-table-cell .editable-cell-value-wrap{height:31px !important}.table-setting .ant-table-row:nth-child(odd){background-color:#fff !important}.table-setting .item-ws:hover .editable-cell-value-wrap{border:1px solid #d9d9d9 !important;border-radius:2px}.crm-modal-setting-duplicate .ant-modal-content{border-radius:8px !important}.crm-modal-setting-duplicate .ant-modal-header{border-radius:8px 8px 0px 0px !important}.crm-modal-setting-duplicate .ant-modal-title{font-weight:600}.crm-modal-setting-duplicate .ant-table-tbody>tr.ant-table-row:hover>td{background:#f5f5f5}.crm-modal-setting-duplicate .body-setting-duplicated .show-icon-color{width:32px;height:32px;border-radius:4px;border:1px solid #f0f0f0;align-items:center;display:flex;justify-content:center}.crm-modal-setting-duplicate .body-setting-duplicated .show-icon-color .icon{cursor:pointer;font-size:16px}.crm-modal-setting-duplicate .body-setting-duplicated .setting-color{display:flex;flex-direction:row;align-items:center;margin-top:16px;gap:10px}.crm-modal-setting-duplicate .body-setting-duplicated .setting-color .text-display-duplicate{font-weight:400;font-size:14px}.crm-modal-setting-duplicate .body-setting-duplicated .ant-table-wrapper .ant-table{border-radius:4px}.crm-modal-setting-duplicate .body-setting-duplicated .ant-table-wrapper .ant-table .ant-table-header th{padding:12px 16px !important;font-weight:700;font-size:14px}.crm-modal-setting-duplicate .body-setting-duplicated .ant-table-wrapper .ant-table .ant-table-header{border-radius:4px 4px 0px 0px}.crm-modal-setting-duplicate .body-setting-duplicated .ant-table-tbody>tr>td.ant-table-cell{padding:8px 16px !important;font-weight:400;font-size:14px}.crm-modal-setting-duplicate .body-setting-duplicated .ant-input-number-input{text-align:left !important}.crm-modal-setting-duplicate .body-setting-duplicated .ant-input-number-handler-wrap{left:auto !important;right:0;border-left:0;border-left:1px solid #d9d9d9}.crm-modal-setting-duplicate .body-setting-duplicated .editable-cell-value-wrap{padding:4px 12px !important}.crm-modal-setting-duplicate .ant-modal-footer .ant-btn{border-radius:6px !important}"}()},25690:function(e,t,n){"use strict";var a,o=n(56697),s=n(31059),i=n(70302),r=n(51024),c=n(74047),d=n(52700),l=n(4706),u=n(33814),p=n(44102),g=n(20775),h=n(26265),m=n(67294),f=n(22318),_=n(60243),y=n(87217),v=m.createElement;function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,g.Z)(e);if(t){var o=(0,g.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,p.Z)(this,n)}}var w=(0,y.Z)()(a=function(e){(0,u.Z)(n,e);var t=b(n);function n(){var e;(0,c.Z)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,h.Z)((0,l.Z)(e),"state",{type:1,checked:!1,fileList:[]}),(0,h.Z)((0,l.Z)(e),"changeTypeShop",(function(t){e.setState({type:t})})),(0,h.Z)((0,l.Z)(e),"onModalOkClick",(function(){var t=e.state,n=t.type,a=t.checked,o=e.props,s=o.onModalOkClick,i=o.isConverting,r=o.typeShop,c=(o.nameShop,o.changeTypeShop),d=o.t;i?a?r!=n?c(n):f.Z.warning(d("pages.admin.failure"),d("components.shopTypeModal.shopTypeHasNotChange")):f.Z.warning(d("confirmed"),d("components.shopTypeModal.confirmChangeShopType")):(s(n,e.state.fileList[0]),e.setState({type:1}))})),e}return(0,d.Z)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.typeShop;e.typeShop!=n&&this.setState({type:n})}},{key:"render",value:function(){var e=this,t=this.state,n=t.type,a=t.checked,c=t.fileList,d=this.props,l=d.modalVisible,u=d.newShopName,p=d.setModalVisible,g=d.changeShopName,h=d.isConverting,m=(d.typeShop,d.nameShop),f=d.t;return v(o.Z,{title:h?v("span",null,f("components.shopTypeModal.changeShopTypeOf")," ",v("strong",null,m)):f("components.shopTypeModal.createShop"),width:700,wrapClassName:"create-shop-modal",visible:l,okText:f(h?"pages.shop.setting.change":"components.orderExportExcel.add"),cancelText:f("components.orderExportExcel.cancel"),onOk:this.onModalOkClick,onCancel:function(){e.setState({type:1,checked:!1}),p(!1)}},!h&&v("div",null,v(r.default,{placeholder:f("components.shopTypeModal.nameShop"),value:u,onChange:function(e){return g(e.target.value)}}),h&&v("div",{style:{marginTop:15,marginBottom:15}},f("components.shopTypeModal.selectShopCategory"),":")),h&&v("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around"}},v("div",{style:{border:"1px solid ".concat(1==n?"#4d9c2f":"#d9d9d9"),cursor:"pointer",opacity:1==n?1:.6},onClick:function(){return 1!=n&&e.changeTypeShop(1)}},v(i.Z,{style:{width:154,textAlign:"center"}},v("img",{src:"/static/img/icon_shop.png",style:{width:64,height:64}}),v("h3",{style:{color:1==n?"#4d9c2f":"#000000d9"}},f("components.orderAdvanceFilter.receivedAtShop")))),v("div",{style:{border:"1px solid ".concat(3==n?"#4d9c2f":"#d9d9d9"),cursor:"pointer",opacity:3==n?1:.6},onClick:function(){return 3!=n&&e.changeTypeShop(3)}},v(i.Z,{style:{width:154,textAlign:"center"}},v("img",{src:"/static/img/icon_crm.svg",style:{width:64,height:64}}),v("h3",{style:{color:3==n?"#4d9c2f":"#000000d9"}},"CRM")))),!h&&v("div",{style:{marginTop:20}},v("span",{className:"fw600"},f("pages.dashboard.shopAvatar")),v(_.Z,{showUploadList:!1,className:"create-shop-upload-avatar",accessToken:this.props.accessToken,editFileList:this.state.fileList.map((function(e,t){return{uid:t,response:{content_url:e,success:!0},status:"done",url:e}})),handleUploadImages:function(t){return e.setState({fileList:t})}},c.length>0&&v("img",{src:c[c.length-1],alt:"avatar",style:{width:100,height:100,objectFit:"cover"}}))),h&&v("div",{style:{marginTop:20}},v(s.default,{onChange:function(t){return e.setState({checked:t.target.checked})},checked:a},f("components.shopTypeModal.wantToChangeTypeShop"),"?")))}}]),n}(m.Component))||a;t.Z=w},60243:function(e,t,n){"use strict";var a=n(56697),o=n(28465),s=n(67294),i=n(49101),r=n(22318),c=n(95213),d=n(69705),l=n.n(d),u=s.createElement;t.Z=function(e){var t=e.accessToken,n=e.handleUploadImages,d=e.editFileList,p=e.className,g=(0,s.useState)(d||[]),h=g[0],m=g[1],f=(0,s.useState)(!1),_=f[0],y=f[1],v=(0,s.useState)("0"),b=v[0],w=v[1];(0,s.useEffect)((function(){m(d||[])}),[d]);return u("div",{style:{display:"flex"}},u(o.Z,{action:"".concat((0,c.LpH)(),"/contents?access_token=").concat(t),listType:"picture-card",accept:"image/*",multiple:!0,className:"upload-image".concat(p?" ".concat(p):""),beforeUpload:function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){var a=new Image;a.onload=function(){e.width=a.width,e.height=a.height,t(e)},a.src=n.result},n.readAsDataURL(e)}))},data:function(e){return{file:e,width:e.width,height:e.height}},showUploadList:!("showUploadList"in e)||e.showUploadList,fileList:h,onPreview:function(e){var t;w((null===(t=e.response)||void 0===t?void 0:t.content_url)||(null===e||void 0===e?void 0:e.thumbUrl)),y(!0)},onChange:function(e){"error"!=e.file.status?function(e){m(e);var t=[];e.length&&e.map((function(e){e.response&&e.response.success&&e.response.content_url&&t.push(e.response.content_url)})),t.length==e.length&&(t=t.length?t:-1,n(t))}(e.fileList):e.file.size>3e4?r.Z.error("Th\u1ea5t b\u1ea1i","Dung l\u01b0\u1ee3ng \u1ea3nh qu\xe1 l\u1edbn"):r.Z.error("Th\u1ea5t b\u1ea1i","L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh")}},e.children||u("div",null,u(i.Z,null),u("div",{className:"ant-upload-text"},"Upload"))),u(a.Z,{visible:_,footer:null,onCancel:function(){return y(!1)},wrapClassName:"image-preview"},u("img",{style:{width:"100%"},src:b})),u("style",{dangerouslySetInnerHTML:{__html:l()}}))}},57784:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ut}});var a,o=n(84996),s=n(36671),i=n(94055),r=n(59361),c=n(40987),d=n(62443),l=n(2307),u=n(8799),p=n(56697),g=n(65400),h=n(809),m=n.n(h),f=n(92447),_=n(74047),y=n(4706),v=n(52700),b=n(33814),w=n(44102),x=n(20775),k=n(26265),C=n(64713),S=n(20838),Z=n(51024),N=n(64749),I=n(50361),O=n.n(I),P=n(35161),T=n.n(P),E=n(23279),A=n.n(E),L=n(67294),B=n(73171),R=n(49101),D=n(24616),M=n(24557),U=n(77470),j=n(78338),F=n(74498),$=n(39144),z=n(54549),V=n(90631),W=n(68628),q=n(8212),K=n(62536),H=n(9669),G=n.n(H),X=n(7145),Y=n.n(X),Q=n(31432),J=n(22318),ee=n(92902),te=n(72e3),ne=n(65644),ae=n(72289),oe=n.n(ae),se=n(95213),ie=n(14494),re=n(34819),ce=n(36934),de=n(25690),le=n(11163),ue=n(7463),pe=n(4863),ge=n(11187),he=n(28465),me=n(16318),fe=n(28140),_e=n(44908),ye=n.n(_e),ve=n(87217),be=n(7085),we=n(92104),xe=n(76570),ke=n(88282),Ce=n(87307),Se=n(95642),Ze=n(51181),Ne=L.createElement;function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,k.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,x.Z)(e);if(t){var o=(0,x.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,w.Z)(this,n)}}var Te=(0,ve.Z)()(a=function(e){(0,b.Z)(n,e);var t=Pe(n);function n(e){var a;return(0,_.Z)(this,n),a=t.call(this,e),(0,k.Z)((0,y.Z)(a),"onSearchChange",(function(e){var t=e.target.value,n=(0,fe.Z)(a.state.expandedKeys);if(t){n=[];!function e(a,o){a.forEach((function(a){var s,i,r=a.name,c=(0,se.Mle)(r).indexOf((0,se.Mle)(t))>-1,d=[];if(null!==(s=a.nodes)&&void 0!==s&&s.length&&function e(t){var n;d.push(t.id),null!==(n=t.nodes)&&void 0!==n&&n.length&&t.nodes.map((function(t){return e(t)}))}(a),c&&o){var l,u=[o.id,a.id].concat(d);(l=n).push.apply(l,(0,fe.Z)(u))}else if(c&&!o){var p;(p=n).push.apply(p,(0,fe.Z)([a.id].concat(d)))}null!==(i=a.nodes)&&void 0!==i&&i.length&&e(a.nodes,a)}))}(a.state.orderSources),n=ye()(n)}else t||(n=[]);a.setState({search:t,autoExpandParent:!0,expandedKeys:n})})),(0,k.Z)((0,y.Z)(a),"parseWebcakeSources",(function(e){return e.filter((function(e){return!e.link_source_id})).map((function(t){var n=e.filter((function(e){return e.link_source_id==t.id}));return Oe(Oe({},t),{},{nodes:n})}))})),(0,k.Z)((0,y.Z)(a),"findOrderSources",(function(e){var t=null;return function n(a){return(a||[]).map((function(a){a.id==e?t=O()(a):n(a.nodes)}))}(a.state.orderSources),t})),(0,k.Z)((0,y.Z)(a),"handleAction",(function(e,t){var n,o={name:""},s=null!==(n=t=t||a.state.selected)&&void 0!==n&&n.image?[{uid:"-1",response:{content_url:t.image},status:"done",url:t.image}]:[];"create"!=e&&"createChildren"!=e&&(o.id=t.id,o.name=t.name,o.image=t.image),"delete"==e&&(o.is_removed=!0),"createChildren"==e&&t&&(o.parent_id=t.id),"delete"!=e&&setTimeout((function(){var e;return null===(e=a.input)||void 0===e?void 0:e.focus()})),a.setState({editting:o,action:e,fileList:s})})),(0,k.Z)((0,y.Z)(a),"handleAddOrderSourcePopular",(function(e){var t=a.props,n=t.accessToken,o=t.shopId,s=t.createOrderSource,i=t.fetchListOrderSource,r={name:e.name,id:e.id};s(n,o,r).then((function(){i(n,o,{tree:!0}).then((function(e){a.setState({isLoading:!1,editting:null,orderSources:e})}))}))})),(0,k.Z)((0,y.Z)(a),"onNameChange",(function(e){var t=Oe({},a.state.editting);t.name=e.target.value,a.setState({editting:t})})),(0,k.Z)((0,y.Z)(a),"onExpand",(function(e){a.setState({expandedKeys:e,autoExpandParent:!1})})),(0,k.Z)((0,y.Z)(a),"handlePreview",(function(e){a.setState({previewImage:e.response.content_url||e.thumbUrl,previewVisible:!0})})),(0,k.Z)((0,y.Z)(a),"handleBeforeUpload",(function(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){var a=new Image;a.onload=function(){e.width=a.width,e.height=a.height,t(e)},a.src=n.result},n.readAsDataURL(e)}))})),(0,k.Z)((0,y.Z)(a),"handleChangeFiles",(function(e){e.fileList;var t=e.file,n=O()(a.state.editting);if("removed"==t.status)return n.image,void a.setState({editting:n,fileList:[]});if("uploading"!==t.status){if("error"===t.status)return a.setState({uploading:!1}),void me.default.success("B\u1ea1n \u0111\xe3 t\u1ea3i l\xean qu\xe1 gi\u1edbi h\u1ea1n, vui l\xf2ng th\u1eed l\u1ea1i sau");var o;if("done"===t.status)return n.image=null!==t&&void 0!==t&&t.response?null===t||void 0===t||null===(o=t.response)||void 0===o?void 0:o.content_url:t,void a.setState({editting:n,fileList:[t],uploading:!1})}else a.setState({uploading:!0})})),(0,k.Z)((0,y.Z)(a),"onDrop",(function(e){var t=a.state.orderSources,n=a.props,o=n.accessToken,s=n.shopId,i=n.updateOrderSource,r=n.fetchListOrderSource,c={tree:!0},d=e.node.key,l=e.dragNode.key,u=e.node.pos.split("-"),p=e.dropPosition-Number(u[u.length-1]),g=t.filter((function(e){return!e.is_removed&&-13!=e.id})),h=g.find((function(e){return-7==e.id})),m=(h.nodes||[]).find((function(e){return e.id==l})),f=(h.nodes||[]).find((function(e){return e.id==d}));if(m&&m.custom_id&&(!f||!f.custom_id)){var _,y,v,b=function e(t,n,a){t.forEach((function(t,o,s){t.id!=n?t.nodes&&e(t.nodes,n,a):a(t,o,s)}))},w=(0,fe.Z)(g);if(b(w,l,(function(e,t,n){n.splice(t,1),_=e})),0===p)b(w,d,(function(e){e.nodes=e.nodes||[],e.nodes.unshift(_)}));else b(w,d,(function(e,t,n){y=n,v=t})),-1==p?y.splice(v,0,_):y.splice(v+1,0,_);var x=Oe(Oe({},_),{},{link_source_id:-7==d?-1:d});i(o,s,x).then((function(){r(o,s,c).then((function(e){a.setState({isLoading:!1,editting:null,orderSources:e,selectedKeys:[]})}))}))}})),(0,k.Z)((0,y.Z)(a),"renderUpdateItem",(function(){var e=a.state,t=e.editting,n=e.isLoading,o=e.action,s=e.fileList,i=e.uploading,r=a.props,c=r.t,d=r.accessToken;if(!t)return"";var l={};return"create"==o&&(l={border:"1px solid #ADC6FF",marginBottom:16,borderRadius:2,padding:"8px 16px",background:"#F0F5FF"}),"createChildren"==o&&(l={borderTop:"1px solid #ADC6FF",marginTop:8,borderRadius:2,paddingTop:8}),Ne("div",{style:Oe({display:"flex",justifyContent:"space-between",alignItems:"center"},l)},Ne("div",{style:{flex:1,marginRight:12,display:"flex",alignItems:"center"}},Ne(Z.default,{value:t.name,placeholder:"Nh\u1eadp t\xean ngu\u1ed3n",style:{height:36},onChange:a.onNameChange,ref:function(e){return a.input=e}}),Ne("div",{onClick:function(e){return e.stopPropagation()},style:{display:"flex"}},Ne(he.Z,{action:"".concat((0,se.LpH)(),"/contents?access_token=").concat(d),accept:"image/*",name:"avatar",className:"order-source-image",listType:"picture-card",showUploadList:!1,beforeUpload:a.handleBeforeUpload,data:function(e){return{file:e,width:e.width,height:e.height}},fileList:s,onChange:a.handleChangeFiles},t.image?Ne("img",{src:t.image,alt:"avatar",style:{width:"100%"}}):Ne("div",null,Ne(i?be.Z:R.Z,null))))),Ne("div",{style:{display:"flex"}},Ne(g.default,{onClick:function(e){e.stopPropagation(),a.setState({editting:null,action:"",selected:null})},style:{marginRight:12},disabled:n},c("cancel")),Ne(g.default,{loading:n,icon:Ne(we.Z,null),onClick:a.handleSave,type:"primary"},c("pages.shop.setting.application.save"))))})),(0,k.Z)((0,y.Z)(a),"countAllCategories",(function(e){var t=0;return e.map((function(e){var n;t+=1,(null===(n=e.nodes)||void 0===n?void 0:n.length)>0&&(t+=a.countAllCategories(e.nodes))})),t})),(0,k.Z)((0,y.Z)(a),"renderTreeSelect",(function(){var e=a.state,t=e.expandedKeys,n=e.autoExpandParent,o=e.selectedKeys,s=e.search,c=e.action,d=e.orderSources,l=a.props.t,u=0,p=d.filter((function(e){return!e.is_removed&&-13!=e.id}));(0,se.caL)().map((function(e){d.find((function(t){return t.id==e.id}))&&u++}));var h=a.getDataRenderSources(p),m=70*window.innerHeight/100-150;return Ne("div",{className:"draggable-demo",style:{cursor:"pointer"}},(0,se.caL)().length!=u&&Ne("div",{className:"order-source-popular",style:{display:"flex",marginBottom:10}},Ne("div",{style:{marginRight:10}},l("components.orderSourceDetail.orderSourcesPopular"),": "),Ne("div",null,(0,se.caL)().map((function(e,t){if(-1==p.findIndex((function(t){return t.id==e.id})))return Ne(i.default,{key:t,title:l("components.orderSourceDetail.clickToAddOrderSource")},Ne(r.default,{style:{cursor:"pointer"},color:"blue",onClick:function(){return a.handleAddOrderSourcePopular(e)}},e.name))})))),Ne(Z.default,{placeholder:l("components.orderSourceDetail.search"),style:{width:"100%"},onChange:a.onSearchChange,value:s,prefix:Ne(xe.Z,null)}),Ne("div",{style:{display:"flex",justifyContent:"space-between",margin:"16px 0px",alignItems:"center"}},Ne("div",{style:{color:"#595959"}},Ne("span",{style:{fontWeight:700}},"T\u1ed5ng:"),"\xa0",Ne("span",null,a.countAllCategories(d))),Ne(g.default,{icon:Ne(R.Z,null),type:"primary",onClick:function(){return a.handleAction("create")},disabled:"create"==c},l("components.productCategory.create"))),"create"==c&&a.renderUpdateItem(),d&&d.length>0?Ne(L.Fragment,null,Ne(Ze.Z,{expandedKeys:t,onExpand:a.onExpand,draggable:!0,autoExpandParent:n,onDrop:a.onDrop,treeData:a.getValidExpandsKeys(h,t),height:m,virtual:!1,onSelect:a.onSelect,selectedKeys:o,showIcon:!1,switcherIcon:a.customSwitcherIcon,rootClassName:"categories-tree"}),Ne("div",{draggable:!0})):Ne("div",{className:"empty-text"},l("components.productCategory.noCategory")))})),(0,k.Z)((0,y.Z)(a),"onSelect",(function(e){var t=a.state.expandedKeys,n=(0,fe.Z)(t),o=a.findOrderSources(e[0]);if(!o||o.nodes.length){var s=n.findIndex((function(t){return t==e[0]}));s>-1?n.splice(s,1):n=ye()(t.concat(e)),a.setState({expandedKeys:n,autoExpandParent:!1})}})),(0,k.Z)((0,y.Z)(a),"customSwitcherIcon",(function(e){var t=e.isLeaf,n=e.expanded;return t?Ne("img",{style:{width:16,height:16},src:"/static/img/TagChevron.svg"}):Ne(n?ke.Z:Ce.Z,null)})),(0,k.Z)((0,y.Z)(a),"renderItemTitle",(function(e){if(!e)return"";var t=a.state,n=t.search,o=t.action,s=t.editting,i=a.props,r=i.t,c=i.disableChildren,d=e.name,l=(0,se.Mle)(d).indexOf((0,se.Mle)(n)),u=d.substr(0,l),p=d.substr(l,n.length),h=d.substr(l+n.length);return"update"==o&&e.id==(s||{}).id?a.renderUpdateItem():l>-1?Ne("div",null,Ne("div",{style:{display:"flex",width:"100%",justifyContent:"space-between"}},Ne("div",null,u,Ne("span",{style:{color:"#f50"}},p),h),!o&&Ne("div",{className:"actions"},(e.parent_id||e&&e.id>0)&&Ne(q.Z,{style:{marginRight:10},onClick:function(t){t.stopPropagation(),a.handleAction("update",e)}}),!c&&!e.parent_id&&Ne(R.Z,{style:{marginRight:10},onClick:function(t){t.stopPropagation(),a.handleAction("createChildren",e)}}),Ne(B.Z,{onClick:function(t){t.stopPropagation(),a.handleAction("delete",e)}}))),"createChildren"==o&&(s||{}).parent_id==e.id&&a.renderUpdateItem(),"delete"==o&&(s||{}).id==e.id&&Ne("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:"1px solid #FFA39E",paddingTop:8,marginTop:8}},Ne("div",null,Ne("div",null,r("components.orderSourceDetail.contentDeleteOrderSources"))),Ne("div",null,Ne(g.default,{onClick:function(e){e.stopPropagation(),a.setState({editting:null,action:"",selected:null})},style:{marginRight:12}},r("cancel")),Ne(g.default,{onClick:a.handleSave,icon:Ne(B.Z,null),type:"danger"},r("delete"))))):Ne("span",null,d)})),(0,k.Z)((0,y.Z)(a),"getDataRenderSources",(function(e){var t=a.state,n=t.action,o=t.editting,s=[],i=O()(e),r=e.map((function(e){return e.id}));return i.forEach((function(e){var t={height:40};if("createChildren"==n&&e.id==(o||{}).parent_id&&(t={height:88,background:"#F0F5FF"}),"update"==n&&e.id==(o||{}).id&&(t={height:50,background:"#F0F5FF"}),"delete"==n&&e.id==(o||{}).id&&(t={height:86,background:"#FFF1F0"}),!e.is_removed){var i=-7==e.id?a.parseWebcakeSources(e.nodes):e.nodes;s.push({title:a.renderItemTitle(e),key:e.id,children:(null===i||void 0===i?void 0:i.length)>0?a.getDataRenderSources(i):[],style:Oe(Oe({},t),{},{width:"100%",display:"flex",borderTop:r.includes(e.id)?"1px solid #D9D9D9":"none"})})}})),s})),(0,k.Z)((0,y.Z)(a),"getValidExpandsKeys",(function(e,t){if(!t.length||!a.state.search)return e;var n=function e(n){return n.find((function(n){var a;return!!t.includes(n.key)||!(null===(a=n.children)||void 0===a||!a.length)&&e(n.children)}))};return e.filter((function(e){return t.includes(e.key)||n(e.children)}))})),(0,k.Z)((0,y.Z)(a),"handleSave",(function(){var e=a.state,t=e.editting,n=e.action,o=e.isLoading,s=a.props,i=s.createOrderSource,r=s.updateOrderSource,c=s.fetchListOrderSource,d=s.t,l=s.accessToken,u=s.shopId;if(!t.name)return ge.default.warning(d("components.productCategory.nameTagNotEmpty"));if(!o){a.setState({isLoading:!0});var p={tree:!0};"create"!=n&&"createChildren"!=n?"update"!=n&&"delete"!=n||r(l,u,t).then((function(){c(l,u,p).then((function(e){a.setState({isLoading:!1,editting:null,orderSources:e,selected:Oe(Oe({},a.state.selected),{},{name:t.name}),selectedKeys:[],action:""})}))})):i(l,u,t).then((function(){c(l,u,p).then((function(e){a.setState({isLoading:!1,editting:null,orderSources:e,action:""})}))}))}})),a.state={orderSources:(0,fe.Z)(e.orderSources),editting:null,autoExpandParent:!0,isLoading:!1,expandedKeys:[],selected:null,selectedKeys:[],search:"",fileList:[],previewVisible:!1,previewImage:"0",uploading:!1},a}return(0,v.Z)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.visible,a=t.previewVisible,o=t.previewImage,s=this.props,i=s.t,r=s.disableChildren;return Ne("div",{style:{display:"inline-block"}},Ne(g.default,{className:"setting-button",onClick:function(){return e.setState({visible:!0})}},Ne("span",{className:"setting-button-title"},i("pages.shop.setting.list")),Ne("span",{className:"icon-setting"},Ne(q.Z,null))),Ne(p.Z,{wrapClassName:"drag-categories-tree",visible:n,title:Ne("span",null,Ne(Se.Z,null)," ",i("components.orderSourceDetail.listOrderSource")),closable:!1,width:900,footer:r?null:Ne(pe.default,{message:i("components.orderSourceDetail.suggest"),type:"info",showIcon:!0,style:{width:"fit-content"}}),onCancel:function(){return e.setState({visible:!1,search:"",editting:null,selected:null,expandedKeys:[],selectedKeys:[],action:""})}},this.renderTreeSelect()),Ne(p.Z,{visible:a,footer:null,onCancel:function(){return e.setState({previewVisible:!1})},wrapClassName:"image-preview"},Ne("img",{style:{width:"100%"},src:o})))}}]),n}(L.Component))||a,Ee=(0,ie.$j)((function(e){return Oe({currentShop:e.shop.currentShop},(0,Q.A8)(e))}),{fetchListOrderSource:ce.Q4x,createOrderSource:ce.Zw7,updateOrderSource:ce.X0v})(Te),Ae=n(17918),Le=n(50916),Be=n(33786),Re=n(15873),De=n(14101),Me=n(61209),Ue=n(99165),je=n(88460),Fe=L.createElement,$e=(0,ie.$j)((function(e){return{bankPayments:e.shop.currentShop.bank_payments||[]}}),{createBankPayment:ce.$T2})((function(e){var t=e.t,n=e.accessToken,a=e.shopId,o=e.dispatch,i=e.isOpenPayment,r=(0,L.useState)(i),c=r[0],d=r[1],l=(0,L.useState)(O()(e.bankPayments)),u=l[0],h=l[1];(0,L.useEffect)((function(){h(O()(e.bankPayments))}),[c]);var m=function(e,t,n,a){switch(e){case"create":u.push({name:"",edit:!0,error:!1});break;case"edit":u[t][a]=n;break;case"delete":u.splice(t,1)}h((0,fe.Z)(u)),"create"==e&&setTimeout((function(){var e=document.getElementById("bank-payment-".concat(u.length-1));e&&e.focus()}),10)},f=function(e,s){var i=u[e].id?ce.M1f:ce.$T2;if(u[e].name)if(u.find((function(t,n){return t.name==u[e].name&&e!=n})))ge.default.error(t("crm.101",{data:t("crm.name")}));else{var r=u[e];"delete"==s&&(r.is_removed=!0),i(n,a,r).then((function(n){n.data.success&&(ge.default.success(t("success")),"delete"==s?u.splice(e,1):u.splice(e,1,n.data.data),h((0,fe.Z)(u)),o({type:"FETCH_BANK_PAYMENTS",payload:u}))}))}else ge.default.error(t("crm.102",{data:t("crm.name")}))};return Fe(L.Fragment,null,Fe(g.default,{className:"setting-button",onClick:function(){return d(!0)}},Fe("span",{className:"setting-button-title"},t("pages.shop.setting.list")),Fe("span",{className:"icon-setting"},Fe(q.Z,null))),Fe(p.Z,{width:500,title:t("pages.shop.setting.bankList"),visible:c,onCancel:function(){return d(!1)},footer:[Fe(g.default,{onClick:function(){return d(!1)}},t("close"))]},u&&u.length?u.map((function(e,n){var a=e.name,o=e.edit;return Fe("div",{key:n},o?Fe("div",{className:"flex-between",style:{paddingTop:10}},Fe(Z.default,{id:"bank-payment-".concat(n),value:e.name,onChange:function(e){return m("edit",n,e.target.value,"name")},placeholder:t("pages.shop.setting.enterBankName")}),Fe(Re.Z,{style:{width:40,color:"#3dbd7d"},onClick:function(){return f(n)}}),Fe(De.Z,{twoToneColor:"#eb2f96",onClick:function(e){return m("delete",n,e.target.value,"name")}})):Fe("div",{className:"flex-between show-value item-ws",style:{padding:0}},Fe("div",{className:"fw600"},a),Fe("div",{className:"folder-action pos-transition"},Fe(Me.Z,{onClick:function(){return m("edit",n,!0,"edit")}}),Fe(je.default,{recordSrc:e.id},Fe(Ue.Z,null)),Fe(De.Z,{twoToneColor:"#eb2f96",onClick:function(){return f(n,"delete")}}))))})):Fe(s.default,{image:s.default.PRESENTED_IMAGE_SIMPLE}),Fe("div",{className:"btn-add-ws"},Fe(g.default,{icon:Fe(R.Z,null),onClick:function(){return m("create")}},t("systemLogs.INSERT")))))})),ze=n(8451),Ve=n(25951),We=n(7457),qe=n(76043),Ke=n(34514),He=n(63144),Ge=L.createElement;function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){(0,k.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qe=function(e){var t,n=e.t,a=e.currentShop,o=e.tables,s=e.visible,i=e.callback,r=e.updateTable,u=e.accessToken,g=e.shopId,h=e.updateTables,_=(0,L.useState)({}),y=_[0],v=_[1],b=(0,L.useState)(),w=b[0],x=b[1],C=(null===(t=o[0])||void 0===t?void 0:t.setting)||{};(0,L.useEffect)((function(){var e=C.duplicate_color||"#fff1f0";x(e)}),[s]);var S=o.map((function(e){var t=(e.setting||{}).period_for_check_duplicate;return{key:e.name,table_name:e.label,time:t,active:!!t}})),Z=function(){var e=(0,f.Z)(m().mark((function e(t,n,a){var s,i,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=o.find((function(e){return e.name==t.key})),i=3,r=s.name,a&&!n&&(i=null),a||(i=(i=t.time)>0?i:null,r="".concat([r],"_time")),v(Ye(Ye({},y),{},(0,k.Z)({},r,!0))),e.next=8,I(s,{period_for_check_duplicate:i});case 8:v({});case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),N=function(){var t=(0,f.Z)(m().mark((function t(){var a;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w==C.duplicate_color){t.next=6;break}return a=e.tables.map((function(e){return Ye(Ye({},e),{},{setting:Ye(Ye({},e.setting),{},{duplicate_color:w})})})),v({modal:!0}),t.next=5,h(u,g,a).then((function(e){e.success&&ge.default.success(n("pages.shop.setting.configurationWasSuccess"))}));case 5:v({modal:!1});case 6:i(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(e,t){var a=Ye(Ye({},e),{},{setting:Ye(Ye({},e.setting),t)});return r(u,g,Ye({},a)).then((function(e){e.success?J.Z.success(n("pages.shop.setting.configurationWasSuccess")):J.Z.error(n("error"),n("pages.shop.setting.tryAgainLater"))}))},O=[{title:n("pages.shop.setting.notification.toggle"),dataIndex:"active",key:"active",align:"left",width:100,render:function(e,t){return Ge(c.Z,{checked:e,onChange:function(e){return Z(t,e,"switch")},loading:y[t.key]})}},{title:n("crm.tableName"),dataIndex:"table_name",key:"table_name",width:226,align:"left"},{title:Ge("span",null,n("crm.timeDay"),Ge(Ae.Z,{tip:"".concat(n("crm.infoDuplicatePhone"))})),dataIndex:"time",key:"time",width:226,align:"left",editable:!0,render:function(e,t){return y["".concat(t.key,"_time")]?Ge(be.Z,null):e}}].map((function(e){return e.editable?Ye(Ye({},e),{},{onCell:function(t){return{record:t,currentShop:a,editable:!0,dataIndex:e.dataIndex,title:e.title,autoFocus:!0,handleSave:Z}}}):e}));return Ge(p.Z,{title:n("crm.theTimePeriodMarkedWithTheSameHoneNumber"),visible:s,onOk:function(){return N()},confirmLoading:y.modal,onCancel:function(){return i(!1)},className:"crm-modal-setting-duplicate",width:600},Ge("div",{className:"body-setting-duplicated"},Ge(l.Z,{components:{body:{row:Ke.D$,cell:Ke.nK}},rowClassName:function(){return"editable-row"},className:"table-setting row-clickable",dataSource:S,columns:O,pagination:!1,scroll:{y:400}}),Ge("div",{className:"setting-color"},Ge("span",{className:"text-display-duplicate"},n("crm.displayColorForDuplicatePhoneNumbers")),Ge(d.default,{overlayClassName:"popover-color-type",placement:"right",content:Ge("div",{onClick:function(e){return e.stopPropagation()}},Ge(He.AI,{style:{border:"none"},color:w,onChangeComplete:function(e){!function(e){var t,n=(null===e||void 0===e||null===(t=e.hex)||void 0===t?void 0:t.toLowerCase())||"#fff1f9";x(n)}(e)}}))},Ge("div",{className:"show-icon-color",style:{backgroundColor:"".concat(w)}},Ge(qe.Z,{className:"icon"}))))))},Je=L.createElement;function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){(0,k.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,x.Z)(e);if(t){var o=(0,x.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,w.Z)(this,n)}}var at=N.default.Option,ot=[10,14],st=Z.default.Search,it=S.default.TabPane,rt=C.default.Group,ct=C.default.Button,dt=ze.j.map((function(e){return{id:e.id,audioPlay:new Audio(e.src)}})),lt=function(e){(0,b.Z)(n,e);var t=nt(n);function n(e){var a;return(0,_.Z)(this,n),a=t.call(this,e),(0,k.Z)((0,y.Z)(a),"customIdTag",[{key:"{DISPLAY_ID}",des:a.props.t("pages.shop.setting.notification.displayId"),value:"{DISPLAY_ID}"},{key:"{ORDER_ID}",des:a.props.t("components.orderExportExcel.id"),value:"{ORDER_ID}"},{key:"{STRONG_ID}",des:a.props.t("components.orderExportExcel.randomId"),value:"{STRONG_ID}"},{key:"{ORDER_YEAR}",des:a.props.t("components.orderExportExcel.yearOfOrdercreation"),value:"{ORDER_YEAR}"},{key:"{ORDER_MONTH}",des:a.props.t("components.orderExportExcel.monthOfOrderCreation"),value:"{ORDER_MONTH}"},{key:"{ORDER_DAY}",des:a.props.t("components.orderExportExcel.dateOfOrderCreation"),value:"{ORDER_DAY}"},{key:"{CUSTOM_PAGE}",des:a.props.t("components.orderExportExcel.pageNotation"),value:"{CUSTOM_PAGE}"},{key:"{CUSTOM_EMPLOYEE}",des:a.props.t("components.orderExportExcel.employeeNotation"),value:"{CUSTOM_EMPLOYEE}"},{key:"{COUNT}",des:a.props.t("components.orderExportExcel.orderNumberOfTheDay"),value:"{COUNT}"},{key:"{COUNT_0x}",des:a.props.t("components.orderExportExcel.orderNumberOfTheDay"),value:"{COUNT_0x}"},{key:"{COUNT_00x}",des:a.props.t("components.orderExportExcel.orderNumberOfTheDay"),value:"{COUNT_00x}"}]),(0,k.Z)((0,y.Z)(a),"applyShop",(function(e){var t=e.id,n=e.limit_view_order,a=e.add_products_into_cart,o=e.split_return,s=e.currency,i=e.multiple_currency,r=e.fifo_lifo,c=e.use_removed_status,d=e.submit_order_condition,l=e.use_custom_geo_filter,u=e.cancel_product_condition,p=e.block_duplicate_order,g=e.sip_settings,h=e.use_sip,m=e.show_email_order,f=e.notify_when_new_order,_=e.config_weight_product,y=e.negative_order_product,v=e.allow_waitting_order,b=e.country_code,w=e.cost_calculation_method,x=e.status_order_confirm,k=e.use_printed_status,C=e.use_wait_print_status,S=e.show_employee_viewing_orders,Z=e.use_custom_order_id,N=e.custom_order_id,I=e.condition_confirm_order,O=e.condition_create_order,P=e.auto_confirm_when_purchased_amount,T=e.lock_order_system_created,E=e.custom_acronym_page,A=e.custom_acronym_employee,L=e.pages,B=e.period_for_check_duplicate,R=e.on_add_quick_product,D=e.auto_lock_order,M=e.list_status_order_to_lock,U=e.lock_view_order,j=e.not_minus_waitting_quantity,F=e.use_waitting_status,$=e.condition_enter_note_order,z=e.auto_block_customer,V=e.change_retail_price,W=e.change_order_creation_time,q=e.save_order_cod_negative,K=e.auto_confirm_order_returned,H=e.auto_unlock_order,G=e.list_status_order_to_unlock,X=e.tags,Y=e.payments_default,Q=e.scan_barcode_sound_settings,J=e.custom_partners,ee=e.show_return_money_in_orders,te=e.config_inserted_at_by_order_returned,ne=e.auto_merge_customer,ae=e.print_draft_order,oe=e.sound_id_new_order,se=e.not_auto_create_order_transaction,ie=e.inventory_changed_not_create_transaction,re=e.timezone,ce=e.auto_print_new_order,de=e.invoice_tax,le=e.time_edit_at_shop,ue=e.negative_order_by_upcoming_product,pe={shopId:t,limit_view_order:n,add_products_into_cart:a,split_return:o,currency:s,multiple_currency:i,fifo_lifo:r,use_removed_status:c,submit_order_condition:d,use_custom_geo_filter:l,cancel_product_condition:u,block_duplicate_order:p,sip_settings:g,use_sip:h,show_email_order:m,notify_when_new_order:f,config_weight_product:_,negative_order_product:null===y||y,allow_waitting_order:v,country_code:b,cost_calculation_method:w,status_order_confirm:x,use_printed_status:k,use_wait_print_status:C,show_employee_viewing_orders:S,use_custom_order_id:Z,custom_order_id:N,condition_confirm_order:I,condition_create_order:O,auto_confirm_when_purchased_amount:P,lock_order_system_created:T,custom_acronym_page:E,custom_acronym_employee:A,pages:L,period_for_check_duplicate:B,on_add_quick_product:R,auto_lock_order:D,list_status_order_to_lock:M,lock_view_order:U,not_minus_waitting_quantity:j,use_waitting_status:F,condition_enter_note_order:$,auto_block_customer:z,change_retail_price:V,change_order_creation_time:W,save_order_cod_negative:q,auto_confirm_order_returned:K,auto_unlock_order:H,list_status_order_to_unlock:G,tags:X,payments_default:Y,scan_barcode_sound_settings:Q,show_return_money_in_orders:ee,config_inserted_at_by_order_returned:te,auto_merge_customer:ne,print_draft_order:ae,sound_id_new_order:oe,not_auto_create_order_transaction:se,inventory_changed_not_create_transaction:ie,timezone:re,auto_print_new_order:ce,invoice_tax:de,time_edit_at_shop:le,negative_order_by_upcoming_product:null!==ue&&ue,use_price_at_counter:e.use_price_at_counter,can_update_order_when_assigned:e.can_update_order_when_assigned,create_transaction_with_offline_order:e.create_transaction_with_offline_order,create_transaction_when_has_extend_code:e.create_transaction_when_has_extend_code,notice_when_order_change_with_extend_code:e.notice_when_order_change_with_extend_code,limit_cod_value:e.limit_cod_value,confirm_by_order_sources:e.confirm_by_order_sources,use_ordered_status:e.use_ordered_status,percent_order_refunds:e.percent_order_refunds,cod_service_charge:e.cod_service_charge,service_charge_currency:e.service_charge_currency,payment_before_create_order:e.payment_before_create_order,on_add_order_discount:e.on_add_order_discount,no_activate_duplicate_promotions:e.no_activate_duplicate_promotions,condition_order_discount:e.condition_order_discount,transfer_by_remain_quantity:e.transfer_by_remain_quantity,status_lock_transfer:e.status_lock_transfer,create_product_condition:e.create_product_condition,status_lock_purchase:e.status_lock_purchase,status_lock_export:e.status_lock_export,export_by_remain_quantity:e.export_by_remain_quantity,auto_create_not_exist_product:e.auto_create_not_exist_product,check_duplicate_with_removed_order:e.check_duplicate_with_removed_order,use_custom_id_for_barcode:e.use_custom_id_for_barcode,not_create_transactions_with_return_and_cancel_order:e.not_create_transactions_with_return_and_cancel_order,is_duplicate_barcode:e.is_duplicate_barcode,no_return_for_orders_with_promotion:e.no_return_for_orders_with_promotion,settings:e.settings,referral_code_discount:e.referral_code_discount},ge=[];return pe.use_waitting_status&&ge.push("use_waitting_status"),pe.use_printed_status&&ge.push("use_printed_status"),pe.use_wait_print_status&&ge.push("use_wait_print_status"),pe.use_removed_status&&ge.push("use_removed_status"),pe.use_ordered_status&&ge.push("use_ordered_status"),{shopInfo:pe,custom_partners:J,isScanBarcodeSound:!(!Q||"true"!=Q.enabled),listExtraStatus:ge}})),(0,k.Z)((0,y.Z)(a),"scrollToBottom",(function(){var e,t;null===(e=a.messagesEndRef)||void 0===e||null===(t=e.current)||void 0===t||t.scrollIntoView({behavior:"smooth"})})),(0,k.Z)((0,y.Z)(a),"handleCostCalculationMethodChange",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.shopInfo.cost_calculation_method,o=n,e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,{cost_calculation_method:{$set:t}})});case 4:a.sendToBackEnd("cost_calculation_method",null,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleChangeStatusLock",function(){var e=(0,f.Z)(m().mark((function e(t,n,o){var s,i,r,c,d,l,u,p,g,h;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[],s=t.length>0&&t[t.length-1]==n?[n]:t.filter((function(e){return e!=n})),i=a.state.shopInfo,r=i.status_lock_transfer,c=i.status_lock_purchase,d=i.status_lock_export,l=i.create_product_condition,u=i.settings,p=u.create_purchase_condition,g=u.create_export_product_defect_condition,e.t0=o,e.next="status_lock_transfer"===e.t0?6:"status_lock_purchase"===e.t0?8:"status_lock_export"===e.t0?10:"create_product_condition"===e.t0?12:"create_purchase_condition"===e.t0?14:"create_export_product_defect_condition"===e.t0?16:18;break;case 6:return h=r,e.abrupt("break",18);case 8:return h=c,e.abrupt("break",18);case 10:return h=d,e.abrupt("break",18);case 12:return h=l,e.abrupt("break",18);case 14:return h=p,e.abrupt("break",18);case 16:return h=g,e.abrupt("break",18);case 18:if(!["create_purchase_condition","create_export_product_defect_condition"].includes(o)){e.next=25;break}return e.next=22,a.setState({shopInfo:Y()(a.state.shopInfo,{settings:(0,k.Z)({},o,{$set:s})})});case 22:a.sendToBackEnd(o,null,h,null,"settings"),e.next=28;break;case 25:return e.next=27,a.setState({shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},o,{$set:s}))});case 27:a.sendToBackEnd(o,null,h);case 28:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"changeSoundNewOrder",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.shopInfo.sound_id_new_order,o=n,e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,{sound_id_new_order:{$set:t}})});case 4:a.sendToBackEnd("sound_id_new_order",null,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleChangeSwitchSettings",function(){var e=(0,f.Z)(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({shopInfo:Y()(a.state.shopInfo,{settings:(0,k.Z)({},t,{$set:n})})});case 2:a.sendToBackEnd(t,n,null,null,"settings");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleSipChange",(0,f.Z)(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.shopInfo.sip_settings,(n=t?O()(t):{socket:{uri:a.state.sipUri}}).socket.uri=a.state.sipUri,e.next=5,a.setState({shopInfo:Y()(a.state.shopInfo,{sip_settings:{$set:n}}),sipUriModal:!1});case 5:a.sendToBackEnd("sip_settings",null,t);case 6:case"end":return e.stop()}}),e)})))),(0,k.Z)((0,y.Z)(a),"handleAdvanceStatusChange",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.shopInfo[t],o=O()(a.state.listExtraStatus),-1==(s=o.findIndex((function(e){return e==t})))?o.push(t):o.splice(s,1),e.next=6,a.setState({listExtraStatus:o,shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},t,{$set:-1==s}))});case 6:a.sendToBackEnd(t,null,n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleCurrencyChange",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.shopInfo.currency,o=n,e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,{currency:{$set:t}})});case 4:a.sendToBackEnd("currency",null,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleFifoLifoChange",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.shopInfo.fifo_lifo,o=n,e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,{fifo_lifo:{$set:t}})});case 4:a.sendToBackEnd("fifo_lifo",null,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleAlertOrderRefunds",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.shopInfo.percent_order_refunds,o=n,e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,{percent_order_refunds:{$set:t}})});case 4:a.sendToBackEnd("percent_order_refunds",null,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleChangeInsertedAtOrderReturned",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.shopInfo.config_inserted_at_by_order_returned,o=n,e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,{config_inserted_at_by_order_returned:{$set:t}})});case 4:a.sendToBackEnd("config_inserted_at_by_order_returned",null,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"onAssignedUserChange",(function(e){return function(t){var n=a.props,o=n.shopId,s=n.accessToken;(0,n.updateUser)(s,o,t,{is_assigned:e})}})),(0,k.Z)((0,y.Z)(a),"onAssignedUserBreakTimeChange",(function(e){return function(t){var n=a.props,o=n.shopId,s=n.accessToken;(0,n.updateUser)(s,o,t,{is_assigned_break_time:e})}})),(0,k.Z)((0,y.Z)(a),"handleSelectCountryChange",(function(e){return function(){var t=(0,f.Z)(m().mark((function t(n){var o,s,i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="country_code",a.state.shopInfo[o]||(a.state.shopInfo[o]=[]),s=a.state.shopInfo[o],!e){t.next=8;break}return t.next=6,a.setState({shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},o,{$push:[n]}))});case 6:t.next=11;break;case 8:return i=s.findIndex((function(e){return e==n})),t.next=11,a.setState({shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},o,{$splice:[[i,1]]}))});case 11:a.sendToBackEnd(o,null,s);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),(0,k.Z)((0,y.Z)(a),"setModalVisible",(function(e){a.setState({modalVisible:e})})),(0,k.Z)((0,y.Z)(a),"changeTypeShop",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.props,o=n.currentShop,s=n.accessToken,(0,n.updateShopType)(s,o,t).then((function(){le.default.replace("/dashboard")}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleSelectStatusConfirm",(function(e){return function(){var t=(0,f.Z)(m().mark((function t(n){var o,s,i;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o="status_order_confirm",a.state.shopInfo[o]||(a.state.shopInfo[o]=[]),s=a.state.shopInfo[o],!e){t.next=8;break}return t.next=6,a.setState({shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},o,{$push:[n]}))});case 6:t.next=11;break;case 8:return i=s.findIndex((function(e){return e==n})),t.next=11,a.setState({shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},o,{$splice:[[i,1]]}))});case 11:a.sendToBackEnd(o,null,s);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),(0,k.Z)((0,y.Z)(a),"onChangeConditionConfirm",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||[],o=a.state.shopInfo.condition_confirm_order,e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,{condition_confirm_order:{$set:n}})});case 4:a.sendToBackEnd("condition_confirm_order",null,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"onChangePaymentsDefault",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||[],o=a.state.shopInfo.payments_default,e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,{payments_default:{$set:n}})});case 4:a.sendToBackEnd("payments_default",null,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"onChangeConditionCreate",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||[],o=a.state.shopInfo.condition_create_order,e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,{condition_create_order:{$set:n}})});case 4:a.sendToBackEnd("condition_create_order",null,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleSelectStatusNote",(function(e,t){return function(){var n=(0,f.Z)(m().mark((function n(o){var s,i;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.state.shopInfo[t]||(a.state.shopInfo[t]=[]),s=a.state.shopInfo[t],!e){n.next=12;break}if("condition_order_discount"!=t||"all"!=o){n.next=8;break}return n.next=6,a.setState({shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},t,{$set:[]}))});case 6:n.next=10;break;case 8:return n.next=10,a.setState({shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},t,{$push:[o]}))});case 10:n.next=15;break;case 12:return i=s.findIndex((function(e){return e==o})),n.next=15,a.setState({shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},t,{$splice:[[i,1]]}))});case 15:a.sendToBackEnd(t,null,s);case 16:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),(0,k.Z)((0,y.Z)(a),"handerStatusNote",(function(){var e=a.props.t;return Je(N.default,{mode:"multiple",placeholder:e("pages.shop.setting.chooseStatus"),value:a.state.shopInfo.condition_enter_note_order||[],onSelect:a.handleSelectStatusNote(!0,"condition_enter_note_order"),onDeselect:a.handleSelectStatusNote(!1,"condition_enter_note_order"),style:{width:250}},Je(at,{key:"5",value:5},e("tool.returned")),Je(at,{key:"6",value:6},e("components.orderActionButton.cancel")),Je(at,{key:"7",value:7},e("components.orderActionButton.removed")))})),(0,k.Z)((0,y.Z)(a),"handeTypeOrder",(function(){var e=a.props.t,t=a.state.shopInfo.condition_order_discount,n=(null===t||void 0===t?void 0:t.length)>0?t:["all"];return Je(N.default,{mode:"multiple",value:n,onSelect:a.handleSelectStatusNote(!0,"condition_order_discount"),onDeselect:a.handleSelectStatusNote(!1,"condition_order_discount"),style:{width:250}},Je(at,{key:"all",value:"all"},e("commons.all")),Je(at,{key:"received_at_shop",value:"received_at_shop"},e("orders.inStore")),Je(at,{key:"online",value:"online"},"Online"))})),(0,k.Z)((0,y.Z)(a),"onChangeUseCustomOrderId",function(){var e=(0,f.Z)(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.shopInfo.use_custom_order_id,e.next=3,a.setState({shopInfo:Y()(a.state.shopInfo,{use_custom_order_id:{$set:t}})});case 3:a.sendToBackEnd("use_custom_order_id",null,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"onCustomIdClick",(function(e){var t=a.state.shopInfo.custom_order_id?a.state.shopInfo.custom_order_id+e:e;a.setState({shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},"custom_order_id",{$set:t}))})})),(0,k.Z)((0,y.Z)(a),"onChangeInputCustom",(function(e){a.setState({shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},"custom_order_id",{$set:e}))})})),(0,k.Z)((0,y.Z)(a),"handleChangeNegativeOrderProduct",function(){var e=(0,f.Z)(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.state.listExtraStatus,n){e.next=6;break}return e.next=4,a.handleChangeSwitch("use_waitting_status",!1);case 4:return e.next=6,a.handleChangeSwitch("negative_order_by_upcoming_product",!1);case 6:a.handleChangeSwitch("negative_order_product",n);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleServiceChargeCurrencyChange",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.shopInfo.service_charge_currency,o=n,t=t||[],e.next=5,a.setState({shopInfo:Y()(a.state.shopInfo,{service_charge_currency:{$set:t}})});case 5:a.sendToBackEnd("service_charge_currency",null,o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"renderServiceChargeCurrency",(function(){var e=a.props.t,t=a.state.shopInfo.service_charge_currency;return Je(N.default,{showSearch:!0,mode:"multiple",placeholder:e("pages.shop.setting.unit"),value:t||[],style:{width:250},filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},onChange:a.handleServiceChargeCurrencyChange},T()(se.XDq,(function(e,t){return Je(at,{value:t,key:t},t)})))})),(0,k.Z)((0,y.Z)(a),"onChangeStatusOrderToLock",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||[],o=a.state.shopInfo.list_status_order_to_lock,e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,{list_status_order_to_lock:{$set:n}})});case 4:a.sendToBackEnd("list_status_order_to_lock",null,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"renderStatusLockOrder",(function(){var e=a.props.t,t=a.state.shopInfo.list_status_order_to_lock;return Je(N.default,{style:{width:150},mode:"multiple",size:"default",placeholder:e("pages.shop.setting.selectStatus"),value:t||[],onChange:function(e){return a.onChangeStatusOrderToLock(e)}},(0,se.UFU)().filter((function(e){return!ot.includes(e.id)})).map((function(e){return Je(at,{key:e.id,value:e.id},e.label)})))})),(0,k.Z)((0,y.Z)(a),"onChangeStatusOrderToUnlock",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||[],o=a.state.shopInfo.list_status_order_to_unlock,e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,{list_status_order_to_unlock:{$set:n}})});case 4:a.sendToBackEnd("list_status_order_to_unlock",null,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"renderStatusUnlockOrder",(function(){var e=a.props.t,t=a.state.shopInfo.list_status_order_to_unlock;return Je(N.default,{style:{width:150},mode:"multiple",size:"default",placeholder:e("pages.shop.setting.selectStatus"),value:t||[],onChange:function(e){return a.onChangeStatusOrderToUnlock(e)}},(0,se.UFU)().filter((function(e){return!ot.includes(e.id)})).map((function(e){return Je(at,{key:e.id,value:e.id},e.label)})))})),(0,k.Z)((0,y.Z)(a),"renderChangeType",(function(){var e=a.props.t;return Je("li",{className:"setting-option"},Je("div",{className:"span-item"},Je("span",null,e("pages.shop.setting.changeStoreType")," ",Je(Ae.Z,{tip:e("pages.shop.setting.noteStoreType")}))),Je(g.default,{danger:!0,onClick:function(){return a.setState({modalVisible:!0})},style:{width:152}},e("pages.shop.setting.change")))})),(0,k.Z)((0,y.Z)(a),"renderChangeCurrency",(function(){var e=a.props.t;return Je("li",{className:"setting-option"},Je("span",{className:"span-item"},e("pages.shop.setting.defaultCurency")),Je(N.default,{showSearch:!0,onChange:a.handleCurrencyChange,value:a.state.shopInfo.currency||void 0,placeholder:e("pages.shop.setting.unit"),style:{width:152},optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},T()(se.XDq,(function(e,t){return Je(at,{value:t,key:t},t)}))))})),(0,k.Z)((0,y.Z)(a),"handleSaveConvertCurrency",(0,f.Z)(m().mark((function e(){var t,n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.shopInfo.multiple_currency,n=(t||[]).filter((function(e){return e.currency!=a.props.currentShop.currency&&e.currency})),e.next=4,a.setState({isVisibleSettingCurrency:!1,shopInfo:Y()(a.state.shopInfo,{multiple_currency:{$set:n}})});case 4:a.sendToBackEnd("multiple_currency",null,n);case 5:case"end":return e.stop()}}),e)})))),(0,k.Z)((0,y.Z)(a),"renderSettingConvertRate",(function(){var e=a.props.t,t=a.state.isVisibleSettingCurrency;return Je(p.Z,{title:e("pages.shop.setting.extendCurency"),width:800,visible:t,onOk:function(){return a.handleSaveConvertCurrency()},cancelText:e("cancel"),onCancel:function(){return a.setState({isVisibleSettingCurrency:!1})}},a.renderTableConvertRate())})),(0,k.Z)((0,y.Z)(a),"dataSourceConvertCurrency",(function(){var e=a.props,t=e.t,n=e.currentShop,o=a.state.shopInfo.multiple_currency||[],s=o.map((function(e){return e.currency})).filter((function(e){return!!e})),i=T()(se.XDq,(function(e,t){return t})).filter((function(e){return!s.includes(e)&&e!=n.currency}));return o.map((function(e,n){return{key:n,currency:Je(N.default,{showSearch:!0,allowClear:!0,onChange:function(e){return a.changeDataConvertCurrency(e,"currency",n,o)},value:e.currency,placeholder:t("pages.shop.setting.unit"),style:{width:200},optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},i.map((function(e){return Je(at,{value:e,key:e},e)}))),rate:Je(u.Z,{style:{width:250},value:e.rate,onChange:function(e){return a.changeDataConvertCurrency(e,"rate",n,o)}}),delete:Je(g.default,{danger:!0,icon:Je(B.Z,null),style:{marginLeft:8},onClick:function(){return a.handleDeleteLineInTable(n,o)}})}}))})),(0,k.Z)((0,y.Z)(a),"changeDataConvertCurrency",(function(e,t,n,o){var s=O()(o);s[n][t]=e,a.setState({shopInfo:Y()(a.state.shopInfo,{multiple_currency:{$set:s}})})})),(0,k.Z)((0,y.Z)(a),"handleDeleteLineInTable",(function(e,t){var n=O()(t);n.splice(e,1),a.setState({shopInfo:Y()(a.state.shopInfo,{multiple_currency:{$set:n}})})})),(0,k.Z)((0,y.Z)(a),"handleAddSettingPages",(function(){var e=O()(a.state.shopInfo.multiple_currency);e.push({currency:void 0,rate:null}),a.setState({shopInfo:Y()(a.state.shopInfo,{multiple_currency:{$set:e}})})})),(0,k.Z)((0,y.Z)(a),"renderTableConvertRate",(function(){var e=a.props,t=e.t,n=e.currentShop,o=[{title:t("pages.shop.setting.unit"),dataIndex:"currency",width:"30%",align:"center"},{title:"".concat(t("pages.shop.setting.convertRate")," ").concat(n.currency," (").concat(t("pages.shop.setting.convertRateEx"),": 1 ").concat(t("pages.shop.setting.unit")," = X ").concat(n.currency,")"),dataIndex:"rate",width:"60%",align:"center"},{title:"",dataIndex:"delete",width:"10%",align:"center"}];return Je("div",{className:"configure-additinal-partner",style:{marginTop:10}},Je("div",{className:"add-partner"},Je(g.default,{type:"primary",icon:Je(R.Z,null),onClick:function(){return a.handleAddSettingPages()}},t("components.orderExportExcel.add"))),Je(l.Z,{className:"table-commission",columns:o,size:"small",dataSource:a.dataSourceConvertCurrency(),pagination:!1,scroll:{y:500}}))})),(0,k.Z)((0,y.Z)(a),"handleTimezoneChange",function(){var e=(0,f.Z)(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.shopInfo.timezone,e.next=3,a.setState({shopInfo:Y()(a.state.shopInfo,{timezone:{$set:t}})});case 3:a.sendToBackEnd("timezone",null,n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"renderSelectStatusLock",(function(e,t,n,o){var s=a.props.t;return Je(N.default,{style:{width:300},onChange:function(e){return a.handleChangeStatusLock(e,n,o)},mode:"multiple",value:e||[],placeholder:s("create_product_condition"==o?"pages.shop.setting.selectCondition":"pages.shop.setting.selectStatus")},Je(at,{value:n},s("commons.all")),t.map((function(e){return Je(at,{key:e,value:e.key},e.status)})))})),(0,k.Z)((0,y.Z)(a),"getListStatusLock",(function(e,t,n,o){var s=a.props.t;return Je("div",null,"status_lock_export"==o&&Je(S.default,{size:"small",defaultActiveKey:"exportProduct",onChange:function(e){return a.setState({typeLockExport:e})}},Je(it,{tab:s("pages.shop.product.export.export"),key:"exportProduct"},a.renderSelectStatusLock(e,t,n,o)),Je(it,{tab:s("containers.formBox.exportDefectiveProduct"),key:"exportProductDefect"},a.renderSelectStatusLock(e,t,n,o))),"status_lock_export"!=o&&a.renderSelectStatusLock(e,t,n,o))})),(0,k.Z)((0,y.Z)(a),"renderStatusLock",(function(e,t,n,o,s){var i=a.props.t,r=["create_product_condition","create_purchase_condition","create_export_product_defect_condition"];return Je("li",{className:"setting-option"},Je("span",{style:{width:"calc(100% - 200px)"}},e),Je(d.default,{trigger:"click",content:a.getListStatusLock(t,n,o,s)},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},t?t.includes(o)?i("commons.all"):"".concat(t.length," ").concat(r.includes(s)?i("pages.shop.setting.condition"):i("pages.shop.setting.status")):"0 ".concat(r.includes(s)?i("pages.shop.setting.condition"):i("pages.shop.setting.status"))),Je("span",{className:"icon-setting"},Je(D.Z,null)))))})),(0,k.Z)((0,y.Z)(a),"renderProductConfiguration",(function(){var e=a.props,t=e.t,n=e.currentShop,o=a.state,s=o.shopInfo,i=o.typeLockExport,r=s.negative_order_product,d=s.use_waitting_status,l=s.allow_waitting_order,u=s.not_minus_waitting_quantity,p=s.negative_order_by_upcoming_product,g=s.config_weight_product,h=s.inventory_changed_not_create_transaction,m=s.no_activate_duplicate_promotions,f=s.transfer_by_remain_quantity,_=s.export_by_remain_quantity,v=s.auto_create_not_exist_product,b=s.cost_calculation_method,w=s.fifo_lifo,x=s.cancel_product_condition,k=s.use_custom_id_for_barcode,C=s.is_duplicate_barcode,S=s.status_lock_transfer,Z=s.create_product_condition,I=s.status_lock_purchase,O=s.status_lock_export,P=s.settings,T=s.settings,E=T.create_purchase_condition,A=T.warning_product_quantity_other_zero,L=T.create_export_product_defect_condition;return Je("div",{className:"setting-box"},Je("div",{className:"setting-title"},t("pages.shop.setting.productConfiguration").toUpperCase()),Je("div",{className:"setting-card-body"},Je("ul",null,Je("li",null,Je(c.Z,{onChange:a.handleChangeNegativeOrderProduct.bind((0,y.Z)(a),"negative_order_product"),checked:r,className:"switch-setting-custom"}),Je("span",{className:"setting-item"},t("pages.shop.setting.negativeProduct"))),r&&Je("ul",null,Je("li",{className:"setting-option-children setting-option-children-small setting-option-children-no-border"},Je(c.Z,{size:"small",disabled:!r,onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"use_waitting_status"),checked:d}),Je("div",{className:"setting-item-children"},Je("span",null,t("pages.shop.setting.useWaittingStatus")),Je("span",{className:"status-label"},t("tool.waitting")))),Je("li",{className:"setting-option-children setting-option-children-small setting-option-children-no-border"},Je(c.Z,{size:"small",disabled:!d,onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"allow_waitting_order"),checked:l}),Je("div",{className:"setting-item-children"},Je("span",null,t("pages.shop.setting.allowWaittingOrder")),Je("span",{className:"status-label"},t("tool.waitting")))),Je("li",{className:"setting-option-children setting-option-children-small setting-option-children-no-border"},Je(c.Z,{size:"small",disabled:!d,onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"not_minus_waitting_quantity"),checked:u}),Je("div",{className:"setting-item-children"},Je("span",null,t("pages.shop.setting.notReduce")),Je("span",{className:"status-label",style:{background:"#27AE60",borderColor:"#27AE60"}},t("pages.shop.setting.canSell")),Je("span",null,t("pages.shop.setting.withOrders")),Je("span",{className:"status-label"},t("tool.waitting")))),Je("li",{className:"setting-option-children setting-option-children-small setting-option-children-border"},Je(c.Z,{size:"small",disabled:!r,onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"negative_order_by_upcoming_product"),checked:p}),Je("span",{className:"setting-item-children"},t("pages.shop.setting.negativeOrderByUpcoming")))),Je("li",null,Je(c.Z,{onChange:function(e){return a.handleChangeSettings("negative_actual",e)},checked:P.negative_actual,className:"switch-setting-custom"}),Je("span",{className:"setting-item"},t("pages.shop.setting.negativeActual"))),Je("li",null,Je(c.Z,{onChange:function(e){return a.handleChangeSettings("not_minus_remain_quantity",e)},checked:P.not_minus_remain_quantity}),Je("div",{className:"setting-item"},Je("div",{className:"setting-item-children"},Je("span",null,t("pages.shop.setting.notReduce")),Je("span",{className:"status-label",style:{background:"#27AE60",borderColor:"#27AE60"}},t("pages.shop.setting.canSell")),Je("span",null,t("pages.shop.setting.withOrders")),Je("span",{className:"status-label",style:{background:"rgb(0, 162, 174)",borderColor:"rgb(0, 162, 174)"}},t("tool.new"))))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"config_weight_product"),checked:g}),Je("span",{className:"setting-item"},t("pages.shop.setting.configWeightProduct"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"inventory_changed_not_create_transaction"),checked:h}),Je("span",{className:"setting-item"},t("pages.shop.setting.notCreateTransactionWhenChangedInventory"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"no_activate_duplicate_promotions"),checked:m}),Je("span",{className:"setting-item"},t("pages.shop.setting.noActivateDuplicatePromotions"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:function(e){return a.handleChangeSettings("only_active_one_promotion",e)},checked:P.only_active_one_promotion}),Je("span",{className:"setting-item"},t("pages.shop.setting.onlyActiveOnePromotion"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"export_by_remain_quantity"),checked:_}),Je("span",{className:"setting-item"},t("pages.shop.setting.exportByRemainQuantity"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"auto_create_not_exist_product"),checked:v}),Je("span",{className:"setting-item"},t("pages.shop.setting.autoCreateNotExistProduct")," ",Je(Ae.Z,{tip:t("pages.shop.setting.textautoCreateNotExistProduct")}))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"use_custom_id_for_barcode"),checked:k}),Je("span",{className:"setting-item"},t("pages.shop.setting.useCustomIdForBarcode"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"is_duplicate_barcode"),checked:C}),Je("span",{className:"setting-item"},t("pages.shop.setting.checkDuplicateBarcode"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"transfer_by_remain_quantity"),checked:f}),Je("span",{className:"setting-item"},t("pages.shop.setting.transferByRemainQuantity"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:function(e){return a.handleChangeSettings("warning_product_quantity_other_zero",e)},checked:A}),Je("span",{className:"setting-item"},t("pages.shop.setting.warningProductQuantityOtherZero"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"cancel_product_condition"),checked:x}),Je("span",{className:"setting-item"},t("pages.shop.setting.enterNoteWhenDeleteItems"))),a.renderStatusLock(t("pages.shop.setting.configConditionCreateProduct"),Z,(0,se.OPZ)(t),-1,"create_product_condition"),a.renderStatusLock(t("pages.shop.setting.configConditionCreatePurchase"),E,(0,se.qF4)(t),-1,"create_purchase_condition"),a.renderStatusLock(t("pages.shop.setting.conditionCreateExportProductDefect"),L,(0,se.hSs)(t),"all","create_export_product_defect_condition"),a.renderStatusLock(t("pages.shop.setting.lockedWarehouseTransferStatus"),S,(0,se.JJu)(t),-1,"status_lock_transfer"),a.renderStatusLock(t("pages.shop.setting.lockedPurchaseStatus"),I,(0,se._xh)(t),-2,"status_lock_purchase"),a.renderStatusLock(t("pages.shop.setting.lockedExportStatus"),O,"exportProduct"==i?(0,se.MuF)(t):(0,se.aXX)(t),-1,"status_lock_export"),Je("li",{className:"setting-option"},Je("span",{style:{width:"calc(100% - 269px)"}},t("pages.shop.setting.costCalculationMethod")),Je(N.default,{onChange:a.handleCostCalculationMethodChange,placeholder:t("pages.shop.setting.costCalculationMethod"),value:"".concat(b)||void 0,dropdownMatchSelectWidth:!1,style:{width:300}},Je(at,{value:"0"},t("pages.shop.setting.useEachEntryPrice")),Je(at,{value:"1"},t("pages.shop.setting.useAveragePriceOfEntries")),Je(at,{value:"2"},t("pages.shop.setting.useFixedEndPrice")))),2!=n.type?Je("li",{className:"setting-option"},Je("span",{style:{width:"calc(100% - 269px)"}},t("pages.shop.setting.exportType")),Je(N.default,{onChange:a.handleFifoLifoChange,style:{width:300},value:w||void 0},Je(at,{value:"lifo"},"LIFO ",t("pages.shop.setting.LIFO")),Je(at,{value:"fifo"},"FIFO ",t("pages.shop.setting.FIFO")))):null,Je("li",null,Je("span",{style:{width:"calc(100% - 269px)"}},t("pages.shop.setting.configuringSellingStatus"))),Je("li",{className:"setting-option-children setting-option-children-small setting-option-children-no-border"},Je("span",{style:{width:"calc(100% - 152px)"}},t("pages.shop.setting.sellingStatusRange")),Je(ue.default,{style:{width:152},isMoney:!1,min:0,currency:n.currency,suffix:"d",value:P.selling_status_range,callBack:function(e){return a.handleChangeSettings("selling_status_range",e)}})),Je("li",{className:"setting-option-children setting-option-children-small setting-option-children-no-border"},Je("span",{style:{width:"calc(100% - 152px)"}},t("pages.shop.setting.sellingStatusTestRange")),Je(ue.default,{style:{width:152},isMoney:!1,min:0,currency:n.currency,suffix:"d",value:P.selling_status_test_range,callBack:function(e){return a.handleChangeSettings("selling_status_test_range",e)}})),Je("li",{className:"setting-option-children setting-option-children-small setting-option-children-no-border"},Je("span",{style:{width:"calc(100% - 152px)"}},t("pages.shop.setting.sellingBadQuantity")),Je(ue.default,{style:{width:152},isMoney:!1,min:0,currency:n.currency,isPercent:!0,decimal:!0,value:P.selling_bad_quantity,callBack:function(e){return a.handleChangeSettings("selling_bad_quantity",e)}})),Je("li",{className:"setting-option-children setting-option-children-small setting-option-children-no-border"},Je("span",{style:{width:"calc(100% - 152px)"}},t("pages.shop.setting.sellingStarQuantity")),Je(ue.default,{style:{width:152},isMoney:!1,min:0,currency:n.currency,isPercent:!0,decimal:!0,value:P.selling_star_quantity,callBack:function(e){return a.handleChangeSettings("selling_star_quantity",e)}})),Je("li",{className:"setting-option-children setting-option-children-small setting-option-children-no-border"},Je("span",{style:{width:"calc(100% - 152px)"}},t("pages.shop.setting.purchaseWarnRange")),Je(ue.default,{style:{width:152},isMoney:!1,min:0,currency:n.currency,suffix:"d",value:P.purchase_warn_range,callBack:function(e){return a.handleChangeSettings("purchase_warn_range",e)}})),Je("li",{className:"setting-option-children setting-option-children-small setting-option-children-no-border"},Je(c.Z,{size:"small",className:"switch-setting-custom",onChange:a.handleChangeSwitchSettings.bind((0,y.Z)(a),"auto_lock_product"),checked:P.auto_lock_product}),Je("span",{className:"setting-item"},t("pages.shop.setting.autoLockProduct"))))))})),(0,k.Z)((0,y.Z)(a),"onChangeReferralCodeDiscount",function(){var e=(0,f.Z)(m().mark((function e(t,n){var o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.state.shopInfo.referral_code_discount,e.next=3,a.setState({shopInfo:Y()(a.state.shopInfo,{referral_code_discount:(0,k.Z)({},n,{$set:t})})});case 3:a.sendToBackEnd("referral_code_discount",null,o);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"debounceReferralCodeDiscount",A()((function(e,t){return a.onChangeReferralCodeDiscount(e,t)}),800)),(0,k.Z)((0,y.Z)(a),"setupReferralCode",(function(){var e=a.props,t=(e.t,e.currentShop),n=a.state.shopInfo.referral_code_discount,o=!n||n.is_percent;return Je("div",{style:{display:"flex",alignItems:"center"}},Je(ue.default,{style:{width:152},min:0,value:n.discount||0,callBack:function(e){return a.debounceReferralCodeDiscount(e,"discount")},isMoney:!o,currency:t.currency}),Je(rt,{style:{display:"flex",marginLeft:3},value:o,onChange:function(e){return a.onChangeReferralCodeDiscount(e.target.value,"is_percent")}},Je(ct,{style:{minWidth:20,height:31,lineHeight:"30px",padding:"0px 8px",borderRadius:"4px 0px 0px 4px"},value:!0},"%"),Je(ct,{style:{minWidth:20,height:31,lineHeight:"30px",padding:"0px 8px",borderRadius:"0px 4px 4px 0px"},value:!1},(0,se.jKf)(t.currency))))})),(0,k.Z)((0,y.Z)(a),"handleChangeBlockOrder",function(){var e=(0,f.Z)(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("block"==t){e.next=6;break}return e.next=3,a.handleChangeSwitch("block_duplicate_order",!1);case 3:a.handleChangeSettings("configuration_duplicate_orders",t),e.next=7;break;case 6:a.handleChangeSwitch("block_duplicate_order",!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"renderCustomerConfiguration",(function(){var e=a.props.t,t=a.state.shopInfo,n=t.auto_merge_customer,o=t.auto_block_customer,s=t.block_duplicate_order,i=t.auto_confirm_when_purchased_amount,r=t.show_email_order,l=t.period_for_check_duplicate,p=t.percent_order_refunds,h=t.check_duplicate_with_removed_order,m=t.referral_code_discount,f=t.settings;return Je("div",{className:"setting-box"},Je("div",{className:"setting-title"},e("pages.shop.setting.customerConfiguration").toUpperCase()),Je("div",{className:"setting-card-body"},Je("ul",null,Je("li",{className:"setting-option",id:"period",onMouseEnter:function(e){var t=document.getElementById(e.target.id);t&&t.classList.add("period-hover")},onMouseLeave:function(e){var t=document.getElementById(e.target.id);t&&t.classList.remove("period-hover")}},Je("div",{className:l?"span-item":"",style:{display:"flex",alignItems:"center"}},Je(c.Z,{className:"switch-setting-custom",checked:l,onChange:function(e){e?a.handleChangeSetting("period_for_check_duplicate",3):a.handleChangeSetting("period_for_check_duplicate",null)}}),Je("span",{className:"setting-item"},e("pages.shop.setting.periodForCheckDuplicate"))),l&&Je("div",{className:"section-period"},Je(u.Z,{style:{width:152},min:1,value:l,onChange:function(e){return a.debounceChangeSetting("period_for_check_duplicate",e)}}))),l&&Je("li",{className:"setting-option-children setting-option-children-border setting-option-children-small"},Je(c.Z,{size:"small",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"check_duplicate_with_removed_order"),checked:h}),Je("span",{className:"setting-item-children"},e("pages.shop.setting.checkDuplicateWithRemovedOrder"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"auto_block_customer"),checked:o}),Je("span",{className:"setting-item"},e("pages.shop.setting.setUpAutoBlockCustomer"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"auto_merge_customer"),checked:n}),Je("span",{className:"setting-item"},e("systemLogs.shops.auto_merge_customer"))),Je("li",{className:"setting-option"},Je("span",{className:"span-item"},e("pages.shop.setting.dupplicatedOrder")," ",Je(Ae.Z,{tip:e("pages.shop.setting.tipBlockDuplicatePhone")})),Je(N.default,{value:s?"block":f.configuration_duplicate_orders,onChange:a.handleChangeBlockOrder,style:{width:152},dropdownMatchSelectWidth:!1},["block","warn","allow"].map((function(t){return Je(at,{value:t},e("pages.shop.setting.".concat(t)))})))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"auto_confirm_when_purchased_amount"),checked:i}),Je("span",{className:"setting-item"},e("pages.shop.setting.autoConfirmOrderWhenPurchasedAmount"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"show_email_order"),checked:r}),Je("span",{className:"setting-item"},e("pages.shop.setting.emailRequired"))),Je("li",{className:"setting-option"},Je("div",{style:{display:"flex",alignItems:"center"},className:m?"":"span-item"},Je(c.Z,{onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"referral_code_discount"),checked:null===m||void 0===m?void 0:m.active}),Je("span",{className:"setting-item"},e("pages.shop.setting.referralCodeDiscount"))),(null===m||void 0===m?void 0:m.active)&&Je(d.default,{trigger:"click",content:a.setupReferralCode()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},e("settings.title")),Je("span",{className:"icon-setting"},Je(D.Z,null))))),Je("li",{className:"setting-option"},Je("span",{className:"span-item"},e("pages.shop.setting.alertOrderRefunds")),Je(N.default,{value:p,onChange:a.handleAlertOrderRefunds,style:{width:152}},Je(at,{value:0},e("pages.shop.setting.off")),Je(at,{value:20},">"," 20%"),Je(at,{value:30},">"," 30%"),Je(at,{value:40},">"," 40%"),Je(at,{value:50},">"," 50%"))))))})),(0,k.Z)((0,y.Z)(a),"renderGeneralConfiguration",(function(){var e=a.props,t=e.t,n=e.currentShop,o=a.state.shopInfo,s=o.country_code,i=o.timezone,r=o.show_email_order,l=n.type;return Je("div",{className:"setting-box"},Je("div",{className:"setting-title"},t("pages.shop.setting.generalConfiguration").toUpperCase()),Je("div",{className:"setting-card-body"},Je("ul",null,2==l&&Je("li",{className:"setting-option"},Je("span",null,t("pages.shop.setting.emailRequired")),Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"show_email_order"),checked:r})),a.renderChangeCurrency(),Je("li",{className:"setting-option"},Je("span",{className:"span-item"},t("pages.shop.setting.extendCurency")),Je(g.default,{className:"setting-button",onClick:function(){return a.setState({isVisibleSettingCurrency:!0})}},Je("span",{className:"setting-button-title"},t("settings.title")),Je("span",{className:"icon-setting"},Je(D.Z,null)))),Je("li",{className:"setting-option"},Je("span",{className:"span-item"},Je(M.Z,null)," ",t("pages.shop.setting.selectCountryOfBusiness")),Je(d.default,{trigger:"click",content:a.getListCountry()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},s?s.length:0," ",t("pages.shop.setting.selectedCountry")),Je("span",{className:"icon-setting"},Je(U.Z,null))))),Je("li",{className:"setting-option"},Je("span",{className:"span-item"},Je(j.Z,null)," ",t("pages.account.timezone")),Je(N.default,{style:{width:152},value:i,onChange:a.handleTimezoneChange},se.fCx.map((function(e){return Je(at,{key:e.value,value:e.value},e.label)})))),Je("li",{className:"setting-option"},Je("div",{className:"span-item"},Je("span",null,t("pages.shop.setting.addStatus"),Je(Ae.Z,{tip:Je("span",{dangerouslySetInnerHTML:{__html:" 1.  ".concat(t("components.orderActionButton.removed"),": ").concat(t("pages.shop.setting.noteDeleteOrder"),"   <br /><span/><br />\n                                2.  ").concat(t("components.orderActionButton.waitting"),": ").concat(t("pages.shop.setting.noteWaittingOrder"),"\n                              ")}})}))),Je(d.default,{trigger:"click",content:a.handleStatusExtra()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},a.state.listExtraStatus?a.state.listExtraStatus.length:0," ",t("pages.shop.setting.selectedStatusConfirm")),Je("span",{className:"icon-setting"},Je(D.Z,null))))),3!=l&&Je("li",{className:"setting-option"},Je("span",{className:"span-item"},Je(F.Z,null)," ",t("pages.shop.setting.selectShops")),Je(g.default,{className:"setting-button",onClick:function(){return a.setState({isVisibleCloneShop:!0})}},Je("span",{className:"setting-button-title"},t("pages.shop.setting.selectedShop")),Je("span",{className:"icon-setting"},Je(D.Z,null)))),a.renderChangeType())),a.state.isVisibleSettingCurrency&&a.renderSettingConvertRate())})),(0,k.Z)((0,y.Z)(a),"renderSelectCountryOfBusiness",(function(e){var t=a.props.t,n=a.state.shopInfo.timezone;return Je("div",{className:"setting-box"},Je("div",{className:"setting-title"},t("pages.shop.setting.multinationalConfiguration").toUpperCase()),Je("div",{className:"setting-card-body"},Je("ul",null,Je("li",{className:"setting-option"},Je("span",null,Je(M.Z,null)," ",t("pages.shop.setting.selectCountryOfBusiness")),Je(d.default,{trigger:"click",content:a.getListCountry()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},e?e.length:0," ",t("pages.shop.setting.selectedCountry")),Je("span",{className:"icon-setting"},Je(U.Z,null))))),Je("li",{className:"setting-option"},Je("span",null,Je(j.Z,null)," ",t("pages.account.timezone")),Je(N.default,{style:{width:152},value:n,onChange:a.handleTimezoneChange},se.fCx.map((function(e){return Je(at,{key:e.value,value:e.value},e.label)})))))))})),(0,k.Z)((0,y.Z)(a),"handleConfigShopChange",(function(e){var t=a.props,n=t.accessToken,o=t.currentShop,s=t.t,i="".concat((0,se.LpH)(),"/shops/").concat(o.id,"/copy_configuration_shop?access_token=").concat(n);G().post(i,{value:e}).then((function(e){e.data.success?(J.Z.success(s("pages.shop.setting.configurationWasSuccess")),a.setState({copyValue:void 0,destinyShop:void 0})):J.Z.error(s("error"),s("pages.shop.setting.tryAgainLater"))}))})),(0,k.Z)((0,y.Z)(a),"getValueCustomPage",(function(e){var t="",n=a.state.customPage;if(n&&n.length>0){var o=n.find((function(t){return t.id==e}));o&&(t=o.value)}return t})),(0,k.Z)((0,y.Z)(a),"changeCustomPage",(function(e,t,n,o,s){var i=a.state,r=i.customPage,c=i.customEmployee,d={id:t,value:n};if("pages"==s)if(o){var l=O()(r);l.splice(e,1),a.setState({customPage:l})}else a.setState({customPage:Y()(r,(0,k.Z)({},e,{$set:d}))});else if(o){var u=O()(c);u.splice(e,1),a.setState({customEmployee:u})}else a.setState({customEmployee:Y()(c,(0,k.Z)({},e,{$set:d}))})})),(0,k.Z)((0,y.Z)(a),"onSaveCustomPage",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o,s,i,r,c;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,o=n.shopInfo,s=n.customPage,i=n.customEmployee,r=o[t],c=!1,"custom_acronym_page"==t&&s.map((function(e){e.id&&e.value||(c=!0)})),"custom_acronym_employee"==t&&i.map((function(e){e.id&&e.value||(c=!0)})),!c){e.next=7;break}return e.abrupt("return",J.Z.error(a.props.t("error"),a.props.t("pages.shop.setting.customAcronym.error")));case 7:return e.next=9,a.setState({shopInfo:Y()(o,(0,k.Z)({},t,{$set:"custom_acronym_page"==t?s:i}))});case 9:a.sendToBackEnd([t],null,r);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"debounceChangeSetting",A()((function(e,t){return a.handleChangeSetting(e,t)}),800)),(0,k.Z)((0,y.Z)(a),"handleChangeSetting",function(){var e=(0,f.Z)(m().mark((function e(t,n){var o,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){n||a.setState({openPeriod:!1})},s=a.state.shopInfo[t],e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},t,{$set:n?parseInt(n):null}))});case 4:a.debounceSettingInput(s,t,o);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"onChangeListAdd",(function(e,t,n,o){var s=a.state.listAddNotificationPartner;if(t){var i=s;i.splice(e,1),a.setState({listAddNotificationPartner:i})}else"partner_id"==n?a.setState({listAddNotificationPartner:Y()(s,(0,k.Z)({},e,{partner_id:{$set:o},partner_name:{$set:a.getPartnerAvaiable().find((function(e){return e.partner_id==o})).partner_name}}))}):a.setState({listAddNotificationPartner:Y()(s,(0,k.Z)({},e,(0,k.Z)({},n,{$set:o})))})})),(0,k.Z)((0,y.Z)(a),"onChangeListOrderStatus",(function(e,t,n,o){var s=a.state.listAddOrderStatus;if(t){var i=s;i.splice(e,1),a.setState({listAddOrderStatus:i})}else"id"==n?a.setState({listAddOrderStatus:Y()(s,(0,k.Z)({},e,{id:{$set:o},status:{$set:a.getOrderStatusAvaiable().find((function(e){return e.id==o})).status},label:{$set:a.getOrderStatusAvaiable().find((function(e){return e.id==o})).label}}))}):a.setState({listAddOrderStatus:Y()(s,(0,k.Z)({},e,(0,k.Z)({},n,{$set:o})))})})),(0,k.Z)((0,y.Z)(a),"addNotification",(function(e){if("partner"==e){var t=a.state.listAddNotificationPartner;t.push({partner_id:"",partner_name:"",sound_id:""}),a.setState({listAddNotificationPartner:t})}else{var n=a.state.listAddOrderStatus;n.push({id:"",status:"",label:"",sound_id:""}),a.setState({listAddOrderStatus:n})}})),(0,k.Z)((0,y.Z)(a),"getPartnerAvaiable",(function(){var e=a.state,t=e.listAddNotificationPartner,n=e.shopInfo.scan_barcode_sound_settings,o=e.custom_partners,s=[];n&&n.partners&&n.partners.length&&n.partners.map((function(e){s.push(e.partner_id)})),t&&t.length>0&&t.map((function(e){e.partner_id&&s.push(e.partner_id)}));return(0,se.gnH)().filter((function(e){return(0,se.RtY)(e.countryCode,a.props.currentShop.country_code)})).concat(o.map((function(e){return{partner_id:e.id,partner_name:e.name}}))).filter((function(e){return!s.includes(e.partner_id)}))})),(0,k.Z)((0,y.Z)(a),"getOrderStatusAvaiable",(function(){var e=a.state,t=e.listAddOrderStatus,n=e.shopInfo.scan_barcode_sound_settings,o=[];n&&n.order_status&&n.order_status.length&&n.order_status.map((function(e){o.push(e.id)})),t&&t.length>0&&t.map((function(e){e.id&&o.push(e.id)}));return(0,se.UFU)().filter((function(e){return!o.includes(e.id)}))})),(0,k.Z)((0,y.Z)(a),"saveNotification",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o,s,i,r,c,d;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state,o=n.shopInfo,s=n.listAddNotificationPartner,i=n.listAddOrderStatus,r=o.scan_barcode_sound_settings,"partner"!=t){e.next=9;break}return c=s&&s.length>0?s.filter((function(e){return e.partner_id&&e.partner_name&&e.sound_id})):[],e.next=6,a.setState({shopInfo:Y()(o,{scan_barcode_sound_settings:{partners:{$set:o.scan_barcode_sound_settings.partners.concat(c)}}}),listAddNotificationPartner:[],scanBarcodeSoundModal:!1});case 6:a.sendToBackEnd("scan_barcode_sound_settings",null,r),e.next=13;break;case 9:return d=i&&i.length>0?i.filter((function(e){return e.id&&e.status&&e.label&&e.sound_id})):[],e.next=12,a.setState({shopInfo:Y()(o,{scan_barcode_sound_settings:{order_status:{$set:(o.scan_barcode_sound_settings.order_status||[]).concat(d)}}}),listAddOrderStatus:[],scanBarcodeSoundModal:!1});case 12:a.sendToBackEnd("scan_barcode_sound_settings",null,r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"deleteNotification",function(){var e=(0,f.Z)(m().mark((function e(t,n){var o,s,i;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=a.state.shopInfo,s=o.scan_barcode_sound_settings,(i="partners"==t?s.partners:s.order_status).splice(n,1),"partners"!=t){e.next=9;break}return e.next=7,a.setState({shopInfo:Y()(o,{scan_barcode_sound_settings:{partners:{$set:i}}})});case 7:e.next=11;break;case 9:return e.next=11,a.setState({shopInfo:Y()(o,{scan_barcode_sound_settings:{order_status:{$set:i}}})});case 11:a.sendToBackEnd("scan_barcode_sound_settings",null,s);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleChangeScanBarcodeSound",(function(e,t){return function(){var n=(0,f.Z)(m().mark((function n(o){var s,i,r,c;return m().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=a.state.shopInfo.scan_barcode_sound_settings,i=[],r=[],c=[],"partners"==e?(i=s.partners.map((function(e){return e.partner_id==t?tt(tt({},e),{},{sound_id:o}):e})),c=tt(tt({},s),{},{partners:i})):(r=s.order_status.map((function(e){return e.id==t?tt(tt({},e),{},{sound_id:o}):e})),c=tt(tt({},s),{},{order_status:r})),n.next=5,a.setState({shopInfo:Y()(a.state.shopInfo,{scan_barcode_sound_settings:{$set:c}})});case 5:a.sendToBackEnd("scan_barcode_sound_settings",c);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()})),(0,k.Z)((0,y.Z)(a),"playSoundAudio",(function(e){var t,n=null===(t=dt.find((function(t){return t.id==e})))||void 0===t?void 0:t.audioPlay;n&&n.play()})),(0,k.Z)((0,y.Z)(a),"renderTabPaneTransport",(function(){var e=a.state,t=e.listAddNotificationPartner,n=e.shopInfo,o=a.props.t,s=n.scan_barcode_sound_settings;return Je("div",null,s&&s.partners&&s.partners.length&&s.partners.map((function(e,t){return Je("div",{style:{display:"flex",justifyContent:"space-between",lineHeight:3,borderBottom:"1px dashed #dddd"},key:t},Je("div",null,e.partner_name),Je("div",{style:{display:"flex",marginTop:5}},Je(N.default,{placeholder:o("pages.shop.setting.selectSound"),onChange:a.handleChangeScanBarcodeSound("partners","".concat(e.partner_id)),style:{width:160},defaultValue:e.sound_id},ze.j.map((function(e){return Je(at,{value:e.id,key:e.id},Je($.Z,{onMouseOver:function(){return a.playSoundAudio(e.id)},style:{marginRight:10,color:"#096dd9",fontSize:16}}),e.name)}))),Je("div",{style:{marginLeft:10,borderRadius:20,height:32,border:"1px solid #d9d9d9",padding:"0 20px",cursor:"pointer"},onClick:function(){return a.deleteNotification("partners",t)}},Je(B.Z,{style:{verticalAlign:"super",marginTop:8}}))))})),t&&t.length>0?t.map((function(e,t){var n;return Je("div",{style:(n={display:"flex"},(0,k.Z)(n,"display","flex"),(0,k.Z)(n,"justifyContent","space-between"),(0,k.Z)(n,"lineHeight",3),(0,k.Z)(n,"borderBottom","1px dashed #dddd"),(0,k.Z)(n,"marginTop",5),(0,k.Z)(n,"marginBottom",5),n),key:t},Je(N.default,{placeholder:"Ch\u1ecdn \u0110VVC",defaultValue:e.partner_id||void 0,style:{width:120,marginBottom:5},onChange:function(e){return a.onChangeListAdd(t,!1,"partner_id",e)}},a.getPartnerAvaiable().map((function(e,t){return Je(at,{key:e.partner_id,value:e.partner_id},e.partner_name)}))),Je("div",{style:{display:"flex",marginBottom:5}},Je(N.default,{placeholder:o("pages.shop.setting.selectSound"),style:{width:160},defaultValue:e.sound_id||void 0,onChange:function(e){return a.onChangeListAdd(t,!1,"sound_id",e)}},ze.j.map((function(e){return Je(at,{value:e.id,key:e.id},Je($.Z,{onMouseOver:function(){return a.playSoundAudio(e.id)},style:{marginRight:10,color:"#096dd9",fontSize:16}}),e.name)}))),Je("div",{style:{marginLeft:10,borderRadius:20,height:32,border:"1px solid #d9d9d9",padding:"0 20px",cursor:"pointer"},onClick:function(){return a.onChangeListAdd(t,!0,"","")}},Je(z.Z,{style:{verticalAlign:"super",marginTop:8}}))))})):null)})),(0,k.Z)((0,y.Z)(a),"renderTabPaneOrder",(function(){var e=a.state,t=e.listAddOrderStatus,n=e.shopInfo,o=a.props.t,s=n.scan_barcode_sound_settings;return Je("div",null,s&&s.order_status&&s.order_status.length&&s.order_status.map((function(e,t){return Je("div",{style:{display:"flex",justifyContent:"space-between",lineHeight:3,borderBottom:"1px dashed #dddd"},key:t},Je("div",null,e.label),Je("div",{style:{display:"flex",marginTop:5}},Je(N.default,{placeholder:o("pages.shop.setting.selectSound"),onChange:a.handleChangeScanBarcodeSound("order_status",e.id),style:{width:160},defaultValue:e.sound_id},ze.j.map((function(e){return Je(at,{value:e.id,key:e.id},Je($.Z,{onMouseOver:function(){return a.playSoundAudio(e.id)},style:{marginRight:10,color:"#096dd9",fontSize:16}}),e.name)}))),Je("div",{style:{marginLeft:10,borderRadius:20,height:32,border:"1px solid #d9d9d9",padding:"0 20px",cursor:"pointer"},onClick:function(){return a.deleteNotification("order_status",t)}},Je(B.Z,{style:{verticalAlign:"super",marginTop:8}}))))})),t&&t.length>0?t.map((function(e,t){var n;return Je("div",{style:(n={display:"flex"},(0,k.Z)(n,"display","flex"),(0,k.Z)(n,"justifyContent","space-between"),(0,k.Z)(n,"lineHeight",3),(0,k.Z)(n,"borderBottom","1px dashed #dddd"),(0,k.Z)(n,"marginTop",5),(0,k.Z)(n,"marginBottom",5),n),key:t},Je(N.default,{placeholder:"Ch\u1ecdn tr\u1ea1ng th\xe1i",defaultValue:e.partner_id||void 0,style:{width:120,marginBottom:5},onChange:function(e){return a.onChangeListOrderStatus(t,!1,"id",e)}},a.getOrderStatusAvaiable().map((function(e,t){return Je(at,{key:e.id,value:e.id},e.label)}))),Je("div",{style:{display:"flex",marginBottom:5}},Je(N.default,{placeholder:o("pages.shop.setting.selectSound"),style:{width:160},defaultValue:e.sound_id||void 0,onChange:function(e){return a.onChangeListOrderStatus(t,!1,"sound_id",e)}},ze.j.map((function(e){return Je(at,{value:e.id,key:e.id},Je($.Z,{onMouseOver:function(){return a.playSoundAudio(e.id)},style:{marginRight:10,color:"#096dd9",fontSize:16}}),e.name)}))),Je("div",{style:{marginLeft:10,borderRadius:20,height:32,border:"1px solid #d9d9d9",padding:"0 20px",cursor:"pointer"},onClick:function(){return a.onChangeListOrderStatus(t,!0,"","")}},Je(z.Z,{style:{verticalAlign:"super",marginTop:8}}))))})):null)})),(0,k.Z)((0,y.Z)(a),"sendAutoPrint",function(){var e=(0,f.Z)(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({shopInfo:Y()(a.state.shopInfo,{auto_print_new_order:{$set:t}})});case 2:a.sendToBackEnd("auto_print_new_order",null,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleChangeActivePrint",(function(e){var t=a.state.shopInfo.auto_print_new_order,n=t,o={active:e,printLabelId:t?t.printLabelId:null,statusOrder:t?t.statusOrder:null,printer:!!t&&t.printer};a.sendAutoPrint(o,n)})),(0,k.Z)((0,y.Z)(a),"handleChangeActivePrinter",(function(e){var t=a.state.shopInfo.auto_print_new_order,n=t,o=tt(tt({},t),{},{printer:e});a.sendAutoPrint(o,n)})),(0,k.Z)((0,y.Z)(a),"onChangeSelectLabelAuto",(function(e){var t=a.state.shopInfo.auto_print_new_order,n=t,o=tt(tt({},t),{},{printLabelId:e});a.sendAutoPrint(o,n)})),(0,k.Z)((0,y.Z)(a),"handleCreateReturnedReason",(function(e){var t=a.props,n=t.accessToken,o=t.shopId;return(0,t.createCategory)(n,o,e,!0)})),(0,k.Z)((0,y.Z)(a),"handleUpdateReturnedReason",(function(e){var t=a.props,n=t.accessToken,o=t.shopId;return(0,t.updateCategory)(n,o,e,!0)})),(0,k.Z)((0,y.Z)(a),"onChangeSelectStatusOrder",(function(e){var t=a.state.shopInfo.auto_print_new_order,n=t,o=tt(tt({},t),{},{statusOrder:e});a.sendAutoPrint(o,n)})),(0,k.Z)((0,y.Z)(a),"renderTutorial",(function(){var e=a.props.t;return Je("div",{style:{display:"grid"}},Je("span",null,e("components.orderPrinter.tutorialAutoPrint")),Je("span",null,Je("span",{style:{fontWeight:600}},e("components.orderPrinter.step1")),e("components.orderPrinter.step1AutoPrint")),Je("span",null,Je("span",{style:{fontWeight:600}},e("components.orderPrinter.step2")),e("components.orderPrinter.step2AutoPrint")))})),(0,k.Z)((0,y.Z)(a),"onChangeOrderSource",function(){var e=(0,f.Z)(m().mark((function e(t){var n,o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t||[],o=a.state.shopInfo.confirm_by_order_sources,e.next=4,a.setState({shopInfo:Y()(a.state.shopInfo,{confirm_by_order_sources:{$set:n}})});case 4:a.sendToBackEnd("confirm_by_order_sources",null,o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"renderSelectOrderSource",(function(){var e=a.props,t=e.t,n=e.currentShop,o=a.state.shopInfo.confirm_by_order_sources;return Je(Ve.Z,{t:t,currentShop:n,sourceData:o,onChangeOrderSource:a.onChangeOrderSource,width:250,placeholderInput:t("pages.shop.setting.selectSource")})})),(0,k.Z)((0,y.Z)(a),"debounceChangePrefix",A()((function(e){return a.sendToBackEnd("customer_need_prefix",null,e,null,"settings")}),1e3)),(0,k.Z)((0,y.Z)(a),"renderOrderManagement",(function(){var e=a.props,t=e.currentShop,n=e.t,o=e.printLabels,s=e.accessToken,i=e.shopId,r=a.state,l=r.isScanBarcodeSound,u=r.scanBarcodeSoundModal,h=r.visibleListOrderSources,m=a.state.shopInfo,f=m.limit_view_order,_=m.show_employee_viewing_orders,v=m.condition_enter_note_order,b=m.save_order_cod_negative,w=m.auto_print_new_order,x=m.can_update_order_when_assigned,k=m.notice_when_order_change_with_extend_code,C=m.status_order_confirm,I=m.limit_cod_value,O=m.notify_when_new_order,P=m.sound_id_new_order,T=m.lock_order_system_created,E=m.list_status_order_to_lock,A=m.auto_lock_order,L=m.lock_view_order,B=m.auto_unlock_order,R=m.list_status_order_to_unlock,M=m.not_auto_create_order_transaction,U=m.create_transaction_with_offline_order,j=m.create_transaction_when_has_extend_code,F=m.use_custom_order_id,z=m.custom_acronym_page,K=m.custom_acronym_employee,H=m.custom_order_id,G=m.payments_default,X=m.not_create_transactions_with_return_and_cancel_order,Y=m.no_return_for_orders_with_promotion,Q=m.settings,J=m.config_weight_product,ee=(0,se.ZyC)(t).filter((function(e){return(0,se.Caf)(e,2,-1)&&-1!=e})),te=J?1e3:1;return Je("div",{className:"setting-box"},Je("div",{className:"setting-title"},n("pages.shop.setting.orderManagement").toUpperCase()),Je("div",{className:"setting-card-body"},Je("ul",null,Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"limit_view_order"),checked:f}),Je("div",{className:"setting-item"},Je("span",null,n("pages.shop.setting.limitViewOrder")," ",Je(Ae.Z,{tip:"".concat(n("pages.shop.setting.userViewOrder")," ").concat(n("pages.shop.setting.userCanViewAll"))})))),Je("li",{className:"setting-option"},Je("span",{className:"span-item"},n("pages.shop.setting.statustoNote")),Je(d.default,{trigger:"click",content:a.handerStatusNote()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},v?v.length:0," ",n("pages.shop.setting.selectedStatusConfirm")),Je("span",{className:"icon-setting"},Je(D.Z,null))))),Je("li",{className:"setting-option"},Je("span",{className:"span-item"},n("pages.shop.setting.changeStatusConfirmOrder")),Je(d.default,{trigger:"click",content:a.handleStatusConfirm()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},C?C.length:0," ",n("pages.shop.setting.selectedStatusConfirm")),Je("span",{className:"icon-setting"},Je(D.Z,null))))),Je("li",{className:"setting-option"},Je("div",{className:"span-item"},Je("span",null,n("pages.shop.setting.limitCodValue")," ",Je(Ae.Z,{tip:n("pages.shop.setting.textLimitCod")}))),Je(ue.default,{customId:"id-limit-cod",style:{width:152},isMoney:!0,currency:t.currency,suffix:(0,se.jKf)(t.currency),value:I,callBack:function(e){return a.handleChangeInvoiceTax("limit_cod_value",e)}})),Je("li",{className:"setting-option"},Je("div",{className:"span-item"},Je("span",null,n("pages.shop.setting.orderWeightLimit")," ",Je(Ae.Z,{tip:n("pages.shop.setting.tipOrderWeightLimit")}))),Je(ue.default,{style:{width:152},isMoney:!1,isPercent:!0,decimal:!0,currency:t.currency,suffix:J?"kg":"g",value:(Q.order_weight_limit||0)/te,callBack:function(e){return a.handleChangeSettings("order_weight_limit",e*te)}})),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"save_order_cod_negative"),checked:b}),Je("span",{className:"setting-item"},n("pages.shop.setting.cantSaveOrderWhenCodNegative"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"can_update_order_when_assigned"),checked:x}),Je("span",{className:"setting-item"},n("pages.shop.setting.canUpdateOrderWhenAssigned"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:function(e){return a.onChangeEmployeeViewingOrders("active",e)},checked:!!_&&_.active}),Je("span",{className:"setting-item"},n("pages.shop.setting.showEmployeeViewingOrders"))),_&&_.active&&Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:function(e){return a.onChangeEmployeeViewingOrders("only_one_employee_viewing",e)},checked:_.only_one_employee_viewing}),Je("span",{className:"setting-item"},n("pages.shop.setting.onlyOneEmployeeViewingOrders"))),_&&_.active&&_.only_one_employee_viewing&&Je("li",{className:"setting-option-children",style:{padding:"12px 16px 12px 32px",justifyContent:"space-between"}},Je("span",{className:"span-item"},n("pages.shop.setting.timeRangeViewOrders")),Je(N.default,{value:_.time_range.toString(),onChange:function(e){return a.onChangeEmployeeViewingOrders("time_range",parseInt(e))},style:{width:152}},Je(at,{value:"0"},n("pages.shop.setting.off")),Je(at,{value:"1"},"01 ",n("pages.shop.setting.minute")),Je(at,{value:"5"},"05 ",n("pages.shop.setting.minute")),Je(at,{value:"10"},"10 ",n("pages.shop.setting.minute")),Je(at,{value:"15"},"15 ",n("pages.shop.setting.minute")),Je(at,{value:"20"},"20 ",n("pages.shop.setting.minute")),Je(at,{value:"30"},"30 ",n("pages.shop.setting.minute")),Je(at,{value:"60"},"60 ",n("pages.shop.setting.minute")))),Je("li",{className:"setting-option"},Je("div",{style:{display:"flex",alignItems:"center"},className:O?"span-item":""},Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"notify_when_new_order"),checked:O}),Je("span",{className:"setting-item"}," ",n("pages.shop.setting.notifyWhenNewOrder"))),O&&Je(N.default,{style:{width:152},defaultValue:P,onChange:a.changeSoundNewOrder,className:"setting-item-select"},ze.j.map((function(e){return Je(at,{value:e.id,key:e.id},Je($.Z,{onMouseOver:function(){return a.playSoundAudio(e.id)},style:{marginRight:10,color:"#096dd9",fontSize:16}}),e.name)})))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"notice_when_order_change_with_extend_code"),checked:k}),Je("div",{className:"setting-item"},Je("span",null,n("pages.shop.setting.noticeWhenOrderChangeWithExtendCode")," ",Je(Ae.Z,{styler:{flex:7},tip:n("pages.shop.setting.tipNoticeWhenOrderChangeWithExtendCode")})))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"lock_order_system_created"),checked:T}),Je("div",{className:"setting-item"},Je("span",null,n("components.orderActionButton.lockSystemOrder")," ",Je(Ae.Z,{tip:n("components.orderActionButton.contentLockSystemOrder")})))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"lock_view_order"),checked:L}),Je("span",{className:"setting-item"},n("pages.shop.setting.lockViewOrder"))),Je("li",{className:"setting-option"},Je("div",{style:{display:"flex",alignItems:"center"},className:A?"span-item":""},Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"auto_lock_order"),checked:A}),Je("span",{className:"setting-item"},n("pages.shop.setting.autoLockOrderWhenChangeStatus"))),A&&Je(d.default,{trigger:"click",content:a.renderStatusLockOrder()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},E&&E.length||0," ",n("status")),Je("span",{className:"icon-setting"},Je(D.Z,null))))),Je("li",{className:"setting-option"},Je("div",{style:{display:"flex",alignItems:"center"},className:B?"span-item":""},Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"auto_unlock_order"),checked:B}),Je("span",{className:"setting-item"},n("pages.shop.setting.autoUnlockOrderWhenChangeStatus"))),B&&Je(d.default,{trigger:"click",content:a.renderStatusUnlockOrder()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},R&&R.length||0," ",n("status")),Je("span",{className:"icon-setting"},Je(D.Z,null))))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:function(e){return a.handleChangeSwitch("not_auto_create_order_transaction",!e)},checked:!M}),Je("span",{className:"setting-item"},n("pages.shop.setting.configuratioNotAutoCreateOrderTransaction"))),!M&&Je("li",{className:"setting-option-children setting-option-children-no-border setting-option-children-small"},Je(c.Z,{size:"small",onChange:function(e){return a.handleChangeSwitch("create_transaction_with_offline_order",e)},checked:U}),Je("span",{className:"setting-item-children"},n("pages.shop.setting.createTransactionWithOfflineOrder"))),!M&&Je("li",{className:"setting-option-children setting-option-children-small"},Je(c.Z,{size:"small",onChange:function(e){return a.handleChangeSwitch("create_transaction_when_has_extend_code",e)},checked:j}),Je("span",{className:"setting-item-children"},n("pages.shop.setting.createTransactionWhenHasExtendCode"))),!M&&Je("li",{className:"setting-option-children setting-option-children-small"},Je(c.Z,{size:"small",onChange:function(e){return a.handleChangeSwitch("not_create_transactions_with_return_and_cancel_order",e)},checked:X}),Je("span",{className:"setting-item-children"},n("pages.shop.setting.doNotCreateTransactionWithReturnAndCancelOrder"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",checked:!!w&&w.active,onChange:function(e){return a.handleChangeActivePrint(e)}}),Je("div",{className:"setting-item"},Je("span",null,n("components.orderPrinter.autoPrint")," ",Je(Ae.Z,{styler:{flex:7},tip:n("components.orderPrinter.autoPrintTip")})))),w&&w.active&&Je("li",{className:"setting-option-children setting-option-children-no-border setting-option-children-large",style:{justifyContent:"space-between"}},Je("div",{style:{paddingTop:5},className:"span-item"},Je("span",null,n("components.orderPrinter.formPrint"))),Je(N.default,{onFocus:function(){return a.setState({selecting:!0})},onBlur:function(){return a.setState({selecting:!1})},value:w&&w.printLabelId?w.printLabelId+"":void 0,onChange:function(e){return a.onChangeSelectLabelAuto(e)},className:"select-auto-print-order",style:{width:152},placeholder:n("components.orderPrinter.printingForm")},o.map((function(e){return Je(at,{key:e.id,value:e.id.toString()},e.name)})))),w&&w.active&&Je("li",{className:"setting-option-children setting-option-children-no-border setting-option-children-large",style:{justifyContent:"space-between"}},Je("div",{style:{paddingTop:5},className:"span-item"},Je("span",null,n("components.orderPrinter.statusOrder"))),Je(N.default,{placeholder:n("pages.shop.setting.chooseStatus"),value:w?w.statusOrder:void 0,onChange:function(e){return a.onChangeSelectStatusOrder(e)},style:{width:152}},ee.map((function(e){var t=(0,se.SX_)()[e];return Je(at,{value:e.toString(),key:e},t.text)})))),w&&w.active&&Je("li",{className:"setting-option-children setting-option-children-no-border setting-option-children-large",style:{justifyContent:"space-between"}},Je("div",{className:"span-item"},Je("a",{target:"_blank",href:"/static/PosAutoPrint.bat",style:{fontWeight:600}},Je(V.Z,{style:{paddingRight:8}})," ",n("components.orderPrinter.appAutoPrint"))),Je(d.default,{trigger:"click",content:a.renderTutorial()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},n("components.orderPrinter.tutorial")),Je("span",{className:"icon-setting"},Je(W.Z,null))))),w&&w.active&&Je("li",{className:"setting-option-children setting-option-children-large"},Je(c.Z,{size:"small",checked:!!w&&w.printer,onChange:function(e){return a.handleChangeActivePrinter(e)}}),Je("span",{className:"setting-item-children"},n("components.orderPrinter.printer"))),Je("li",{className:"setting-option"},Je("div",{style:{display:"flex",alignItems:"center"},className:F?"span-item":""},Je(c.Z,{className:"switch-setting-custom",checked:F,onChange:function(e){return a.onChangeUseCustomOrderId(e)}}),Je("span",{className:"setting-item"},n("pages.shop.setting.useOrderCustomId"))),F&&Je(g.default,{className:"setting-button",onClick:function(){return a.setState({visibleCustomOrderId:!0,customPage:z,customEmployee:K})}},Je("span",{className:"setting-button-title"},n("pages.shop.setting.edit")),Je("span",{className:"icon-setting"},Je(q.Z,null)))),F&&(null===H||void 0===H?void 0:H.trim())&&Je("li",{className:"setting-option-children setting-option-children-small"},Je("span",{className:"setting-item-children setting-ellipsis"},H)),Je("li",{className:"setting-option"},Je("div",{style:{display:"flex",alignItems:"center"},className:l?"span-item":""},Je(c.Z,{className:"switch-setting-custom",checked:l,onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"scan_barcode_sound_settings")}),Je("div",{className:"setting-item"},Je("span",null,n("pages.shop.setting.configurationScanBarcodeSound")," ",Je(Ae.Z,{tip:n("pages.shop.setting.noteConfigurationScanBarcodeSound")})))),l&&Je(g.default,{className:"setting-button",onClick:function(){return a.setState({scanBarcodeSoundModal:!0})}},Je("span",{className:"setting-button-title"},n("pages.shop.setting.notification.edit")),Je("span",{className:"icon-setting"},Je(q.Z,null))),Je(p.Z,{visible:u,title:n("pages.shop.setting.configurationScanBarcodeSound"),width:500,wrapClassName:"modal-scan-barcode",footer:"tab-transport"==a.state.activeKey?[Je(g.default,{key:"add",type:"primary",onClick:function(){return a.addNotification("partner")}},n("pages.shop.setting.notification.addPartner")),Je(g.default,{key:"save",type:"primary",onClick:function(){return a.saveNotification("partner")}},n("save"))]:[Je(g.default,{key:"add",type:"primary",onClick:function(){return a.addNotification("order_status")}},n("pages.shop.setting.notification.addStatus")),Je(g.default,{key:"save",type:"primary",onClick:function(){return a.saveNotification("order_status")}},n("save"))],onCancel:function(){return a.setState({scanBarcodeSoundModal:!1,listAddNotificationPartner:[]})}},Je(S.default,{defaultActiveKey:a.state.activeKey,onChange:function(e){return a.setState({activeKey:e})}},Je(it,{tab:n("pages.shop.statistic.transport.transport"),key:"tab-transport"},a.renderTabPaneTransport()),Je(it,{tab:n("orders.title"),key:"tab-order"},a.renderTabPaneOrder())))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"no_return_for_orders_with_promotion"),checked:Y}),Je("div",{className:"setting-item"},Je("span",null,n("pages.shop.setting.noReturnForOrdersWithPromotion")))),Je("li",{className:"setting-option-condition"},Je("span",{className:"span-item"},n("pages.shop.setting.configOrderSource")),Je("div",null,Je(Ee,{accessToken:s,shopId:i,visible:h,close:function(){return a.setState({visibleListOrderSources:!1})}}))),Je("li",{className:"setting-option-condition"},Je("span",{className:"span-item"},n("pages.shop.setting.paymentBankConfiguration")),Je("div",null,Je($e,{t:n,shopId:i,accessToken:s,dispatch:a.props.dispatch,isOpenPayment:a.props.isOpenPayment}))),Je("li",{className:"setting-option-condition"},Je("span",{className:"span-item"},n("pages.shop.setting.defaultPayments")),Je(d.default,{trigger:"click",content:a.renderSelectDefaultPayment()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},"".concat(G&&G.length||0," ").concat(n("pages.shop.setting.paymentsSelect")," ")),Je("span",{className:"icon-setting"},Je(D.Z,null))))),Je("li",{className:"setting-option-condition"},Je("span",{className:"span-item"},n("pages.shop.setting.returnedReasonConfiguration")),Je("div",null,Je(We.Z,{dispatch:a.props.dispatch,isButton:!1,deleteData:a.handleUpdateReturnedReason,updateData:a.handleUpdateReturnedReason,createData:a.handleCreateReturnedReason,fetchData:function(){return a.props.fetchReturnedReasonCustom(s,i,!0)},categories:t.returned_reason_custom||[],title:n("pages.shop.setting.returnedReasonList"),disableChildren:!1,canDrag:!1,isReturnedReason:!0}))),Je("li",{className:"setting-option-condition"},Je("span",{className:"span-item"},n("pages.shop.setting.customerNeedPrefix")),Je(Z.default,{style:{width:152},placeholder:n("pages.shop.setting.prefixPlaceholder"),value:Q.customer_need_prefix||void 0,onChange:function(e){return a.handleChangeSettings("customer_need_prefix",e.target.value)}})))))})),(0,k.Z)((0,y.Z)(a),"renderOrderConfiguration",(function(){var e=a.state,t=e.shopInfo,n=e.customEmployee,o=e.customPage,s=a.props,i=s.t,r=s.currentShop,l=t.condition_confirm_order,u=t.condition_create_order,h=t.show_return_money_in_orders,m=t.config_inserted_at_by_order_returned,f=t.print_draft_order,_=t.invoice_tax,v=t.confirm_by_order_sources,b=t.cod_service_charge,w=t.service_charge_currency,x=t.add_products_into_cart,k=t.on_add_quick_product,C=t.on_add_order_discount,Z=t.change_retail_price,I=t.change_order_creation_time,O=t.payment_before_create_order,P=t.use_price_at_counter,T=t.settings,E=t.settings,A=E.lock_order_from_e_commerce,B=E.block_edit_shipping_fee,R=E.auto_close_product_list,M=E.do_not_delete_products_assigned_to_other,U=E.update_latest_retail_price,j=E.discount_condition;return Je("div",{className:"setting-box",style:{marginBottom:0}},Je("div",{className:"setting-title",style:{display:"flex",justifyContent:"space-between"}},Je("div",null,i("pages.shop.setting.order").toUpperCase())),Je("div",{className:"setting-card-body"},Je("ul",null,Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"add_products_into_cart"),checked:x}),Je("span",{className:"setting-item"},i("pages.shop.setting.addProductsIntoCart"))),Je("li",null,Je(c.Z,{onChange:function(e){return a.handleChangeSettings("auto_close_product_list",e)},checked:R}),Je("span",{className:"setting-item"},i("pages.shop.setting.autoCloseProductListAfterSelect"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"on_add_quick_product"),checked:null===k||k}),Je("span",{className:"setting-item"},i("pages.shop.setting.addQuickProduct"))),Je("li",{className:"setting-option"},Je("div",{style:{display:"flex",alignItems:"center"},className:C?"":"span-item"},Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"on_add_order_discount"),checked:null===C||C}),Je("span",{className:"setting-item"},i("pages.shop.setting.addOrderDiscount"))),(null===C||C)&&Je(d.default,{trigger:"click",content:a.handeTypeOrder()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},i("settings.title")),Je("span",{className:"icon-setting"},Je(D.Z,null))))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"change_retail_price"),checked:Z}),Je("span",{className:"setting-item"},i("pages.shop.setting.changeRetailPrice"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"payment_before_create_order"),checked:O}),Je("div",{className:"setting-item"},Je("span",null,i("pages.shop.setting.paymentBeforeCreateOrder")," ",Je(Ae.Z,{styler:{flex:7},tip:i("pages.shop.setting.tipPaymentBeforeCreateOrder")})))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"use_price_at_counter"),checked:P}),Je("span",{className:"setting-item"},i("pages.shop.setting.usePriceAtCounter"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"print_draft_order"),checked:f}),Je("span",{className:"setting-item"},i("systemLogs.shops.print_draft_order"))),Je("li",null,Je(c.Z,{className:"switch-setting-custom",onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"show_return_money_in_orders"),checked:h}),Je("span",{className:"setting-item"},i("pages.shop.setting.enterOrderReturnMoney"))),Je("li",null,Je(c.Z,{onChange:function(e){return a.handleChangeSettings("block_edit_shipping_fee",e)},checked:B}),Je("span",{className:"setting-item"},i("pages.shop.setting.blockEditShippingFee"))),Je("li",null,Je(c.Z,{onChange:a.handleChangeSwitch.bind((0,y.Z)(a),"change_order_creation_time"),checked:0!=I}),Je("span",{className:"setting-item"},i("pages.shop.setting.changeOrderCreationTime"))),Je("li",null,Je(c.Z,{onChange:function(e){return a.handleChangeSettings("update_latest_retail_price",e)},checked:0!=U}),Je("span",{className:"setting-item"},i("pages.shop.setting.updateLatestRetailPrice"))),Je("li",null,Je(c.Z,{onChange:function(e){return a.handleChangeSettings("lock_order_from_e_commerce",e)},checked:A}),Je("span",{className:"setting-item"},i("pages.shop.setting.lockUpdateOrderFromE_Commerce"))),Je("li",null,Je(c.Z,{onChange:function(e){return a.handleChangeSettings("do_not_delete_products_assigned_to_other",e)},checked:M}),Je("span",{className:"setting-item"},i("pages.shop.setting.noDeleteProductAssignOther"))),Je("li",null,Je(c.Z,{onChange:function(e){return a.handleChangeSettings("discount_condition",e)},checked:j}),Je("span",{className:"setting-item"},i("pages.shop.setting.conditionDiscount"))),Je("li",{className:"setting-option-condition"},Je("span",{className:"span-item"},i("pages.shop.setting.insertedAtByOrderReturned")),Je(N.default,{onChange:a.handleChangeInsertedAtOrderReturned,dropdownMatchSelectWidth:!1,value:!!m,style:{width:152}},Je(at,{value:!1},i("pages.shop.setting.today")),Je(at,{value:!0},i("pages.shop.setting.oldOrderCreationDate")))),Je("li",{className:"setting-option-condition"},Je("span",{className:"span-item"},i("pages.shop.setting.autoConfirmOrderWithSource")),Je(d.default,{trigger:"click",content:a.renderSelectOrderSource()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},v&&v.length>0?"".concat(v.length," ").concat(i("pages.shop.setting.source")," "):"0 ".concat(i("pages.shop.setting.source"))),Je("span",{className:"icon-setting"},Je(D.Z,null))))),Je("li",{className:"setting-option-condition"},Je("div",{className:"span-item"},Je("span",null,i("pages.shop.setting.configConditionCreateOrder")," ",Je(Ae.Z,{tip:i("pages.shop.setting.noteConfigConditionCreateOrder")}))),Je(d.default,{trigger:"click",content:a.renderConditionCreate()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},(null===u||void 0===u?void 0:u.length)>0?"".concat(u.length," ").concat(i("pages.shop.setting.condition")," "):"0 ".concat(i("pages.shop.setting.condition"))),Je("span",{className:"icon-setting"},Je(D.Z,null))))),Je("li",{className:"setting-option-condition"},Je("div",{className:"span-item"},Je("span",null,i("pages.shop.setting.configConditionConfirmOrder")," ",Je(Ae.Z,{tip:i("pages.shop.setting.noteConfigConditionConfirmOrder")}))),Je(d.default,{trigger:"click",content:a.renderConditionConfirm()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},l&&l.length>0?"".concat(l.length," ").concat(i("pages.shop.setting.condition")," "):"0 ".concat(i("pages.shop.setting.condition"))),Je("span",{className:"icon-setting"},Je(D.Z,null))))),Je("li",{className:"setting-option"},Je("span",{className:"span-item"},i("pages.shop.setting.timeEditAtShop")),Je(ue.default,{style:{width:152},isMoney:!1,min:0,currency:r.currency,suffix:"h",value:a.state.shopInfo.time_edit_at_shop,callBack:function(e){return a.handleChangeInvoiceTax("time_edit_at_shop",e)}})),Je("li",{className:"setting-option"},Je("div",{className:"span-item"},Je("span",null,i("pages.shop.setting.calcTaxInvoice")," ",Je(Ae.Z,{tip:i("pages.shop.setting.noteInvoiceTax")}))),Je(ue.default,{style:{width:152},isMoney:!1,max:100,step:1,isPercent:!0,currency:r.currency,suffix:"%",value:_,callBack:function(e){return a.handleChangeInvoiceTax("invoice_tax",e)}})),(r.country_code||[]).includes("62")&&Je(L.Fragment,null,Je("li",{className:"setting-option"},Je("span",{className:"span-item"},i("pages.shop.setting.codServiceCharge")),Je(ue.default,{style:{width:152},isMoney:!1,max:100,step:1,isPercent:!0,currency:r.currency,suffix:"%",value:b,callBack:function(e){return a.handleChangeInvoiceTax("cod_service_charge",e)}})),Je("li",{className:"setting-option"},Je("span",{className:"span-item"},i("pages.shop.setting.codServiceChargeCurrency")),Je(d.default,{trigger:"click",content:a.renderServiceChargeCurrency()},Je(g.default,{className:"setting-button"},Je("span",{className:"setting-button-title"},null!==w&&void 0!==w&&w.length?"".concat(w.length," ").concat(i("pages.shop.setting.currency")," "):i("pages.shop.setting.allCurrency")),Je("span",{className:"icon-setting"},Je(D.Z,null)))))),Je("li",{className:"setting-option"},Je("div",{className:"span-item"},Je("span",null,i("pages.shop.setting.defaultSurcharge"))),Je(ue.default,{style:{width:152},isMoney:!0,min:0,currency:r.currency,suffix:(0,se.jKf)(r.currency),value:T.default_surcharge,callBack:function(e){return a.handleChangeSettings("default_surcharge",e)}})))),Je(p.Z,{width:500,closable:!1,wrapClassName:"modal-scan-barcode",visible:a.state.visibleCustomOrderId,title:i("pages.shop.setting.configureOrderCustomId"),footer:"order-code"==a.state.activeKeyOrderCode?[Je(g.default,{key:"cancel",onClick:function(){return a.setState({visibleCustomOrderId:!1,customPage:[],customEmployee:[]})}},i("cancel")),Je(g.default,{key:"save",type:"primary",onClick:function(){return a.onChangeCustomOrderId()}},i("save"))]:"pages-code"==a.state.activeKeyOrderCode?[Je(g.default,{key:"cancel",onClick:function(){return a.setState({visibleCustomOrderId:!1,customPage:[],customEmployee:[]})}},i("cancel")),Je(g.default,{key:"add",type:"primary",onClick:function(){return a.addNewCustomPage("pages")}},i("pages.shop.setting.customAcronym.addPage")),Je(g.default,{key:"save",type:"primary",onClick:function(){return a.onSaveCustomPage("custom_acronym_page")}},i("save"))]:[Je(g.default,{key:"cancel",onClick:function(){return a.setState({visibleCustomOrderId:!1,customPage:[],customEmployee:[]})}},i("cancel")),Je(g.default,{key:"add",type:"primary",onClick:function(){return a.addNewCustomPage("employee")}},i("pages.shop.setting.customAcronym.addEmployee")),Je(g.default,{key:"save",type:"primary",onClick:function(){return a.onSaveCustomPage("custom_acronym_employee")}},i("save"))]},Je(S.default,{defaultActiveKey:a.state.activeKeyOrderCode,onChange:function(e){return a.handleChangeTabCustomKey(e)}},Je(it,{tab:i("pages.shop.setting.customAcronym.customCode"),key:"order-code"},a.renderCustomOrderCode()),Je(it,{tab:i("pages.shop.setting.customAcronym.pageAcronym"),key:"pages-code"},a.renderCustomKeyCode(o,"pages")),Je(it,{tab:i("pages.shop.setting.customAcronym.employeeAcronym"),key:"employees-code"},a.renderCustomKeyCode(n,"employee")))),Je("div",{ref:a.messagesEndRef}))})),(0,k.Z)((0,y.Z)(a),"handleChangeTabCustomKey",(function(e){var t=a.state.shopInfo,n=t.custom_acronym_page,o=t.custom_acronym_employee;n&&0!=(null===n||void 0===n?void 0:n.length)||"pages-code"!=e||a.addNewCustomPage("pages"),o&&0!=(null===o||void 0===o?void 0:o.length)||"employees-code"!=e||a.addNewCustomPage("employee"),a.setState({activeKeyOrderCode:e})})),(0,k.Z)((0,y.Z)(a),"addNewCustomPage",(function(e){if("pages"==e){var t,n=a.state.customPage||[],o="";1==(null===(t=a.state.shopInfo.pages)||void 0===t?void 0:t.length)&&0==n.length&&(o=a.state.shopInfo.pages[0].id),n.push({id:o,value:""}),a.setState({customPage:n})}else{var s=a.state.customEmployee||[];s.push({id:"",value:""}),a.setState({customEmployee:s})}})),(0,k.Z)((0,y.Z)(a),"renderCustomOrderCode",(function(){var e=a.props.t,t=a.state.shopInfo.custom_order_id;return Je("div",{className:"ant-input-affix-wrapper-custom",style:{padding:"5px 0"}},Je(Z.default,{value:t,style:{width:450},onChange:function(e){return a.onChangeInputCustom(e.target.value)}}),a.customIdTag.map((function(t){return Je("div",{key:t.key,style:{display:"flex",width:"100%",marginTop:10}},Je(i.default,{placement:"left",title:e("components.orderExportExcel.clickToInsertTag")},Je("span",{style:{flex:1}},Je(r.default,{onClick:function(){return a.onCustomIdClick(t.key)}},t.key))),Je("span",{style:{flex:1}},t.des))})))})),(0,k.Z)((0,y.Z)(a),"getPageName",(function(e,t){var n,o=a.state.shopInfo,s=a.props.users,i=o.pages.find((function(t){return t.id==e})),r=s.find((function(t){return t.user_id==e}));return"pages"==t?(null===i||void 0===i?void 0:i.name)||"":(null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.name)||""})),(0,k.Z)((0,y.Z)(a),"getAvatar",(function(e){var t,n=a.props.users.find((function(t){return t.user_id==e}));return(null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.fb_id)||e})),(0,k.Z)((0,y.Z)(a),"renderCustomKeyCode",(function(e,t){var n=a.props,o=n.t,i=n.users,r=a.state,c=r.shopInfo,d=r.customPage,l=r.customEmployee,u=c.pages;return Je("div",null,e&&e.length>0?e.map((function(e,n){return Je("div",{style:{display:"flex",justifyContent:"space-between",borderBottom:"1px dashed #dddd",marginTop:5},key:n},Je("div",null,e.id?Je("div",{style:{display:"flex",alignItems:"center",marginTop:3,marginLeft:10}},"pages"==t?Je(Be.Z,{ids:[e.id],width:20,height:20}):Je(Le.Z,{id:a.getAvatar(e.id,t),size:[20,20],style:{marginRight:10}}),Je("span",null,a.getPageName(e.id,t))):Je(N.default,{placeholder:o("pages"==t?"pages.shop.setting.customAcronym.addPage":"pages.shop.setting.customAcronym.addEmployee"),defaultValue:a.getPageName(e.id,t)||void 0,style:{width:150,marginBottom:5},onChange:function(o){return a.changeCustomPage(n,o,e.value,!1,t)},dropdownMatchSelectWidth:!1,showSearch:!0,filterOption:function(e,t){return(0,se.st5)(e,t.label)}},("pages"==t?u.filter((function(e){var t;return(null===d||void 0===d?void 0:d.length)&&!(null!==(t=d.map((function(e){return e.id})))&&void 0!==t&&t.includes(e.id))})):i.filter((function(e){var t;return(null===l||void 0===l?void 0:l.length)&&!(null!==(t=l.map((function(e){return e.id})))&&void 0!==t&&t.includes(e.user_id))}))).map((function(e){var n="pages"==t?e.id:e.user_id;return Je(at,{key:n,value:n,label:a.getPageName(n,t)},Je("div",{style:{display:"flex",alignItems:"center"}},"pages"==t?Je(Be.Z,{ids:[e.id],width:20,height:20}):Je(Le.Z,{id:a.getAvatar(n,t),size:[20,20],style:{marginRight:10}}),Je("span",null,a.getPageName(n,t))))})))),Je("div",{style:{display:"flex"}},Je("div",null,Je(Z.default,{style:{marginBottom:5},placeholder:o("enterSymbolPage"),value:e.value||void 0,onChange:function(o){return a.changeCustomPage(n,e.id,o.target.value,!1,t)}})),Je("div",{style:{marginLeft:10,borderRadius:20,height:32,border:"1px solid #d9d9d9",padding:"0 20px",cursor:"pointer"},onClick:function(){return a.changeCustomPage(n,e.id,"",!0,t)}},Je(B.Z,{style:{verticalAlign:"super",marginTop:8}}))))})):Je(s.default,{image:s.default.PRESENTED_IMAGE_SIMPLE}))})),(0,k.Z)((0,y.Z)(a),"debounceSettingInput",A()((function(e,t,n){return a.sendToBackEnd([t],null,e,n)}),1200)),(0,k.Z)((0,y.Z)(a),"handleChangeInvoiceTax",function(){var e=(0,f.Z)(m().mark((function e(t,n){var o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.state.shopInfo[t],e.next=3,a.setState({shopInfo:Y()(a.state.shopInfo,(0,k.Z)({},t,{$set:n}))});case 3:a.sendToBackEnd(t,null,o);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleChangeSettings",function(){var e=(0,f.Z)(m().mark((function e(t,n){var o;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=a.state.shopInfo.settings[t],e.next=3,a.setState({shopInfo:Y()(a.state.shopInfo,{settings:(0,k.Z)({},t,{$set:n})})});case 3:"customer_need_prefix"==t?a.debounceChangePrefix(o):a.sendToBackEnd(t,null,o,null,"settings");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,k.Z)((0,y.Z)(a),"handleSelectUpdateByUniqueField",(function(e,t){var n=a.props,o=n.accessToken,s=n.shopId,i=n.tables,r=n.updateTable,c=n.t;r(o,s,tt(tt({},i.find((function(t){return t.name==e}))),{},{is_update_by_unique_field:t})).then((function(e){e.success?J.Z.success(c("pages.shop.setting.configurationWasSuccess")):J.Z.error(c("error"),c("pages.shop.setting.tryAgainLater"))})).catch((function(){return J.Z.error(c("error"),c("pages.shop.setting.tryAgainLater"))}))})),a.state=tt({shopInfo:{},isLoading:!1,modalVisible:!1,sipUriModal:!1,sipUri:"",curToken:"",listExtraStatus:[],visibleCustomOrderId:!1,visibleSetUpPage:!1,customPage:[],visibleListOrderSources:!1,openModalConversationTag:!1,conversation_tags:[],copyValue:void 0,isVisibleCloneShop:!1,destinyShop:void 0,searchShop:"",isScanBarcodeSound:!1,listAddNotificationPartner:[],scanBarcodeSoundModal:!1,custom_partners:[],listAddOrderStatus:[],activeKey:"tab-transport",selecting:!1,customEmployee:[],activeKeyOrderCode:"order-code",typeLockExport:"exportProduct",visibleDuplicate:!1},a.applyShop(e.currentShop)),a.messagesEndRef=L.createRef(),a}return(0,v.Z)(n,null,[{key:"getInitialProps",value:function(){var e=(0,f.Z)(m().mark((function e(t){var n,a;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,a=n.isOpenPayment||!1,e.abrupt("return",{isOpenPayment:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),(0,v.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.shopId,a=t.accessToken,o="".concat((0,se.LpH)(),"/shops/").concat(n,"?access_token=").concat(a);G().get(o).then((function(t){t.data&&!0===t.data.success&&e.setState(e.applyShop(t.data.shop))})),this.props.fetchPrintLabels(a,n),this.props.isOpenPayment&&this.scrollToBottom()}},{key:"sendToBackEnd",value:function(e,t,n,a){var o=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"shop",i=this.props.t,r=this.props,c=r.accessToken,d=(r.shopId,"".concat((0,se.LpH)(),"/shops/").concat(this.state.shopInfo.shopId,"?access_token=").concat(c)),l=Object.assign({},this.state.shopInfo);this.setState({isLoading:!0});var u="settings"==s?{settings:(0,k.Z)({},e,{$set:n||!t})}:(0,k.Z)({},e,{$set:n||!t}),p="settings"==s?{settings:(0,k.Z)({},e,l.settings[e])}:{shop:(0,k.Z)({},e,l[e])};G()({method:"put",url:d,data:p}).then((function(t){200===t.status&&t.data?(J.Z.success(i("pages.shop.setting.configurationWasSuccess")),o.props.dispatch({type:re.D5C,payload:t.data.shop}),o.props.dispatch({type:re.$Lp,payload:t.data.shop}),n!=l[e]&&"use_custom_geo_filter"==e&&o.setState({shopInfo:tt(tt({},l),{},{hn_inners:t.data.shop.hn_inners,hcm_inners:t.data.shop.hcm_inners})})):(o.setState({shopInfo:Y()(o.state.shopInfo,u)}),J.Z.error(i("error"),i("pages.shop.setting.tryAgainLater"))),o.setState({isLoading:!1}),a&&a()})).catch((function(e){o.setState({shopInfo:Y()(o.state.shopInfo,u),isLoading:!1}),J.Z.error(i("error"),i("pages.shop.setting.tryAgainLater"))}))}},{key:"handleChangeSwitch",value:function(){var e=(0,f.Z)(m().mark((function e(t,n){var a,o,s,i,r,c,d,l;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"use_waitting_status"==t&&(n?this.state.listExtraStatus.push("use_waitting_status"):(this.state.shopInfo.not_minus_waitting_quantity=!1,this.state.shopInfo.allow_waitting_order=!1,this.state.listExtraStatus=this.state.listExtraStatus.filter((function(e){return"use_waitting_status"!=e})))),"scan_barcode_sound_settings"==t&&(a=this.state,o=a.shopInfo.scan_barcode_sound_settings,s=a.custom_partners,i=[],r=[],c=(0,se.UFU)().slice(0,7),o||(d=[{partner_id:"0",partner_name:"SNAPPY",sound_id:1},{partner_id:"3",partner_name:"VTP",sound_id:2},{partner_id:"2",partner_name:"EMS",sound_id:3},{partner_id:"4",partner_name:"247",sound_id:4},{partner_id:"5",partner_name:"GHN",sound_id:5},{partner_id:"1",partner_name:"GHTK",sound_id:6},{partner_id:"7",partner_name:"VNP",sound_id:7},{partner_id:"17",partner_name:"VNPost",sound_id:7}],r=c.map((function(e){return tt(tt({},e),{},{sound_id:1})})),i=d.concat(s.map((function(e){return{partner_id:e.id,partner_name:e.name,sound_id:10}}))),o={enabled:n.toString(),partners:i,order_status:r}),o&&"false"==o.enabled&&(i=o.partners.concat(s.filter((function(e){return!o.partners.map((function(e){return e.partner_id})).includes(e.id)})).map((function(e){return{partner_id:e.id,partner_name:e.name,sound_id:10}}))),r=o.order_status&&o.order_status.concat(c.filter((function(e){return!o.order_status.map((function(e){return e.id})).includes(e.id)})).map((function(e){return{id:e.id,status:e.status,label:e.label,sound_id:1}}))),o={enabled:n.toString(),partners:i,order_status:r}),o&&"true"==o.enabled&&!o.order_status&&(r=c.map((function(e){return tt(tt({},e),{},{sound_id:1})})),i=o.partners.concat(s.filter((function(e){return!o.partners.map((function(e){return e.partner_id})).includes(e.id)})).map((function(e){return{partner_id:e.id,partner_name:e.name,sound_id:10}}))),o={enabled:n.toString(),partners:i,order_status:r}),this.setState({isScanBarcodeSound:n}),n=tt(tt({},o),{},{enabled:n.toString()})),"referral_code_discount"==t&&(l=this.state.shopInfo.referral_code_discount,n=l?tt(tt({},l),{},{active:n}):{active:n,is_percent:!0,value:0}),e.next=5,this.setState({shopInfo:Y()(this.state.shopInfo,(0,k.Z)({},t,{$set:n}))});case 5:this.sendToBackEnd(t,n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getListCountry",value:function(){var e=this.props.t;return Je(N.default,{mode:"multiple",placeholder:e("pages.shop.setting.selectCountry"),value:this.state.shopInfo.country_code,onSelect:this.handleSelectCountryChange(!0),onDeselect:this.handleSelectCountryChange(!1),style:{width:250}},Je(at,{key:"84",value:"84"},"Vi\u1ec7t Nam"),Je(at,{key:"62",value:"62"},"Indonesia"),Je(at,{key:"855",value:"855"},"Cambodia"),Je(at,{key:"856",value:"856"},"Laos"),Je(at,{key:"63",value:"63"},"Philippines"),Je(at,{key:"886",value:"886"},"Taiwan"),Je(at,{key:"66",value:"66"},e("pages.shop.setting.country.thailand")),Je(at,{key:"60",value:"60"},"Malaysia"),Je(at,{key:"244",value:"244"},"Angola"),Je(at,{key:"234",value:"234"},"Nigeria"),Je(at,{key:"91",value:"91"},e("pages.shop.setting.country.india")),Je(at,{key:"1",value:"1"},"USA"),Je(at,{key:"81",value:"81"},e("pages.shop.setting.country.japan")),Je(at,{key:"95",value:"95"},"Myanmar"),Je(at,{key:"65",value:"65"},"Singapore"),Je(at,{key:"971",value:"971"},"UAE"),Je(at,{key:"965",value:"965"},"Kuwait"),Je(at,{key:"968",value:"968"},"Oman"),Je(at,{key:"973",value:"973"},"Bahrain"),Je(at,{key:"974",value:"974"},"Qatar"),Je(at,{key:"966",value:"966"},"Saudi Arabia"),Je(at,{key:"82",value:"82"},e("pages.shop.setting.country.southKorea")),Je(at,{key:"852",value:"852"},"Hong Kong"),Je(at,{key:"57",value:"57"},"Colombia"),Je(at,{key:"593",value:"593"},"Ecuador"))}},{key:"handleStatusExtra",value:function(){var e=this.props.t,t=[{key:"use_waitting_status",text:e("components.orderActionButton.waitting"),disabled:!0},{key:"use_printed_status",text:e("components.orderActionButton.printed")},{key:"use_wait_print_status",text:e("components.orderActionButton.waitPrint")},{key:"use_removed_status",text:e("components.orderActionButton.removed")},{key:"use_ordered_status",text:e("tool.ordered")}];return Je(N.default,{mode:"multiple",placeholder:e("components.orderActionButton.orderAdditionStatus"),value:this.state.listExtraStatus,style:{width:250},onSelect:this.handleAdvanceStatusChange,onDeselect:this.handleAdvanceStatusChange},t.map((function(e){return Je(at,{key:e.key,value:e.key,disabled:e.disabled},e.text)})))}},{key:"handleStatusConfirm",value:function(){var e=this.props.t;return Je(N.default,{mode:"multiple",placeholder:e("pages.shop.setting.changeStatusConfirmOrder"),value:this.state.shopInfo.status_order_confirm,onSelect:this.handleSelectStatusConfirm(!0),onDeselect:this.handleSelectStatusConfirm(!1),style:{width:250}},Je(at,{key:"1",value:"1"},e("components.orderActionButton.submitted")),Je(at,{key:"2",value:"2"},e("components.orderActionButton.shipped")),Je(at,{key:"3",value:"3"},e("components.orderActionButton.delivered")),Je(at,{key:"4",value:"4"},e("components.orderActionButton.return")),Je(at,{key:"5",value:"5"},e("components.orderActionButton.returned")),Je(at,{key:"6",value:"6"},e("components.orderActionButton.cancel")),Je(at,{key:"7",value:"7"},e("components.orderActionButton.removed")),Je(at,{key:"8",value:"8"},e("components.orderActionButton.packing")),Je(at,{key:"9",value:"9"},e("components.orderActionButton.pending")))}},{key:"onChangeCustomOrderId",value:function(){var e=this.state.shopInfo.custom_order_id;this.sendToBackEnd("custom_order_id",null,e),this.setState({visibleCustomOrderId:!1})}},{key:"onChangeEmployeeViewingOrders",value:function(){var e=(0,f.Z)(m().mark((function e(t,n){var a,o,s,i,r;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state.shopInfo.show_employee_viewing_orders,o=a?tt({},a):{active:!1,only_one_employee_viewing:!1,time_range:0},e.t0=t,e.next="active"===e.t0?5:"only_one_employee_viewing"===e.t0?9:11;break;case 5:return o.active=n,(s=localStorage.getItem("columns"))&&(i=JSON.parse(s).checkedList,r=i.findIndex((function(e){return"viewing"==e})),n?-1==r&&(i=i.concat(["viewing"])):-1!=r&&(i=i.filter((function(e){return"viewing"!=e}))),localStorage.setItem("columns",JSON.stringify({checkedList:i}))),e.abrupt("break",13);case 9:return o.only_one_employee_viewing=n,e.abrupt("break",13);case 11:return o.time_range=n,e.abrupt("break",13);case 13:return e.next=15,this.setState({shopInfo:Y()(this.state.shopInfo,{show_employee_viewing_orders:{$set:o}})});case 15:this.sendToBackEnd("show_employee_viewing_orders",null,o);case 16:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"renderConditionConfirm",value:function(){var e=this,t=this.state.shopInfo.condition_confirm_order,n=this.props.t;return Je(N.default,{mode:"multiple",size:"default",placeholder:n("pages.shop.setting.selectCondition"),value:t||[],style:{width:250},onChange:function(t){return e.onChangeConditionConfirm(t)}},Je(at,{value:"customer_name",key:"customer_name"},n("pages.shop.setting.buyerName")),Je(at,{value:"phone_number",key:"phone_number"},n("pages.shop.setting.buyerPhoneNumber")),Je(at,{value:"address",key:"address"},n("pages.shop.setting.buyerAddress")),Je(at,{value:"province_id",key:"province_id"},n("pages.shop.setting.buyerProvince")),Je(at,{value:"district_id",key:"district_id"},n("pages.shop.setting.buyerDistrict")),Je(at,{value:"commune_id",key:"commune_id"},n("pages.shop.setting.buyerCommune")),Je(at,{value:"post_code",key:"post_code"},"Postcode"),Je(at,{value:"warehouse_id",key:"warehouse_id"},n("pages.shop.setting.conditionWarehouse")),Je(at,{value:"items",key:"items"},n("products.title")),Je(at,{value:"order_sources",key:"order_sources"},n("pages.shop.setting.conditionOrderSource")),Je(at,{value:"marketer",key:"marketer"},"Marketer"))}},{key:"renderSelectDefaultPayment",value:function(){var e=this,t=this.props,n=t.t,a=t.currentShop,o=this.state.shopInfo.payments_default,s=[{label:this.props.t("components.orderAdvanceFilter.transferMoney"),value:"transfer_money"},{label:this.props.t("components.orderAdvanceFilter.cash"),value:"cash"},{label:this.props.t("components.orderAdvanceFilter.changedByCard"),value:"charged_by_card"},{label:"MoMo",value:"charged_by_momo"},{label:"VNPay",value:"charged_by_vnpay"},{label:"Kredivo",value:"charged_by_kredivo"},{label:"Fundiin",value:"charged_by_fundiin"},{label:"QRPay",value:"charged_by_qrpay"}];return s=s.concat((a.bank_payments||[]).map((function(e){return{label:e.name,value:e.id}}))),Je(N.default,{mode:"multiple",size:"default",placeholder:n("pages.shop.setting.selectPayments"),value:o||[],style:{width:250},onChange:function(t){return e.onChangePaymentsDefault(t)}},s.map((function(e){return Je(at,{value:e.value,key:e.value},e.label)})))}},{key:"renderConditionCreate",value:function(){var e=this,t=this.state.shopInfo.condition_create_order,n=this.props.t;return Je(N.default,{mode:"multiple",size:"default",placeholder:n("pages.shop.setting.selectCondition"),value:t||[],style:{width:250},onChange:function(t){return e.onChangeConditionCreate(t)}},Je(at,{value:"customer_name",key:"customer_name"},n("pages.shop.setting.buyerName")),Je(at,{value:"phone_number",key:"phone_number"},n("pages.shop.setting.buyerPhoneNumber")),Je(at,{value:"address",key:"address"},n("pages.shop.setting.buyerAddress")),Je(at,{value:"province_id",key:"province_id"},n("pages.shop.setting.buyerProvince")),Je(at,{value:"district_id",key:"district_id"},n("pages.shop.setting.buyerDistrict")),Je(at,{value:"commune_id",key:"commune_id"},n("pages.shop.setting.buyerCommune")),Je(at,{value:"post_code",key:"post_code"},"Postcode"),Je(at,{value:"warehouse_id",key:"warehouse_id"},n("pages.shop.setting.conditionWarehouse")),Je(at,{value:"items",key:"items"},n("products.title")),Je(at,{value:"order_sources",key:"order_sources"},n("pages.shop.setting.conditionOrderSource")),Je(at,{value:"marketer",key:"marketer"},"Marketer"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.url,a=t.shopId,s=t.currentShop,r=t.t,c=t.tables,d=t.updateTable,l=t.accessToken,u=t.updateTables,h=this.state,m=h.shopInfo,f=h.isLoading,_=h.modalVisible,y=h.sipUriModal,v=h.sipUri,b=h.destinyShop,w=h.searchShop,x=h.visibleDuplicate,k=m.country_code,C=s.type,S={textAlign:"center",width:66,height:25,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},I=c.filter((function(e){return e.is_update_by_unique_field}));return Je(ne.Z,{style:{padding:0}},Je(de.Z,{isConverting:!0,modalVisible:_,typeShop:C,changeTypeShop:this.changeTypeShop,nameShop:s.name,setModalVisible:this.setModalVisible}),Je(te.Z,{url:n,shopId:a},Je("div",{className:"setting-body"},Je("div",{className:"setting-rows"},Je("div",{className:"setting-col ".concat(f?"blur-when-loading":"")},3==C&&Je("div",{className:"setting-card",style:{marginRight:20}},Je("div",{className:"setting-box",style:{marginBottom:0}},Je("div",{className:"setting-title"},r("pages.shop.setting.generalConfiguration").toUpperCase()),Je("div",{className:"setting-card-body"},this.renderChangeType(),this.renderChangeCurrency(),Je("li",{className:"setting-option"},Je("span",null,r("pages.shop.setting.updateByUniqueField")),Je(N.default,{value:I.map((function(e){return e.name})),mode:"multiple",style:{width:152},placeholder:r("crm.selectValue",{data:r("crm.tables")}),onSelect:function(t){return e.handleSelectUpdateByUniqueField(t,!0)},onDeselect:function(t){return e.handleSelectUpdateByUniqueField(t,!1)}},c.map((function(e){return Je(at,{key:e.name,value:e.name},e.label)})))),Je("li",{className:"setting-option"},Je("span",null,r("crm.theTimePeriodMarkedWithTheSameHoneNumber")),Je(g.default,{className:"setting-button",onClick:function(){return e.setState({visibleDuplicate:!0})}},Je("span",{className:"setting-button-title"},r("settings.title")),Je("span",{className:"icon-setting"},Je(D.Z,null))))))),[1,2].includes(C)&&Je("div",{className:"setting-card",style:{paddingRight:20}},2!=C?this.renderOrderManagement():null,this.renderOrderConfiguration(),Je(p.Z,{closable:!1,visible:y,onOk:this.handleSipChange,onCancel:function(){return e.setState({sipUriModal:!1})}},Je(Z.default,{placeholder:r("pages.shop.setting.enterSocketUri"),value:v,onChange:function(t){return e.setState({sipUri:t.target.value})}})))),Je("div",{className:"setting-col"},Je("div",{className:"setting-card"},[1,2].includes(C)&&this.renderProductConfiguration(),[1,2].includes(C)&&this.renderCustomerConfiguration(),[1,2].includes(C)&&this.renderGeneralConfiguration(),3==C&&this.renderSelectCountryOfBusiness(k),3==C&&Je(Qe,{t:r,shopId:a,accessToken:l,updateTable:d,visible:x,currentShop:s,tables:c,updateTables:u,callback:function(t){return e.setState({visibleDuplicate:t})}}),this.state.isVisibleCloneShop&&Je(p.Z,{title:r("pages.shop.setting.copyConfigurationShop"),footer:null,width:800,visible:this.state.isVisibleCloneShop,onCancel:function(){return e.setState({isVisibleCloneShop:!1})}},Je(st,{placeholder:r("pages.dashboard.enterTextToSearch"),onChange:function(t){return e.setState({searchShop:t.target.value})},style:{width:250,marginLeft:500}}),Je("div",{style:{display:"flex",marginTop:-40,marginLeft:50,marginBottom:40}},Je("div",null,Je(i.default,{placement:"top",title:s.name},Je("div",{style:{display:"flex"}},s.pages.length>0?Je(Be.Z,{ids:s.pages.map((function(e){return e.id})),width:64,height:64}):Je(Le.Z,{name:s.name,seed:s.id}))),Je("div",{style:S},s.name)),b&&Je("div",{style:{margin:20}},">>"),b&&Je("div",null,Je(i.default,{placement:"top",title:b.name},Je("div",{style:{display:"flex"}},b.pages.length>0?Je(Be.Z,{ids:b.pages.map((function(e){return e.id})),width:64,height:64}):Je(Le.Z,{name:b.name,seed:b.id}))),Je("div",{style:S},b.name))),Je("span",{style:{marginLeft:50,fontWeight:500,fontSize:16}},r("pages.dashboard.selectDestinyShop")),Je("div",{className:"shop-container-config ".concat(f?"blur-when-loading":"")},this.props.shops.filter((function(e){return e.id!=s.id&&e.type==s.type})).filter((function(e){return(0,se.C6S)((0,se.Mle)(w),(0,se.Mle)(e.name))||e.pages.find((function(e){return(0,se.C6S)((0,se.Mle)(w),(0,se.Mle)(e.name))}))||e.id==parseInt(w)||e.pages.find((function(e){return e.id==w}))})).map((function(t,n){return Je("div",{className:"copy-config-shop",style:{display:"inline-block",cursor:"pointer",border:"1px solid #".concat(b&&b.id==t.id?"389e0d":"eee")}},Je(o.Z,{count:b&&b.id==t.id?Je(K.Z,{style:{fontSize:17},twoToneColor:"#87d068"}):null},Je("div",{className:"shop-info",onClick:function(){return e.setState({destinyShop:t})}},Je(i.default,{placement:"top",title:t.name},t.pages.length>0?Je(Be.Z,{ids:t.pages.map((function(e){return e.id})),width:64,height:64}):Je(Le.Z,{name:t.name,seed:t.id}),Je("div",{className:"shop-name ellipsis",style:{color:"rgba(0,0,0,.65)"}},t.name)))))}))),Je("div",{style:{display:"flex",justifyContent:"center"}},Je(g.default,{type:"primary",onClick:function(){return e.handleConfigShopChange(b.id)},disabled:!b},Je("span",null,r("pages.shop.copy")))))))))))}}]),n}(L.Component);(0,k.Z)(lt,"pageInfo",{title:"settings.title",sassStyle:oe()});var ut=(0,ie.$j)((function(e){return{users:e.user.users,currentShop:e.shop.currentShop,shops:e.shop.shops,printLabels:(0,Q.Fh)(e),tables:e.crm.tables}}),{updateUser:ce.Nqq,updateShopType:ce.quD,fetchListOfShops:ce.lUQ,fetchListOfPages:ce.Viu,fetchPrintLabels:ce.H2B,updateTable:ce.T0I,updateCategory:ce.yr$,createCategory:ce.k4B,fetchReturnedReasonCustom:ce.PX9,updateTables:ce.y20})((0,ee.Z)(lt))},80539:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop/setting",function(){return n(57784)}])}},function(e){e.O(0,[5460,1181,2902,3003,7457,9774,2888,179],(function(){return t=80539,e(e.s=t);var t}));var t=e.O();_N_E=t}]);