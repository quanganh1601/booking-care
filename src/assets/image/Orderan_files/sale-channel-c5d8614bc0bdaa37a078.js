(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1024],{79972:function(t){!function(){"use strict";t.exports=".sync-channel-addvance-filter .atn-btn{border-radius:2px !important}"}()},29267:function(t){!function(){"use strict";t.exports=".product-sale-channel .header-select-search{width:175px !important;position:absolute;z-index:1000;top:-48px}.product-sale-channel .header-select-search .ant-select{width:100%}.product-sale-channel .header-select-search .ant-select .ant-select-selector{display:flex;height:48px;align-items:center;border-top:none;border-bottom:none;border-right:none;text-align:center}.product-sale-channel .header-select-search .ant-select .ant-select-arrow{right:23px}.product-sale-channel .ant-table-wrapper .ant-table-header{padding-right:0}.product-sale-channel .ant-table-wrapper .ant-table-body{height:calc(100vh - 176px)}.product-sale-channel .ant-table-wrapper .ant-table-body .ant-table-row{cursor:pointer}.product-sale-channel .show-filter{width:100%;display:flex;flex-direction:row-reverse;flex-wrap:wrap;margin-bottom:5px}.product-sale-channel .show-filter .ant-tag{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-top:3px;border-radius:2px !important;display:flex;align-items:center;height:25px;background:#fff}.product-item{margin-top:5px;min-height:60px;background-color:#f7f7f7;padding:5px;border-radius:2px;border:1px solid #d9d9d9}.product-item .ant-card-body{padding:10px}.tools-container .filter .ant-input-affix-wrapper{width:35vw;position:absolute;top:-48px;z-index:1000;border:0;border-radius:0;border-left:1px solid #d9d9d9;height:48px;padding-left:20px}.tools-container .filter .ant-input-affix-wrapper .ant-input-prefix{font-size:16px;font-weight:bold;margin-left:10px}.tools-container .filter .ant-input-affix-wrapper .ant-input{border:none;font-size:15px !important;background:#fff}.tools-container .filter .ant-input-affix-wrapper .ant-input:focus{box-shadow:none}.setting-col{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;width:100%}.setting-col .partner-card{border-radius:2px;padding:5px;padding-left:15px}.setting-col .partner-card .setting-row{display:flex;margin-right:-15px;margin-left:-15px}.setting-col .partner-card .setting-row .partner-image{width:10%;max-width:180px;min-width:60px}.setting-col .partner-card .setting-row .partner-info{width:100%;margin-left:20px;margin-right:10px}.setting-col .partner-card .setting-row .partner-info .partner-connect-button{border-radius:2px !important;height:38px}.product-creator-modal .ant-modal .ant-modal-header{padding:20px 24px !important}.product-creator-modal .ant-modal .ant-modal-body{padding-bottom:0;background-color:#ededed;height:76vh;overflow:overlay;border-radius:2px}.product-creator-modal .ant-modal .ant-modal-footer{padding:0;text-align:left !important}.product-creator-modal .ant-modal .steps-container .ant-btn{border-radius:2px}.product-creator-modal .ant-modal .steps-container .ant-select{font-size:14px}.product-creator-modal .ant-modal .steps-container .shopee_logistics_channels{font-size:13px}.product-creator-modal .ant-modal .steps-container .shopee_logistics_channels .logistics-setting-panel{padding:13px;background:#fafafa}.product-creator-modal .ant-modal .steps-container .shopee_logistics_channels .logistics-setting-panel__section{border:1px solid #e8e8e8;border-radius:1px;position:relative;padding:10px}.product-creator-modal .ant-modal .steps-container .shopee_logistics_channels .logistics-setting-panel__section .logistics-setting-panel__item{padding:0 20px;display:flex;align-items:center}.product-creator-modal .ant-modal .steps-container .shopee_logistics_channels .logistics-setting-panel__section .logistics-setting-panel__item .logistics-setting-panel__item__label{font-size:10px;color:#fff;background-color:#ff5722;line-height:1.8em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-radius:2px;text-align:center;vertical-align:middle;padding:2px 8px}.product-creator-modal .ant-modal .steps-container .shopee_logistics_channels .logistics-setting-panel__section .logistics-setting-panel__item .ember-view{display:flex;justify-content:flex-end}.product-creator-modal .ant-modal .steps-container .shopee_logistics_channels .shopee-button--inverted{background:0 0;border:1px solid #ff5722;box-shadow:none;color:#ff5722;margin-top:10px;width:35%}.product-creator-modal .ant-modal .steps-container .first-step{display:flex;flex-direction:column;padding-bottom:25px;font-size:14px}.product-creator-modal .ant-modal .steps-container .first-step .id-container{display:grid;background-color:#fff;box-shadow:0 0 0 1px rgba(63,63,68,.05),0 1px 3px 0 rgba(63,63,68,.15);border-radius:2px;flex:5;height:-webkit-max-content;height:-moz-max-content;height:max-content}.product-creator-modal .ant-modal .steps-container .first-step .id-container .product-info{display:grid;padding:10px;align-items:center;width:100%}.product-creator-modal .ant-modal .steps-container .first-step .id-container .product-info span{font-weight:500;white-space:nowrap}.product-creator-modal .ant-modal .steps-container .first-step .id-container .product-info .ant-input{border-radius:2px !important}.product-creator-modal .ant-modal .steps-container .first-step .id-container .product-info .ant-input-affix-wrapper{margin-top:10px;border-radius:2px !important}.product-creator-modal .ant-modal .steps-container .first-step .id-container .product-info .brand .ant-select{width:100%;padding-top:10px}.product-creator-modal .ant-modal .steps-container .first-step .id-container .product-info .brand .ant-select .ant-select-search__field__placeholder{top:27px}.product-creator-modal .ant-modal .steps-container .first-step .id-container .product-info .brand .ant-select .ant-select-selection{border-radius:2px !important;min-height:34px}.product-creator-modal .ant-modal .steps-container .first-step .id-container .product-info .brand .ant-select .ant-select-selection__rendered{display:flex;align-items:center;flex-wrap:wrap}.product-creator-modal .ant-modal .steps-container .first-step .category-container{background-color:#fff;box-shadow:0 0 0 1px rgba(63,63,68,.05),0 1px 3px 0 rgba(63,63,68,.15);border-radius:2px;height:-webkit-max-content;height:-moz-max-content;height:max-content}.product-creator-modal .ant-modal .steps-container .first-step .category-container .category-select{padding:10px;align-items:center;width:100%}.product-creator-modal .ant-modal .steps-container .first-step .category-container .category-select .ant-select{width:100%;padding-top:10px}.product-creator-modal .ant-modal .steps-container .first-step .category-container .category-select .ant-select .ant-select-search__field__placeholder{top:27px}.product-creator-modal .ant-modal .steps-container .first-step .category-container .category-select .ant-select .ant-select-selection{border-radius:2px !important;min-height:34px}.product-creator-modal .ant-modal .steps-container .first-step .category-container .category-select .ant-select .ant-select-selection__rendered{display:flex;align-items:center;flex-wrap:wrap}.product-creator-modal .ant-modal .steps-container .first-step .category-container .period-select{padding:10px 0px 0px 10px}.product-creator-modal .ant-modal .steps-container .first-step .category-container .period-select .ant-input{text-align:right;padding-right:50px;min-height:32px}.product-creator-modal .ant-modal .steps-container .first-step .attribute-table{margin-top:10px;box-shadow:0 0 0 1px rgba(63,63,68,.05),0 1px 3px 0 rgba(63,63,68,.15);border:none !important}.product-creator-modal .ant-modal .steps-container .first-step .attribute-table .ant-empty-normal{margin:0px}.product-creator-modal .ant-modal .steps-container .first-step .attribute-table .ant-table-body{overflow:hidden !important;max-height:-webkit-fit-content !important;max-height:-moz-fit-content !important;max-height:fit-content !important}.product-creator-modal .ant-modal .steps-container .first-step .attribute-table .ant-table{border-bottom:0 !important;border-radius:2px}.product-creator-modal .ant-modal .steps-container .first-step .attribute-table .ant-table .ant-input{min-height:32px;border-radius:2px !important}.product-creator-modal .ant-modal .steps-container .first-step .limit_quantity_to_warn{margin-top:15px;display:flex;line-height:37px;font-size:14px}.product-creator-modal .ant-modal .steps-container .first-step .limit_quantity_to_warn .ant-input-prefix{font-size:14px}.product-creator-modal .ant-modal .steps-container .first-step .limit_quantity_to_warn .ant-input{text-align:right}.product-creator-modal .ant-modal .steps-container .first-step .add-attribute{position:absolute;right:4px;top:4px;z-index:999;display:flex;align-items:flex-end;justify-content:space-between}.product-creator-modal .ant-modal .steps-container .second-step .title{font-size:14px;padding:10px 10px 10px 0px;border-bottom:1px solid #d9d9d9;width:100%;top:10px}.product-creator-modal .ant-modal .steps-container .second-step .variations-container{box-shadow:0 0 0 1px rgba(63,63,68,.05),0 1px 3px 0 rgba(63,63,68,.15)}.product-creator-modal .ant-modal .steps-container .second-step .variations-container .card-variation{overflow:auto;max-height:50vh;overflow-x:hidden}.product-creator-modal .ant-modal .steps-container .second-step .variations-container .card-variation .ant-row input{text-align:right;border-radius:2px !important}.product-creator-modal .ant-modal .steps-container .second-step .variations-container .card-variation .ant-row .suffix-absolute{width:100%;text-align:right !important}.product-creator-modal .ant-modal .steps-container .second-step .variations-container .card-variation .box-input-number-wrapper{border:1px solid #d9d9d9;border-radius:2px !important}.product-creator-modal .ant-modal .steps-container .second-step .variations-container .card-variation .box-input-number-wrapper .disabled-input-variation{border-radius:2px !important}.product-creator-modal .ant-modal .steps-container .second-step .variations-container .card-variation .box-input-number-wrapper .ant-input-number{border-radius:2px}.product-creator-modal .ant-modal .steps-container .second-step .variations-container .card-variation .box-input-number-wrapper .ant-input-number .ant-input-number-focused{border-radius:2px !important}.product-creator-modal .ant-modal .steps-container .second-step .variations-container .card-variation .box-input-number-wrapper .ant-input-number .ant-input-number-input-wrap{padding-top:5px}.product-creator-modal .ant-modal .steps-container .second-step .variations-container .card-variation .box-input-number-wrapper .ant-input-number .ant-input-number-handler-wrap{border-top-left-radius:20px;border-bottom-left-radius:20px}.product-creator-modal .ant-modal .steps-container .second-step .ant-card:hover{background-color:#ebf8f9}.product-creator-modal .ant-modal .steps-container .second-step .variation-card{border-radius:2px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card:not(:first-child){margin-top:15px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body{padding:10px;display:flex;flex-direction:row}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification{flex:1;display:flex;flex-direction:row;flex-wrap:wrap}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-head{flex:1;display:flex;flex-direction:row}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-head .images-preview{border:1px dashed #d9d9d9;border-radius:50%;margin-right:10px;background-color:#fbfbfb;vertical-align:top;cursor:pointer;position:relative;line-height:.5}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-head .images-preview .anticon{font-size:40px;color:#999;margin:19px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-head .images-preview img{width:80px;height:80px;border-radius:inherit}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-head .images-preview .images-counter{width:100%;height:100%;padding:30px;background-color:rgba(55,55,55,.4);position:absolute;font-size:35px;border-radius:inherit;color:#fff;top:0;right:0}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-head .variation-id{flex:1;border-left:1px dashed #d9d9d9;border-right:1px dashed #d9d9d9;padding:0 10px;display:flex;justify-content:space-between;flex-direction:column}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-price{flex:1;display:flex;flex-direction:column;justify-content:space-between;border-right:1px dashed #d9d9d9;padding:0 10px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-price .ant-input-prefix{font-size:14px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-price .ant-input-suffix{font-size:14px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-price .ant-input{text-align:right}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-info{flex:1;display:flex;flex-direction:column;justify-content:space-between;border-right:1px dashed #d9d9d9;padding:0 10px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-info .attribute-select{width:100%}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-info .attribute-select .ant-select .ant-select-selection{border-radius:0 2px 2px 0;min-height:32px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-info .attribute-select .ant-select .ant-select-selection__rendered{line-height:32px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-info .info{display:flex;flex-direction:row}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-info .info .ant-input-affix-wrapper:not(:last-child){margin-right:10px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-info .info .ant-input-affix-wrapper .ant-input-prefix{font-size:14px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-info .info .ant-input-affix-wrapper .ant-input-suffix{font-size:14px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-info .info .ant-input-affix-wrapper .ant-input{text-align:right}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .tools-container{padding-left:10px;display:flex;flex-direction:column;justify-content:space-around}@media screen and (max-width: 1200px){.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body{flex-direction:column}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification{border-bottom:1px dashed #d9d9d9;padding-bottom:10px}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-price{padding-right:0;border-right:0}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-info{max-height:91px;padding:10px 0 0 0;border-right:0}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .tools-container{padding:10px 0 0 0;margin-top:10px;border-top:1px dashed #d9d9d9;flex-direction:row;justify-content:flex-end}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .tools-container .ant-btn:not(:last-child){margin-right:10px}}@media screen and (max-width: 650px){.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification{flex-direction:column}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-head .variation-id{padding-right:0;border-right:0}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-identification .variation-price{border-top:1px dashed #d9d9d9;margin-top:10px;height:91px;padding:10px 0 0 0}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-info{height:184px;padding-bottom:0}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .variation-info .info{flex:1;flex-direction:column;margin-top:6px;justify-content:space-around}.product-creator-modal .ant-modal .steps-container .second-step .variation-card .ant-card-body .tools-container{margin-top:3px}}.product-variation-detail{display:flex;align-items:center;border-bottom:1px solid #d9d9d9}.product-variation-detail:last-child{border-bottom:none}"}()},7690:function(t,e,n){"use strict";var a,o=n(71535),r=n(65400),i=n(74047),s=n(52700),c=n(4706),l=n(33814),d=n(44102),p=n(20775),u=n(26265),h=n(65988),f=n(67294),m=n(99069),g=n(17405),y=n(57254),v=n(87217),b=n(95213),_=n(20920),k=f.createElement;function x(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,p.Z)(t);if(e){var o=(0,p.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,d.Z)(this,n)}}var S="btn-filter",w=(0,v.Z)()(a=function(t){(0,l.Z)(n,t);var e=x(n);function n(t){var a;return(0,i.Z)(this,n),a=e.call(this,t),(0,u.Z)((0,c.Z)(a),"handleClickOutSideFilter",(function(t){var e=a.state.popupVisible,n=a.props,o=n.popupClassName,r=n.id,i=n.field;t.stopPropagation();var s=document.getElementsByClassName(o)[0],c=document.getElementById("advance-filter-".concat(null===i||void 0===i?void 0:i.name));if(s){var l=s.getBoundingClientRect();if(l.left<t.x&&t.x<l.right&&l.top<t.y&&t.y<l.bottom)return}var d=document.getElementsByClassName("ant-picker-dropdown-range")[0],p=r?document.getElementById(r):document.getElementById(S);s&&(s.contains(t.target)||p.contains(t.target)||d&&d.contains(t.target)||c&&c.contains(t.target)||e&&a.setPopupVisible(!1))})),(0,u.Z)((0,c.Z)(a),"setPopupVisible",(function(t){return a.setState({popupVisible:t})})),(0,u.Z)((0,c.Z)(a),"handleFilter",(function(){var t=a.props,e=t.field,n=t.callBackField,o=t.type,r=(t.popupClassName,a.state.popupVisible);a.setPopupVisible(!r),o&&n(e)})),(0,u.Z)((0,c.Z)(a),"styleModal",(function(t){var e=a.props,n=e.columnsWidth,o=e.field,r=e.dataSource,i=n[o.name];return i=(i=i||(0,b.IQS)(r,o.type==(0,_.Rt)().boolean.id?o.label:o.name))&&(i.toString().includes("em")?i:"".concat(i,"px")),k(h.default,{id:"2766829989",dynamic:[t,i,t]},[".".concat(t," .ant-cascader-menu:first-child{width:").concat(i,";min-width:150px;max-width:285px;}"),".".concat(t," .ant-cascader-menu-item-disabled{position:-webkit-sticky;position:sticky;top:-4px;padding-top:5px;z-index:900;background-color:#fff;}")])})),(0,u.Z)((0,c.Z)(a),"getButton",(function(){var t=a.props,e=t.t,n=t.label,o=t.type,i=t.field,s=t.popupClassName,c=t.id,l=t.noIcon;return n?k("span",{id:c||S,className:"btn-advance-filter",onClick:a.handleFilter},n):o?k("span",{id:"advance-filter-".concat(i.name),onClick:function(){return a.handleFilter()},style:{width:20}},a.styleModal(s),k(m.Z,{style:{color:"#949494"},className:"field-icon"})):k(r.default,{id:c||S,icon:l?null:k(g.Z,null),onClick:function(){return a.handleFilter()},className:"btn-advance-filter"},e("crm.addFilter"),k(y.Z,null))})),a.state={popupVisible:!1},a}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.props.onRef&&this.props.onRef(this),document.addEventListener("click",this.handleClickOutSideFilter,!1)}},{key:"componentWillUnmount",value:function(){this.props.onRef&&this.props.onRef(null),document.removeEventListener("click",this.handleClickOutSideFilter,!1)}},{key:"render",value:function(){var t=this.props,e=t.options,n=t.popupClassName,a=t.onChange,r=t.changeOnSelect,i=t.loadData,s=t.disabled,c=t.displayRender,l=t.type,d=this.state.popupVisible;return k(o.Z,{defaultValue:l?["$customize"]:"",popupVisible:d,popupClassName:n,options:e,popupPlacement:"bottomRight",changeOnSelect:r,onChange:a,loadData:i,disabled:s,displayRender:c},this.getButton())}}]),n}(f.Component))||a;e.Z=w},45812:function(t,e,n){"use strict";var a=n(65400),o=n(74806),r=n(67294),i=n(54549),s=n(74298),c=r.createElement;e.Z=function(t){var e=t.loadingData,n=t.selectedLength,r=t.total,l=t.onClick;return 0!=n||e?c(a.default,{onClick:l},e&&c(o.default,{type:"circle",percent:Math.round(n/(r||1)*100),width:18,strokeWidth:16,format:function(){return null},style:{marginRight:4}}),c("b",null,n),"\xa0",s.ZP.t("pages.shop.order.selectedOrder"),"  ",c(i.Z,null)):null}},15118:function(t,e,n){"use strict";var a,o=n(2307),r=n(74047),i=n(52700),s=n(4706),c=n(33814),l=n(44102),d=n(20775),p=n(26265),u=n(67294),h=n(14494),f=n(87217),m=n(95213),g=u.createElement;function y(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,d.Z)(t);if(e){var o=(0,d.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,l.Z)(this,n)}}var v=(0,f.Z)()(a=function(t){(0,c.Z)(n,t);var e=y(n);function n(t){var a;return(0,r.Z)(this,n),a=e.call(this,t),(0,p.Z)((0,s.Z)(a),"columns",[{title:"ID",dataIndex:"id",align:"right",width:"10%",editable:!0},{title:a.props.t("components.productCreatorFirstStep.autoCode"),dataIndex:"custom_id",align:"right",width:"10%",editable:!0},{title:a.props.t("components.accessoriesSecondStep.retailPrice"),dataIndex:"retail_price",align:"right",width:"10%",editable:!0},{title:a.props.t("components.productVariationCard.selectProperties"),dataIndex:"fields",align:"center",editable:!0},{title:a.props.t("components.productVariationCard.weight"),dataIndex:"weight",align:"right",width:"10%",editable:!0},{title:a.props.t("components.productImportExcel.index.actualRemain"),dataIndex:"total_quantity",align:"right",width:"10%"}]),(0,p.Z)((0,s.Z)(a),"getData",(function(){var t=a.props,e=t.currentShop,n=t.shopeeProduct;return n&&n.variation&&n.variation.length?n.variation.map((function(t,e){return t.key=e,t})).map((function(t){return{id:t.id,key:t.key,custom_id:t.sku?t.sku:"",weight:t.weight?t.weight:0,images:[],fields:n.tier&&n.tier.length>0&&a.getFields(t.name)?a.getFields(t.name).trim():"",retail_price:(0,m.ufS)(t.price,e.currency),total_quantity:(0,m.oH6)(t.quantity),visible:!1}})):[]})),(0,p.Z)((0,s.Z)(a),"getDataCreate",(function(){var t=a.props,e=t.product,n=t.currentShop;return(e.variations||[]).map((function(t,e){return t.key=e,t})).map((function(t){return{id:"",key:t.key,custom_id:t.custom_id,weight:t.weight?t.weight:0,images:[],fields:t.fields&&t.fields.length>0?a.getFieldsCreate(t.fields).trim():"",retail_price:(0,m.ufS)(t.retail_price,n.currency),total_quantity:(0,m.oH6)(t.remain_quantity),visible:!1}}))})),(0,p.Z)((0,s.Z)(a),"getFieldsCreate",(function(t){return t.reduce((function(t,e){return t+" "+e.name+":"+e.value}),"")})),(0,p.Z)((0,s.Z)(a),"getFields",(function(t){var e=a.props,n=e.shopeeProduct;e.t;return(t?t.split(","):[]).reduce((function(t,e,a){return t+"  "+n.tier[a].name+":"+e}),"")})),a.state={cartesianProductOf:[]},a}return(0,i.Z)(n,[{key:"render",value:function(){var t=this.props.createInShopee;return g("div",{className:"product-variations",style:{marginBottom:10}},g(o.Z,{rowClassName:function(){return"editable-row"},className:"editable-table",bordered:!0,dataSource:t?this.getDataCreate():this.getData(),columns:this.columns,pagination:!1}))}}]),n}(u.Component))||a;e.Z=(0,h.$j)(null,{})(v)},74229:function(t,e,n){"use strict";var a=n(89552),o=n(67294),r=n(7085),i=o.createElement;e.Z=function(){return i("div",{className:"spinner"},i(a.default,{indicator:i(r.Z,{style:{fontSize:40}})}))}},65644:function(t,e,n){"use strict";var a=n(74047),o=n(52700),r=n(4706),i=n(33814),s=n(44102),c=n(20775),l=n(26265),d=n(67294),p=n(14494),u=n(36934),h=d.createElement;function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,l.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,c.Z)(t);if(e){var o=(0,c.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,s.Z)(this,n)}}var y=function(t){(0,i.Z)(n,t);var e=g(n);function n(t){var o;return(0,a.Z)(this,n),o=e.call(this,t),(0,l.Z)((0,r.Z)(o),"listenMeronpan",(function(){var t=o.props,e=t.extension,n=t.dispatch;null==e&&(o.unlistenMeronpan(),window.addEventListener("message",o.listenMeronpanHandler.bind((0,r.Z)(o),n)),window.postMessage({type:"CHECK_EXTENSION_VERSION",from:"WEBPAGE"},"*"),window.postMessage({type:"CHECK_EXTENSION",from:"WEBPAGE"},"*"))})),(0,l.Z)((0,r.Z)(o),"listenMeronpanHandler",(function(t,e){if("WEBPAGE"!=e.data.from)switch(e.data.type){case"EXTENSION_LOADED":window.postMessage({type:"CHECK_EXTENSION",from:"WEBPAGE"},"*");break;case"REPORT_EXTENSION_STATUS":t((0,u.GoT)(e.data.connectionStatus));break;case"EXTENSION_VERSION":t((0,u.HfQ)(e.data.version))}})),(0,l.Z)((0,r.Z)(o),"unlistenMeronpan",(function(){window.removeEventListener("message",o.listenMeronpanHandler)})),o}return(0,o.Z)(n,[{key:"componentWillUnmount",value:function(){this.unlistenMeronpan()}},{key:"componentDidMount",value:function(){this.listenMeronpan()}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.children,a=t.onScroll,o=t.style,r=t.top,i=t.height;return h("div",{id:"container-layout",onScroll:a,style:this.props.fullScreen?m(m(m({},v),o),{},{top:0,height:"calc(100%)"}):m(m(m({},v),o),{},{top:r||49,height:i||"calc(100% - ".concat(r||49,"px)")}),className:"__container-layout ".concat(e||"")},n)}}]),n}(d.Component),v={overflowY:"overlay",overflowX:"hidden",position:"absolute",height:"calc(100% - 49px)",width:"100%",padding:"10px 0",top:49,left:0};e.Z=(0,p.$j)((function(t){return{fullScreen:t.navigation.fullScreen,extension:t.shop.extension}}),null)(y)},12661:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return $t}});var a,o=n(51024),r=n(64713),i=n(65400),s=n(31059),c=n(70302),l=n(56697),d=n(84960),p=n(809),u=n.n(p),h=n(92447),f=n(94055),m=n(59361),g=n(74047),y=n(4706),v=n(52700),b=n(33814),_=n(44102),k=n(20775),x=n(26265),S=n(64749),w=n(18446),C=n.n(w),Z=n(23279),P=n.n(Z),R=n(50361),O=n.n(R),I=n(67294),T=n(92902),L=n(14494),N=n(2877),z=n(99562),D=n(54549),E=n(68628),F=n(23665),j=n(92185),V=n(57119),A=n(25592),B=n(90631),W=n(56630),M=n(76570),U=n(74229),Q=n(65644),q=n(29267),H=n.n(q),K=n(31731),X=n(36934),G=n(31432),$=n(2307),J=n(42378),Y=n(62443),tt=n(28465),et=n(60171),nt=n(9669),at=n.n(nt),ot=n(87217),rt=n(49101),it=n(22693),st=n(42768),ct=n(95213),lt=I.createElement;function dt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){(0,x.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ut(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,k.Z)(t);if(e){var o=(0,k.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,_.Z)(this,n)}}var ht,ft=o.default.TextArea,mt=S.default.Option,gt=(0,ot.Z)()(a=function(t){(0,b.Z)(n,t);var e=ut(n);function n(t){var a;return(0,g.Z)(this,n),a=e.call(this,t),(0,x.Z)((0,y.Z)(a),"getCategory",(function(t){return t&&""!=t?t.split(",").join(" > "):""})),(0,x.Z)((0,y.Z)(a),"updateShopeeProduct",P()((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=a.props,r=o.accessToken,i=o.shopId,s=o.shopeeProduct,c=o.updateShopeeProduct,l=(o.currentShop,o.shopee_account),d=s;if("attribute"!=t)d=pt(pt({},d),{},(0,x.Z)({},t,e));else{var p=d.attributes.find((function(t){return t.type==n})),u=d.attributes.findIndex((function(t){return t.type==n}));p=pt(pt({},p),{},{value:e}),d.attributes.splice(u,1,p)}c(r,i,d,l)}),500)),(0,x.Z)((0,y.Z)(a),"columns",[{title:a.props.t("components.productCreatorFirstStep.properties"),dataIndex:"attribute",width:"25%",align:"center"},{title:a.props.t("components.productCreatorFirstStep.value"),dataIndex:"valuesSelect",align:"center"}]),(0,x.Z)((0,y.Z)(a),"getCategoryChildrens",(function(t){var e=t.filter((function(t){return!t.third_party})),n=[];return e.forEach((function(t){"private"==a.state.categoryType!=t.is_admin_category&&n.push({label:t.text,value:t.id.toString(),key:t.id,children:t.nodes.length>0?a.getCategoryChildrens((t||[]).nodes):[]})})),n})),(0,x.Z)((0,y.Z)(a),"getCategoryOptions",(function(){var t=a.props.accessToken,e=localStorage.getItem("shopeeCategories")?JSON.parse(localStorage.getItem("shopeeCategories")):void 0;if(e)return a.getCategoryChildrens(e);a.setState({isLoadingCategory:!0});var n="".concat((0,ct.LpH)(),"/shopee/get_category?access_token=").concat(t);return at()({method:"get",url:n}).then((function(t){if(t.data.success)return e=t.data.data,localStorage.setItem("shopeeCategories",JSON.stringify(t.data.data)),a.setState({isLoadingCategory:!1}),a.getCategoryChildrens(e)}))})),(0,x.Z)((0,y.Z)(a),"onSelectCategory",(function(t){var e=a.props,n=e.shopId,o=e.accessToken,r=e.shopee_account;a.setState({categoryId:t});var i="".concat((0,ct.LpH)(),"/shopee/categories/").concat(t,"?access_token=").concat(o,"&shop_id=").concat(n,"&shopee_shop_id=").concat(r.shopee_shop_id);return at()({method:"get",url:i}).then((function(t){a.setState({posAttribute:t.data.attributes,shopeeLogistics:t.data.logistics})}))})),(0,x.Z)((0,y.Z)(a),"notFoundContent",(function(){return lt("div",null,"private"===a.state.categoryType?lt("div",{style:{color:"rgba(0,0,0,.65)"}},lt(f.default,{title:a.props.t("components.productCreatorFirstStep.selectCategoryToGroup")},lt(i.default,{type:"primary",icon:lt(rt.Z,null),onClick:a.handleCreateCategory,style:{marginRight:10,background:"#ff3860",borderColor:"#ff3860"}},a.props.t("components.orderExportExcel.add")),a.props.t("new"),": ",lt("strong",null,a.state.categoryTerm)),lt(et.Z,{onSelect:function(t){return a.setState({parentCategory:t})}},a.getCategoryCreator(a.props.categories.filter((function(t){return!t.third_party}))))):a.props.t("components.productCreatorFirstStep.doNotFound"))})),(0,x.Z)((0,y.Z)(a),"getAttributes",(function(t,e){var n=[];return(t=(t||[]).find((function(t){return t.type==e})))&&(n=t.values),n})),(0,x.Z)((0,y.Z)(a),"renderAttribute",(function(){var t=a.props,e=t.shopeeProduct,n=(t.currentShop,t.t,t.shopeeAttributes),o=t.createInShopee,r=t.shopee_account,i=!r||!r.setting.is_sync_from_pos;return lt("div",null,n.map((function(t,r){return lt("div",{className:"product-info",key:r},lt("span",null,t.type),lt(S.default,{showSearch:!0,placeholder:t.type,defaultValue:e.attributes.find((function(e){return e.type==t.type}))?e.attributes.find((function(e){return e.type==t.type})).value:void 0,filterOption:function(t,e){return e.props.children.toLowerCase().indexOf(t.toLowerCase())>=0},getPopupContainer:function(t){return t.parentNode},onChange:function(e){return a.updateShopeeProduct("attribute",e,t.type)},disabled:o?!a.state.categoryId:i},a.getAttributes(n,t.type).map((function(t){return lt(mt,{key:t,value:t},t)}))))})))})),(0,x.Z)((0,y.Z)(a),"handleChangeCreateProduct",(function(t,e){var n=pt(pt({},a.props.createProduct),{},(0,x.Z)({},t,e));a.props.onChangeCreateProduct(n)})),(0,x.Z)((0,y.Z)(a),"handleChangeDescription",(function(t){var e=a.props.shopeeProduct;a.props.createInShopee?a.handleChangeCreateProduct("description",t):e.description!=t&&a.updateShopeeProduct("description",t)})),(0,x.Z)((0,y.Z)(a),"handlePreview",(function(t){a.setState({previewImage:t.response.content_url||t.thumbUrl,previewVisible:!0})})),(0,x.Z)((0,y.Z)(a),"handleChangeFiles",(function(t){var e=t.fileList,n=(t.file,a.props.createInShopee);a.setState({fileList:e}),n?a.handleChangeCreateProduct("images",e):a.updateShopeeProduct("images",e)})),(0,x.Z)((0,y.Z)(a),"popoverImages",(function(){var t=a.state,e=t.previewVisible,n=t.previewImage,o=t.fileList,r=a.props,i=r.accessToken,s=r.t;return lt("div",{style:{display:"flex"}},lt(tt.Z,{action:"".concat((0,ct.LpH)(),"/contents?access_token=").concat(i,"&is_create_shopee=true"),listType:"picture-card",accept:"image/*",multiple:!0,beforeUpload:function(t){return new Promise((function(e){var n=new FileReader;n.onload=function(){var a=new Image;a.onload=function(){t.width=a.width,t.height=a.height,e(t)},a.src=n.result},n.readAsDataURL(t)}))},data:function(t){return{file:t,width:t.width,height:t.height}},fileList:o,onPreview:a.handlePreview,onChange:a.handleChangeFiles},lt("div",null,lt(rt.Z,null),lt("div",{className:"ant-upload-text"},s("components.productVariationCard.upload")))),lt(l.Z,{visible:e,footer:null,onCancel:a.handleCancelPreview,wrapClassName:"image-preview"},lt("img",{style:{width:"100%"},src:n})))})),a.state={name:null,categoryId:0,posAttribute:[],shopeeLogistics:[],fileList:((t.shopeeProduct?t.shopeeProduct.shopee_images:[])||[]).map((function(t,e){return{uid:e,response:{content_url:t},status:"done",url:t}}))},a}return(0,v.Z)(n,[{key:"getDatSource",value:function(){var t=this.props,e=(t.t,t.shopeeProduct),n=t.createInShopee,a=t.product;return(n?a.product_attributes||[]:e&&e.tier&&e.tier.length?e.tier:[]).map((function(t,e){return{id:e,key:e,attribute:t.name,valuesSelect:(t.options||t.values).join(", "),name:t.name,values:t.options}}))}},{key:"handleChangeCreateAttribute",value:function(t,e,n){this.setState((0,x.Z)({},e,t));var a=this.props.createProduct.attribute||[];a.push({type:e,value:t,id:n});var o=pt(pt({},this.props.createProduct),{},{category_id:this.state.categoryId,attribute:a});this.props.onChangeCreateProduct(o)}},{key:"renderCreateAttribute",value:function(){var t=this,e=this.state.posAttribute;return lt("div",null,e.map((function(n,a){return lt("div",{className:"product-info",key:a},lt("span",null,n.type),lt(S.default,{showSearch:!0,placeholder:n.type,value:t.state[n.type],filterOption:function(t,e){return e.props.children.toLowerCase().indexOf(t.toLowerCase())>=0},getPopupContainer:function(t){return t.parentNode},onChange:function(e){return t.handleChangeCreateAttribute(e,n.type,n.id)},disabled:!t.state.categoryId},t.getAttributes(e,n.type).map((function(t){return lt(mt,{key:t,value:t},t)}))))})))}},{key:"render",value:function(){var t=this,e=this.props,n=e.shopeeProduct,a=(e.currentShop,e.t),i=(e.shopeeAttributes,e.createInShopee),s=e.shopee_account,c=this.state,l=c.fileList,p=c.shopeeLogistics,u=!s||!s.setting.is_sync_from_pos,h=this.props.product?this.props.product.custom_id:"";return lt("div",{className:"first-step"},lt("div",{style:{display:"flex"}},lt("div",{className:"id-container"},lt("div",{style:{display:"flex"}},lt(Y.default,{trigger:"click",overlayClassName:"image-container",content:this.popoverImages(),placement:"right"},lt("div",{style:{padding:"15px 5px 0px 15px"}},l[0]&&l[0].response?lt(d.ZP,{src:l[0].response.content_url,size:200,style:{borderRadius:2}}):lt(d.ZP,{icon:lt(z.Z,null),size:200,style:{borderRadius:2}}))),lt("div",{style:{width:"100%"}},lt("div",{className:"product-info"},lt("span",null,a("components.productCreatorFirstStep.productId")),lt(o.default,{placeholder:a("components.productCreatorFirstStep.autoCode"),defaultValue:i?h:n.sku,prefix:lt(it.Z,null),disabled:!0})),lt("div",{className:"product-info"},lt("span",null,a("components.productCreatorFirstStep.nameProduct")),lt(o.default,{prefix:lt(st.Z,null),placeholder:a("components.productCreatorFirstStep.nameProduct"),defaultValue:i?this.props.product.name:n.name,onBlur:function(e){return t.updateShopeeProduct("name",e.target.value)},disabled:!!i||u})),lt("div",{className:"product-info"},lt("span",null,a("pages.shop.product.variation.retailPrice")),lt(o.default,{prefix:lt(st.Z,null),placeholder:a("pages.shop.product.variation.retailPrice"),defaultValue:i?0:n.price,onChange:function(e){return t.handleChangeCreateProduct("price",e.target.value)},disabled:!i})))),i?this.renderCreateAttribute():this.renderAttribute()),lt("div",{style:{marginLeft:10,flex:5,height:"fit-content"}},lt("div",{className:"category-container"},this.props.createInShopee?lt("div",{className:"category-select"},lt("span",{style:{fontWeight:500}},a("components.productCreatorFirstStep.category")),lt(J.ZP,{defaultValue:void 0,showSearch:!0,treeData:this.getCategoryOptions(),placeholder:a("components.productCreatorFirstStep.selectCategoryProduct"),onSearch:function(e){return t.setState({categoryTerm:e})},treeDefaultExpandAll:!0,notFoundContent:this.notFoundContent(),onChange:function(e){return t.onSelectCategory(e)},filterTreeNode:function(t,e){return(0,ct.Mle)(e.props.title).indexOf((0,ct.Mle)(t))>=0},dropdownStyle:{maxHeight:400,overflow:"auto",fontSize:14}})):lt("div",{className:"category-select"},lt("span",{style:{fontWeight:500}},a("components.productCreatorFirstStep.category")),lt("br",null),lt("span",{style:{marginLeft:5}})," ",this.getCategory(n.categories)),lt("div",{className:"category-select"},lt("span",{style:{fontWeight:500}},"M\xf4 t\u1ea3"),lt(ft,{defaultValue:n&&n.description,onBlur:function(e){return t.handleChangeDescription(e.target.value)},disabled:u,autoSize:{minRows:4,maxRows:32}}))),p&&p.length>0&&lt("div",{style:{marginTop:10,padding:10},className:"category-container"},lt("div",null,lt(r.default.Group,{onChange:function(e){return t.handleChangeCreateProduct("logistic",e.target.value)}},p.filter((function(t){return t.enable})).map((function(t,e){return lt("div",null,lt(r.default,{key:e,value:t.id},t.name),lt("br",null))}))))),lt("div",{style:{position:"relative"}},lt($.Z,{columns:this.columns,className:"attribute-table",size:"small",dataSource:this.getDatSource(),pagination:!1,scroll:{x:600}})))))}}]),n}(I.Component))||a,yt=(0,L.$j)(null,{updateShopeeProduct:X.Prk})(gt),vt=n(15118),bt=n(28140),_t=n(79972),kt=n.n(_t),xt=n(97705),St=n(37508),wt=n(7690),Ct=I.createElement;function Zt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,k.Z)(t);if(e){var o=(0,k.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,_.Z)(this,n)}}var Pt,Rt=(0,ot.Z)()(ht=function(t){(0,b.Z)(n,t);var e=Zt(n);function n(t){var a;return(0,g.Z)(this,n),a=e.call(this,t),(0,x.Z)((0,y.Z)(a),"handleSelectProduct",(function(t){if("no-result"!=t){var e=a.state,n=e.searchResultProduct,o=e.filters,r=n.find((function(e){return e.id===t})),i=o.findIndex((function(t){return"product_id"==t.key}));-1!=i&&o.splice(i,1);var s={key:"product_id",value:r.name,id:r.id};o.push(s),a.setState({filters:o}),a.props.fetch(o)}})),(0,x.Z)((0,y.Z)(a),"handleSelectVariation",(function(t){if("no-result"!=t){var e=a.state,n=e.searchResult,o=e.filters,r=n.find((function(e){return e.id===t})),i=o.findIndex((function(t){return"variation_id"==t.key}));-1!=i&&o.splice(i,1);var s={key:"variation_id",value:r.custom_id||r.display_id,id:r.id};o.push(s),a.setState({filters:o}),a.props.fetch(o)}})),(0,x.Z)((0,y.Z)(a),"getOptions",(function(){var t=a.props,e=t.currentShop,n=t.t,o=t.warehouses,r=t.accessToken,i=(t.shopeeProducts,a.state),s=i.searchResultProduct,c=i.searchResult;return[{value:"sale_channel_ids",label:n("pages.shop.saleChannel.saleChannel"),isRoot:!0,children:[{value:"-3",label:Ct("div",null,Ct("img",{src:"/static/img/icon_shopee.png",style:{marginRight:3,width:16,height:16,borderRadius:"50%"}})," Shopee"),children:e.shopee_account.map((function(t){return{value:t.shopee_shop_id,label:t.shopee_shop_name}}))},{value:"-2",label:Ct("div",null,Ct("img",{src:"/static/img/tiki_logo.png",style:{marginRight:3,width:16,height:16,borderRadius:"50%"}})," Tiki"),children:e.tiki_accounts.map((function(t){return{value:t.tiki_shop_id,label:t.shop_name}}))},{value:"-4",label:Ct("div",null,Ct("img",{src:"/static/img/lazada.png",style:{marginRight:3,width:16,height:16,borderRadius:"50%"}})," Lazada"),children:e.lazada_accounts.map((function(t){return{value:t.lazada_sort_code,label:t.lazada_shop_name}}))},{value:"-9",label:Ct("div",null,Ct("img",{src:"/static/img/tiktok_icon.png",style:{marginRight:3,width:16,height:16,borderRadius:"50%"}})," TikTok"),children:e.tiktok_accounts.map((function(t){return{value:t.tiktok_shop_id,label:t.shop_name}}))},{value:"-16",label:Ct("div",null,Ct("img",{src:"/static/img/woocommerce_logo.png",style:{marginRight:3,width:16,height:16,borderRadius:"50%"}})," WooCommerce"),children:e.woocommerce_accounts.map((function(t){return{value:t.consumer_url,label:t.shop_name}}))},{value:"-17",label:Ct("div",null,Ct("img",{src:"/static/img/logo_shopify.png",style:{marginRight:3,width:16,height:16,borderRadius:"50%"}})," Shopify"),children:e.shopify_accounts.map((function(t){return{value:t.consumer_url,label:t.shop_name}}))},{value:"-6",label:Ct("div",null,Ct("img",{src:"/static/img/sendo.png",style:{marginRight:3,width:16,height:16,borderRadius:"50%"}})," Sendo")}]},{value:"product",label:n("pages.shop.saleChannel.posProducts"),isRoot:!0,children:[{value:"search-product",label:Ct("div",{onClick:function(t){return t.stopPropagation()}},Ct(xt.Z,{accessToken:r,searchResultProduct:s,combo_by:"product",searchOnly:!0,shopId:e.id,callback:function(t){return a.setState({searchResultProduct:t})},changeOnSelect:!0,width:200,is_filter:!0}))}].concat((0,bt.Z)(s.map((function(t,r){return{value:"variation-".concat(r),label:Ct("div",{onClick:function(e){e.stopPropagation(),a.setState({popupVisible:!1}),a.handleSelectProduct(t.id)}},Ct(St.Z,{width:300,t:n,key:r,currentShop:e,combo_by:"product",item:t,warehouses:o}))}}))))},{value:"variation",label:n("pages.shop.saleChannel.variation"),isRoot:!0,children:[{disabled:!0,value:"search-variation",label:Ct("div",{onClick:function(t){return t.stopPropagation()}},Ct(xt.Z,{accessToken:r,shopId:e.id,searchResult:c,callback:function(t){return a.setState({searchResult:t})},is_filter:!0,searchOnly:!0,combo_by:"variation"}))}].concat((0,bt.Z)(c.map((function(t,r){return{value:"variation-".concat(r),label:Ct("div",{onClick:function(e){e.stopPropagation(),a.setState({popupVisible:!1}),a.handleSelectVariation(t.id)}},Ct(St.Z,{width:300,t:n,key:r,currentShop:e,combo_by:"variation",item:t,warehouses:o}))}}))))},{value:"sale_channel_link",isRoot:!0,label:n("pages.shop.product.management.saleChannelLink"),children:[{value:"linked",label:n("pages.shop.product.management.linked")},{value:"unlinked",label:n("pages.shop.product.management.unlinked")}]}]})),(0,x.Z)((0,y.Z)(a),"onChangeCascader",(function(t,e){if(t){var n,o,r=a.state.filters;if(1!=e.length||!e[0].isRoot){switch(t.length){case 1:n=t[0],o=!0;break;case 2:n=t[0],o=t[1];break;case 3:n=t.includes("sale_channel_link")?"sale_channel_link":"sale_channel_accounts",o=t[2]}var i={key:n,value:o};if("sale_channel_ids"==t[0]){if(t[2]){var s=r.findIndex((function(t){return"sale_channel_ids"==t.key}));-1!=s&&r.splice(s,1)}var c=r.findIndex((function(t){return"sale_channel_accounts"==t.key}));-1!=c&&r.splice(c,1)}var l=r.findIndex((function(t){return t.key==n}));-1!=l&&r.splice(l,1),r.push(i),a.setState({filters:r}),a.props.fetch(r)}}})),a.state={filters:[],searchResultProduct:[],searchResult:[],popupVisible:!1},a}return(0,v.Z)(n,[{key:"componentDidUpdate",value:function(t){C()(this.props.filters,t.filters)&&C()(this.state.filters,t.filters)||this.setState({filters:this.props.filters})}},{key:"render",value:function(){return Ct("div",{className:"sync-channel-addvance-filter"},Ct(wt.Z,{options:this.getOptions(),popupClassName:"cascader-filter-sale-channel",onChange:this.onChangeCascader,changeOnSelect:!0}),Ct("style",{dangerouslySetInnerHTML:{__html:kt()}}))}}]),n}(I.Component))||ht,Ot=(0,L.$j)((function(t){return{currentShop:t.shop.currentShop,warehouses:t.warehouse.warehouses}}),{})(Rt),It=n(22318),Tt=n(17918),Lt=n(41850),Nt=n(45812),zt=n(74806),Dt=n(50161),Et=n(7085),Ft=I.createElement;function jt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(Object(n),!0).forEach((function(e){(0,x.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function At(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,k.Z)(t);if(e){var o=(0,k.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,_.Z)(this,n)}}var Bt=S.default.Option,Wt=(0,ot.Z)()(Pt=function(t){(0,b.Z)(n,t);var e=At(n);function n(t){var a;return(0,g.Z)(this,n),a=e.call(this,t),(0,x.Z)((0,y.Z)(a),"sendRequest",(function(t){var e=a.props,n=e.accessToken,o=e.shopId,r=e.t,i=e.products,s=e.dispatch,c=e.fetch,l=e.selectedRowKeys,d=a.state,p=d.updatingInfo,u=d.typeQuickUpdate,h=i[t],f="".concat((0,ct.LpH)(),"/shopee/update_link_shopee_product/").concat(o,"?access_token=").concat(n),m="".concat((0,ct.LpH)(),"/shopee/delete_product?access_token=").concat(n,"&shop_id=").concat(o),g="unLink"==u?f:m,y=(h.variation||[]).map((function(t){return Vt(Vt({},t),{},{variation_id:null})}));h.variation=y;var v="unLink"==u?{shopee_product:h,is_quick_update:!0}:{ids:l};at().post(g,v).then((function(e){"unLink"==u&&s({type:"UPDATE_LINK_SHOPEE_PRODUCT",payload:e.data}),e.data.success?(p.push({message:r("success"),success:e.data.success}),a.setState({updatingInfo:p}),t+1<i.length&&a.sendRequest(t+1),t+1==i.length&&"delete"==u&&c()):(p.push({message:e.data.message||r("pages.admin.failure"),success:!1}),a.setState({updatingInfo:p}),t+1<i.length&&a.sendRequest(t+1),t+1==i.length&&"delete"==u&&c())}))})),(0,x.Z)((0,y.Z)(a),"renderResult",(function(){var t=a.state.updatingInfo,e=a.props,n=e.products,o=e.t,r=function(t,e,a){return Ft("div",{key:n[e].id},Ft("span",null,Ft("strong",{className:a},"#".concat(n[e].name))),"\xa0",Ft("span",{className:a},t.message&&""!=t.message?t.message:o("action.unknownError")))};return Ft("div",null,t.map((function(t,e){if(t.success)return Ft("div",{key:e},r(t,e,"success"))})),t.map((function(t,e){if(!t.success)return Ft("div",{key:e},r(t,e,"fail"))})))})),(0,x.Z)((0,y.Z)(a),"handleConfirm",(function(){a.setState({isUpdating:!0}),a.sendRequest(0)})),a.state={modalVisible:!1,isLoading:!1,isUpdating:!1,updatingInfo:[],typeUpdate:"update",typeQuickUpdate:"unLink"},a}return(0,v.Z)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.modalVisible,a=e.isUpdating,o=e.updatingInfo,r=e.typeQuickUpdate,s=this.props,c=s.selectedRowKeys,d=s.t,p=s.products,u=s.title,h=s.isButton,f=o.filter((function(t){return t.success})).length,m=p.length-f;return Ft("div",{style:{display:"inline"}},Ft(K.Z,{icon:Ft(Dt.Z,null),tooltip:0==c.length?d("components.productUpdateCategory.selectProductToQuickUpdate"):"".concat(d("components.productUpdateCategory.quickUpdate")," ").concat(c.length," ").concat(d("pages.shop.saleChannel.productSelected")),onClick:function(){c.length&&t.setState({isLoading:!0,modalVisible:!0})},title:u,isButton:h}),n&&Ft(l.Z,{onCancel:function(){return t.setState({modalVisible:!1,isLoading:!1,isUpdating:!1,updatingInfo:[]})},visible:n,footer:Ft("div",null,a?Ft(i.default,{onClick:function(){var e;return t.setState((e={updatingInfo:[],modalVisible:!1,isUpdating:!1},(0,x.Z)(e,"updatingInfo",[]),(0,x.Z)(e,"typeQuickUpdate",void 0),e))}},d("components.productUpdateCategory.exit")):Ft(i.default,{type:"primary",onClick:this.handleConfirm},d("pages.dashboard.update"))),wrapClassName:"modal-updating",title:"".concat(d("components.productUpdateCategory.quickUpdate")," ").concat(c.length," ").concat(d("pages.shop.saleChannel.productSelected"))},this.props.isLoading?Ft("span",null,Ft(Et.Z,null)," ",d("pages.shop.saleChannel.productSelected")):a?Ft("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center"}},Ft(zt.default,{type:"circle",percent:Math.floor(100*o.length/p.length),style:{marginBottom:10}}),o.length==p.length?Ft("h4",null,Ft("span",{style:{color:"#00a854"}},"".concat(d("components.productUpdateCategory.updateSucceed")," ").concat(f," ").concat(d("products.title"))),Ft("span",{style:{color:"#f04134"}},"".concat(m>0?", ".concat(d("pages.admin.failure")," ").concat(m," ").concat(d("products.title")):""))):Ft("div",null,Ft("h4",{style:{color:"#096dd9"}},d("components.productUpdateCategory.updatingCategory"))),Ft("div",{id:"updating-info",className:"updating-info"},this.renderResult())):Ft("div",{style:{width:"100%"}},Ft("div",null,Ft("div",{style:{fontWeight:500,marginBottom:5}},Ft(Dt.Z,null),Ft("span",{style:{marginLeft:3}},d("components.productUpdateCategory.typeUpdate"),":")),Ft(S.default,{placeholder:d("components.productUpdateCategory.selectTypeUpdate"),value:r,style:{width:"100%"},onChange:function(e){return t.setState({typeQuickUpdate:e})}},Ft(Bt,{value:"unLink"},d("pages.shop.saleChannel.unLink")),Ft(Bt,{value:"delete"},d("pages.shop.setting.employee.deleteProduct")))))))}}]),n}(I.Component))||Pt,Mt=(0,L.$j)(null,{})(Wt),Ut=I.createElement;function Qt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(n),!0).forEach((function(e){(0,x.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ht(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,k.Z)(t);if(e){var o=(0,k.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,_.Z)(this,n)}}var Kt=S.default.Option,Xt={page:1,page_size:parseInt(localStorage.getItem("productPageSize")||30)},Gt=function(t){(0,b.Z)(n,t);var e=Ht(n);function n(t){var a;return(0,g.Z)(this,n),a=e.call(this,t),(0,x.Z)((0,y.Z)(a),"fetchListOfProductShopee",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt({},Xt),e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=a.props,o=n.accessToken,r=n.shopId;a.setState({params:t,isLoading:e}),a.props.fetchListOfProductShopee(o,r,t).then((function(){return a.setState({isLoading:!1})}))})),(0,x.Z)((0,y.Z)(a),"onSortFieldsProduct",(function(t,e,n,o){var r={asc_desc:"ascend"==e?"asc":"desc"};r.sort_by=t,localStorage.setItem("sort_product_sale_channel",JSON.stringify(r)),a.setState({dataSort:r}),a.fetchListOfProductShopee(qt(qt({},o),{},{data_sort:r,page:n}))})),(0,x.Z)((0,y.Z)(a),"handleTableChange",(function(t,e,n){var o=a.state.params;o.page=t.current,o.page_size=t.pageSize,0!=Object.keys(n).length&&n.order?a.onSortFieldsProduct(n.field,n.order,t.current,o):(a.setState({dataSort:void 0}),a.fetchListOfProductShopee(qt(qt({},o),{},{data_sort:void 0}))),document.querySelector(".ant-table-body").scrollTop=0})),(0,x.Z)((0,y.Z)(a),"onShowSizeChange",(function(t,e){localStorage.setItem("productPageSize",e)})),(0,x.Z)((0,y.Z)(a),"handleSearchInputChange",(function(t){var e=a.state,n=e.filters,o=e.searchType,r="search",i=n.findIndex((function(t){return t.key==r}));-1!=i?n[i].value=t:n.push({key:r,value:t}),a.setState({filters:n});var s=O()(a.state.params);s.search={search_type:o,text_search:t},a.fetchListOfProductShopee(s)})),(0,x.Z)((0,y.Z)(a),"columns",[{title:a.props.t("pages.shop.saleChannel.inforProduct"),dataIndex:"name",align:"left",width:"30%",sorter:!0},{title:a.props.t("pages.shop.saleChannel.inventory"),dataIndex:"shopee_quantity",align:"right",width:"15%",sorter:!0},{title:a.props.t("pages.shop.saleChannel.warehouse"),dataIndex:"warehouse",align:"left",width:"15%",ellipsis:!0},{title:a.props.t("pages.shop.saleChannel.account"),dataIndex:"shopee_name",align:"left",width:"25%",ellipsis:!0},{title:a.props.t("pages.shop.saleChannel.posProducts"),dataIndex:"pos_product",align:"left",width:"15%",ellipsis:!0},{title:a.props.t("pages.shop.setting.sync.link"),dataIndex:"link",align:"left",width:"15%",ellipsis:!0}]),(0,x.Z)((0,y.Z)(a),"renderFilter",(function(t,e){var n=a.props,o=n.currentShop,r=n.t,i=o.shopee_account,s=o.lazada_accounts;if(!["search"].includes(t.key)){var c;a.state.filters;switch(t.key){case"sale_channel_ids":var l="";switch(t.value){case"-3":l="Shopee";break;case"-2":l="Tiki";break;case"-4":l="Lazada";break;case"-6":l="Sendo";break;case"-7":l="Facebook";break;case"-9":l="Tiktok";break;case"-16":l="WooCommerce";break;case"-17":l="Shopify"}c=Ut("div",null,Ut("span",null,"".concat(r("pages.shop.saleChannel.saleChannel"),": ")),Ut("strong",null,l));break;case"warehouse_id":var d=a.props.warehouses.find((function(e){return e.id==t.value})).name;c=Ut("div",null,Ut("span",null,"".concat(r("pages.shop.saleChannel.warehouse"),": ")),Ut("strong",null,d));break;case"sale_channel_accounts":var p=i&&i.find((function(e){return e.shopee_shop_id==t.value})),u=s&&s.find((function(e){return e.lazada_sort_code==t.value})),h=o.tiktok_accounts&&o.tiktok_accounts.find((function(e){return e.tiktok_shop_id==t.value})),f=o.woocommerce_accounts&&o.woocommerce_accounts.find((function(e){return e.consumer_url==t.value})),g=o.shopify_accounts&&o.shopify_accounts.find((function(e){return e.consumer_url==t.value})),y=o.tiki_accounts&&o.tiki_accounts.find((function(e){return e.tiki_shop_id==t.value})),v=(p&&p.shopee_shop_name?"Shopee/".concat(p.shopee_shop_name):"")||(u&&u.lazada_shop_name?"Lazada/".concat(u.lazada_shop_name):"")||(h&&h.shop_name?"TikTok/".concat(h.shop_name):"")||(y&&y.shop_name?"Tiki/".concat(y.shop_name):"")||(g&&g.shop_name?"Shopify/".concat(g.shop_name):"")||(f&&f.shop_name?"WooCommerce/".concat(f.shop_name):"");c=Ut("div",null,Ut("span",null,"".concat(r("pages.shop.saleChannel.account"),": ")),Ut("strong",null,v));break;case"sale_channel_link":c=Ut("div",null,Ut("span",null,r("pages.shop.product.management.saleChannelLink"),": "),Ut("strong",null,"linked"==t.value?r("pages.shop.product.management.linked"):r("pages.shop.product.management.unlinked")));break;case"product_id":c=Ut("div",null,Ut("span",null,"".concat(r("products.title"),":")),Ut("strong",{style:{marginRight:3}},t.value));case"variation_id":c=Ut("div",null,Ut("span",null,"".concat(r("pages.shop.saleChannel.variation"),":")),Ut("strong",{style:{marginRight:3}},t.value))}return Ut(m.default,{key:e,closable:!0,onClose:function(){return a.handleCloseTag(e)}},c)}})),(0,x.Z)((0,y.Z)(a),"handleCloseTag",(function(t){var e=O()(a.state.filters);e.splice(t,1),a.handleAdvanceFilter(e)})),(0,x.Z)((0,y.Z)(a),"getData",(function(){var t=a.props,e=t.t,n=(t.currentShop,a.props.shopeeProducts),o=[];return n&&n.data&&n.data.length>0&&(o=n.data.map((function(t){return{key:t.id,id:t.id,sku:t.sku,name:a.renderProduct(t),warehouse:t.warehouse,shopee_name:t.shopee_name||("Facebook"!=t.type?e("pages.shop.saleChannel.accountDisconnect"):""),pos_product_id:null===t||void 0===t?void 0:t.pos_product_id,shopee_quantity:a.renderQuantity(t),action:t,link:a.renderLinkProduct(t),pos_product:"LAZADA"!=t.type?null===t||void 0===t?void 0:t.pos_product_id:""}}))),o})),(0,x.Z)((0,y.Z)(a),"contentLinkShopee",(function(){var t=a.props,e=t.accessToken,n=(t.shopId,t.currentShop),o=a.state,r=o.comboBy,i=o.searchResult;return Ut("div",null,Ut(xt.Z,"product"==r?{autoFocus:!0,accessToken:e,searchResult:i,combo_by:"product",shopId:n.id,callback:function(t){return a.setState({searchResult:t})},onSelect:function(t){a.handleSelectProduct(t,a.state.item),a.setState({linkShopeeProduct:!1})},onSaleChannel:!0}:{autoFocus:!0,accessToken:e,searchResult:i,shopId:n.id,callback:function(t){return a.setState({searchResult:t})},onSelect:function(t){return a.handleSelectVariation(t,a.state.item,a.state.action)},minWidth:300,combo_by:"variation",onSaleChannel:!0}))})),(0,x.Z)((0,y.Z)(a),"renderLinkProduct",(function(t){var e=a.props.t;return Ut("div",null,["LAZADA","TIKTOK","TIKI","SHOPIFY","WOOCOMMERCE"].includes(t.type)?Ut("div",null):Ut("div",null,!t.pos_product_id&&Ut("div",null,Ut("span",{style:{cursor:"pointer",color:"".concat(t.pos_product_id?"black":"white"," "),backgroundColor:"".concat(t.pos_product_id?"white":"#096dd9"),fontSize:11,fontWeight:500,padding:"2px 10px",borderRadius:2,border:"1px solid rgba(244,96,97,.2)",display:"inline-block",marginBottom:5,textAlign:"center",marginRight:5},onClick:function(e){e.stopPropagation(),a.setState({searchResult:[],linkShopeeProduct:!0,comboBy:"product",item:t})}},Ut(N.Z,{style:{color:"".concat(t.pos_product_id?"black":"white"," ")}})," ",t.pos_product_id?e("pages.shop.product.management.linked"):e("pages.shop.product.management.unlinked"))," ",Ut("br",null)),t.pos_product_id&&Ut("div",null,Ut(f.default,{title:e("pages.shop.saleChannel.clickToUnlinkProduct")},Ut("span",{style:{cursor:"pointer",color:"".concat(t.pos_product_id?"black":"white"," "),backgroundColor:"".concat(t.pos_product_id?"white":"#096dd9"),fontSize:11,fontWeight:500,padding:"2px 10px",borderRadius:2,border:"1px solid rgba(244,96,97,.2)",display:"inline-block",marginBottom:5,textAlign:"center",marginRight:5},onClick:function(e){e.stopPropagation(),a.disconnectProduct(t)}},Ut(N.Z,{style:{color:"".concat(t.pos_product_id?"black":"white"," ")}})," ",t.pos_product_id?e("pages.shop.product.management.linked"):e("pages.shop.product.management.unlinked"))),Ut("br",null))),(t.variation||[]).filter((function(t){return t.variation_id})).length>0&&Ut("span",{style:{fontSize:12}},e("pages.shop.product.management.linked")," ",(t.variation||[]).filter((function(t){return t.variation_id})).length," ",e("pages.shop.saleChannel.variation")))})),(0,x.Z)((0,y.Z)(a),"handleSelectProduct",(function(t,e){var n=a.props,o=n.shopId,r=n.accessToken;"no-result"!=t&&a.props.updateLinkShopeeProduct(r,o,e,t)})),(0,x.Z)((0,y.Z)(a),"handleSelectVariation",function(){var t=(0,h.Z)(u().mark((function t(e,n,o){var r,i,s,c,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.props,i=r.shopId,s=r.accessToken,"no-result"!=e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,a.props.updateLinkShopeeVariation(s,i,o,n,e);case 5:c=a.props.shopeeProducts.data.find((function(t){return t.id==o.id})),l=c.variation.find((function(t){return t.id==n.id})),a.setState({renderVariation:!0,item:l});case 8:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()),(0,x.Z)((0,y.Z)(a),"disconnectProduct",(function(t){var e=a.props,n=e.shopId,o=e.accessToken;a.props.updateLinkShopeeProduct(o,n,t,void 0)})),(0,x.Z)((0,y.Z)(a),"disconnectVariation",(function(t,e){var n=a.props,o=n.shopId,r=n.accessToken;a.props.updateLinkShopeeVariation(r,o,e,t,void 0),a.setState({searchResult:[],renderVariation:!1})})),(0,x.Z)((0,y.Z)(a),"onChangeMeasurement",(function(t,e,n){var o=a.props,r=o.shopId,i=o.accessToken;o.t;a.props.updateShopeeMeasurement(i,r,n,e,t),a.setState({linkShopeeProduct:!1,searchResult:[],comboBy:"product",item:void 0,product:void 0,renderVariation:!1,selectMeasure:!1})})),(0,x.Z)((0,y.Z)(a),"renderQuantity",(function(t){return t.pos_product_id?Ut("strong",{style:{fontWeight:"bold"}},t.shopee_quantity):Ut("div",null,Ut("strong",{style:{fontWeight:"bold"}},t.shopee_quantity),Ut("br",null))})),(0,x.Z)((0,y.Z)(a),"renderVariationQuantity",(function(t){return Ut("div",{style:{display:"grid",width:"1.5%"}},Ut("strong",{style:{textAlign:"right",fontWeight:"bold"}},t.quantity))})),(0,x.Z)((0,y.Z)(a),"renderVariationId",(function(t){return Ut("div",{style:{display:"grid",width:"41.5%"}},Ut("span",{style:{textAlign:"right"}},t.pos_variation,t.measurement_info?" - ".concat(t.measurement_info.name||""):""))})),(0,x.Z)((0,y.Z)(a),"renderLinkVariation",(function(t,e){var n=a.props.t;return Ut("div",{style:{width:"15%",display:"flex",flexDirection:"row"}},Ut("div",{style:{flex:2}}),!t.variation_id&&Ut("span",{style:{cursor:"pointer",color:"".concat(t.variation_id?"black":"white"),backgroundColor:"".concat(t.variation_id?"white":"#096dd9"),fontSize:11,fontWeight:500,padding:"2px 10px",borderRadius:2,border:"1px solid rgba(244,96,97,.2)",display:"inline-block",marginBottom:5,textAlign:"center",marginRight:5},onClick:function(n){n.stopPropagation(),a.setState({searchResult:[],item:t,action:e,linkShopeeProduct:!0,comboBy:"variation"})}},Ut(N.Z,{style:{color:"".concat(t.variation_id?"black":"white")}})," ",t.variation_id?n("pages.shop.product.management.linked"):n("pages.shop.product.management.unlinked")),t.variation_id&&Ut("span",{style:{cursor:"pointer",color:"".concat(t.variation_id?"black":"white"),backgroundColor:"".concat(t.variation_id?"white":"#096dd9"),fontSize:11,fontWeight:500,padding:"2px 10px",borderRadius:2,border:"1px solid rgba(244,96,97,.2)",display:"inline-block",marginBottom:5,textAlign:"center",marginRight:5},onClick:function(){a.setState({linkShopeeProduct:!0,comboBy:"variation",item:t,product:e,renderVariation:!0,action:e})}},Ut(N.Z,{style:{color:"".concat(t.variation_id?"black":"white")}})," ",t.variation_id?n("pages.shop.product.management.linked"):n("pages.shop.product.management.unlinked")))})),(0,x.Z)((0,y.Z)(a),"renderVariation",(function(t,e){var n=a.props.t,o=[];return t.quantity<=0&&o.push("out_of_stock"),t.variation_id||o.push("not_linked"),Ut("div",{key:t.id,className:"setting-col",style:{width:"37%"}},Ut("div",{className:"partner-card"},Ut("div",{className:"setting-row"},Ut("div",{className:"partner-image"},e.shopee_images&&e.shopee_images.length>0||t.images&&t.images.length>0?Ut("img",{src:t.images?t.images[0]:e.shopee_images?e.shopee_images[0]:"",width:65,height:65,style:{objectFit:"cover"}}):Ut("div",null,Ut(d.ZP,{size:66,style:{borderRadius:2},icon:Ut(z.Z,null)}))),Ut("div",{className:"partner-info"},Ut("div",{style:{width:"100%"}},t.name),Ut("div",{style:{width:"100%",fontSize:11}},o.length>0&&Ut("div",{style:{marginTop:3}},o.includes("out_of_stock")&&Ut(f.default,{title:n("pages.shop.saleChannel.tipOutOfStock")},Ut("span",{style:{color:"#f46061",backgroundColor:"rgba(244,96,97,.1)",fontSize:11,minWidth:"5.5rem",fontWeight:500,padding:"2px 10px",borderRadius:2,border:"1px solid rgba(244,96,97,.2)",display:"inline-block",marginBottom:5,textAlign:"center",marginRight:5}},n("pages.shop.saleChannel.outOfStock")))),Ut("div",{style:{marginTop:5}},Ut("span",null,Ut("img",{src:"/static/img/icon_sku.svg"})," ",t.sku)))))))})),(0,x.Z)((0,y.Z)(a),"renderVariationShopee",(function(t){var e=t.action;return Ut("div",{style:{paddingLeft:50}},((null===e||void 0===e?void 0:e.variation)||[]).map((function(t,n){return Ut("div",{key:n,className:"product-variation-detail"},a.renderVariation(t,e),a.renderVariationQuantity(t),a.renderVariationId(t),a.renderLinkVariation(t,e))})))})),(0,x.Z)((0,y.Z)(a),"renderProduct",(function(t){var e=a.props.t,n="",o="";switch(t.type){case"FACEBOOK":n="/static/img/facebook.png",o="Facebook shop";break;case"LAZADA":n="/static/img/lazada.png",o=t.type;break;case"TIKTOK":n="/static/img/tiktok_icon.png",o=t.type;break;case"TIKI":n="/static/img/tiki_logo.png",o=t.type;break;case"WOOCOMMERCE":n="/static/img/woocommerce_logo.png",o=t.type;break;case"SHOPIFY":n="/static/img/logo_shopify.png",o=t.type;break;default:n="/static/img/shopee_pw.png",o=t.type}var r=[],i="";if(t.shopee_images&&t.shopee_images.length>0)i=t.shopee_images[0];else if(t.variation&&t.variation.length>0){var s=t.variation[0];i=s.images?s.images[0]:""}return t.shopee_quantity<=0&&r.push("out_of_stock"),t.pos_product_id||r.push("not_linked"),Ut("div",{key:t.id,className:"setting-col"},Ut("div",{className:"partner-card"},Ut("div",{className:"setting-row"},Ut("div",{className:"partner-image"},i?Ut("img",{src:i,width:65,height:65,style:{objectFit:"cover"}}):Ut("div",null,Ut(d.ZP,{size:66,style:{borderRadius:2},icon:Ut(z.Z,null)}))),Ut("div",{className:"partner-info"},Ut("div",{style:{width:"100%"}},t.name),Ut("div",{style:{width:"100%",fontSize:11}},r.length>0&&Ut("div",{style:{marginTop:3}},r.includes("out_of_stock")&&Ut(f.default,{title:e("pages.shop.saleChannel.tipOutOfStock")},Ut("span",{style:{color:"#f46061",backgroundColor:"rgba(244,96,97,.1)",fontSize:11,minWidth:"5.5rem",fontWeight:500,padding:"2px 10px",borderRadius:2,border:"1px solid rgba(244,96,97,.2)",display:"inline-block",marginBottom:5,textAlign:"center",marginRight:5}},e("pages.shop.saleChannel.outOfStock")))),Ut("div",{style:{marginTop:5}},t.variation.length>0&&Ut("span",{style:{marginRight:10,color:"#0168fa"}},t.variation.length," ",e("pages.shop.saleChannel.variations")),Ut("span",{style:{fontWeight:"bold",marginRight:10}},Ut("img",{src:n,style:{marginRight:3,width:12,height:12}})," ",o),Ut("span",null,Ut("img",{src:"/static/img/icon_sku.svg"})," ",t.sku)))))))})),(0,x.Z)((0,y.Z)(a),"handleSyncRemainQuantity",(function(){var t=a.props,e=t.accessToken,n=t.shopId,o=t.t,r=a.state,i=r.selectedRowKeys,s=r.syncQuantity,c=r.syncPrice,l="".concat((0,ct.LpH)(),"/shopee/sync_remain_quantity_shopee?access_token=").concat(e,"&shop_id=").concat(n),d={syncPrice:c,syncQuantity:s,products:i};at()({method:"post",url:l,data:d}).then((function(t){t.data.success&&It.Z.success(o("success"),o("pages.shop.saleChannel.notiSync"))}))})),(0,x.Z)((0,y.Z)(a),"confirmSync",(function(){var t=a.props.t;a.state.selectedRowKeys;l.Z.confirm({title:t("pages.shop.saleChannel.inventorySync"),content:t("pages.shop.saleChannel.syncProduct"),okText:t("pages.shop.saleChannel.confirmed"),cancelText:t("cancel"),onOk:function(){a.handleSyncRemainQuantity()}})})),(0,x.Z)((0,y.Z)(a),"handleAdvanceFilter",(function(t){var e=O()(a.state.params);Object.keys(Xt).map((function(t){n=qt(qt({},n),{},(0,x.Z)({},t,e[t]))})),e=n;var n={},o=["product_id","variation_id"];t.length&&(t.map((function(t){n[t.key]?o.includes(t.key)?n[t.key].push(t.id):n[t.key].push(t.value):o.includes(t.key)?n[t.key]=[t.id]:n[t.key]=[t.value]})),e=qt(qt({},e),n)),a.setState({filters:t}),a.fetchListOfProductShopee(e)})),(0,x.Z)((0,y.Z)(a),"handleRowClick",function(){var t=(0,h.Z)(u().mark((function t(e){var n,o,r,i,s,c;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.props,o=n.fetchShopeeProduct,r=n.accessToken,i=n.shopId,s=n.currentShop,t.next=3,o(r,i,e.shopee_id,e.id);case 3:c=s.shopee_account.find((function(t){return t.shopee_shop_id==e.shopee_id})),a.setState({showDetailProduct:!0,shopeeAccount:c});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,x.Z)((0,y.Z)(a),"handleDeleteFilter",(function(){C()(a.state.params,Xt)||a.setState({params:qt({},Xt),filters:[],searchTerm:""},(function(){a.fetchListOfProductShopee(a.state.params)}))})),(0,x.Z)((0,y.Z)(a),"handleSync",(function(t){switch(a.state.marketplacePlatform){case"shopee":a.handleSyncShopee();break;case"lazada":a.handleSyncLazada();break;case"tiktok":a.handleSyncTiktok();break;case"tiki":a.handleSyncTiki();break;case"woocommerce":a.handleSyncWoo();break;case"shopify":a.handleSyncShopify()}})),(0,x.Z)((0,y.Z)(a),"handleSyncShopee",(function(){var t=a.props,e=(t.currentShop,t.accessToken),n=t.shopId,o=t.t,r=a.state.accountSyncFrom?a.state.accountSyncFrom:"all",i="".concat((0,ct.LpH)(),"/shopee/sync?access_token=").concat(e,"&shop_id=").concat(n);at()({method:"post",url:i,data:{shopee_account:r,is_create:a.state.isCreateProduct||!1}}).then((function(t){t.data.success&&It.Z.success(o("success"),o("pages.shop.saleChannel.tipSync"))}))})),(0,x.Z)((0,y.Z)(a),"handleSyncLazada",(function(){var t=a.props,e=(t.currentShop,t.accessToken),n=t.shopId,o=t.t,r=a.state.accountSyncFrom?a.state.accountSyncFrom:"all",i="".concat((0,ct.LpH)(),"/shopee/sync_lazada?access_token=").concat(e,"&shop_id=").concat(n);at()({method:"post",url:i,data:{lazada_account:r}}).then((function(t){t.data.success&&It.Z.success(o("success"),o("pages.shop.saleChannel.tipSync"))}))})),(0,x.Z)((0,y.Z)(a),"handleSyncTiktok",(function(){var t=a.props,e=t.accessToken,n=t.shopId,o=t.t,r=a.state.accountSyncFrom?a.state.accountSyncFrom:"all",i="".concat((0,ct.LpH)(),"/shopee/sync_tiktok?access_token=").concat(e,"&shop_id=").concat(n);at()({method:"post",url:i,data:{tiktok_account:r,is_create:a.state.isCreateProduct||!1}}).then((function(t){t.data.success&&It.Z.success(o("success"),o("pages.shop.saleChannel.tipSync"))}))})),(0,x.Z)((0,y.Z)(a),"handleSyncTiki",(function(){var t=a.props,e=t.accessToken,n=t.shopId,o=t.t,r=a.state.accountSyncFrom?a.state.accountSyncFrom:"all",i="".concat((0,ct.LpH)(),"/shopee/sync_tiki?access_token=").concat(e,"&shop_id=").concat(n);at()({method:"post",url:i,data:{tiki_account:r,is_create:a.state.isCreateProduct||!1}}).then((function(t){t.data.success&&It.Z.success(o("success"),o("pages.shop.saleChannel.tipSync"))}))})),(0,x.Z)((0,y.Z)(a),"handleSyncWoo",(function(){var t=a.props,e=t.accessToken,n=t.shopId,o=t.t,r=a.state.accountSyncFrom?a.state.accountSyncFrom:"all",i="".concat((0,ct.LpH)(),"/shopee/sync_woocommerce?access_token=").concat(e,"&shop_id=").concat(n);at()({method:"post",url:i,data:{woo_account:r,is_create:a.state.isCreateProduct||!1}}).then((function(t){t.data.success&&It.Z.success(o("success"),o("pages.shop.saleChannel.tipSync"))}))})),(0,x.Z)((0,y.Z)(a),"handleSyncShopify",(function(){var t=a.props,e=t.accessToken,n=t.shopId,o=t.t,r=a.state.accountSyncFrom?a.state.accountSyncFrom:"all",i="".concat((0,ct.LpH)(),"/shopee/sync_shopify?access_token=").concat(e,"&shop_id=").concat(n);at()({method:"post",url:i,data:{shopify_account:r,is_create:a.state.isCreateProduct||!1}}).then((function(t){t.data.success&&It.Z.success(o("success"),o("pages.shop.saleChannel.tipSync"))}))})),(0,x.Z)((0,y.Z)(a),"handleProductClick",(function(t){var e=a.state.expandedVariationRowList;e=e.includes(t)?e.filter((function(e){return e!==t})):e.concat([t]),a.setState({expandedVariationRowList:e})})),(0,x.Z)((0,y.Z)(a),"renderPosVariation",(function(){var t=a.state,e=t.item,n=t.product,o=(t.selectMeasure,e),r=a.props,i=r.currentShop,s=r.productMeasurement,l=r.t,d=e.product_id||(null===n||void 0===n?void 0:n.pos_product_id),p=e.product_name||e.product_name,u=o.fields&&o.fields.length>0?o.fields.reduce((function(t,e){return"".concat(t).concat(t?",":"").concat(e.name,"/").concat(e.value)}),""):null,h=void 0;h=s.find((function(t){return t.id==o.measure_group_id}));o.measurement_info&&o.measurement_info.name;return Ut("div",{className:"product-item"},Ut(c.Z,{style:{position:"relative"},key:o.id},Ut("div",null,Ut(m.default,{style:{marginRight:5}},d),Ut(m.default,{color:"green",style:{marginRight:5}},o.pos_variation),Ut("b",null,p),Ut(D.Z,{style:{position:"absolute",top:5,right:3,cursor:"pointer"},onClick:function(){return a.disconnectVariation(e,n)}})),Ut("div",null,u&&Ut("div",null,Ut(E.Z,null)," ".concat(l("pages.shop.product.accessories.import.properties"),": ").concat(u)),Ut("div",{style:{display:"flex"}},Ut("div",null,Ut(F.Z,null),"\xa0",l("systemLogs.variation_info.retail_price"),": ",Ut("a",null,(0,ct.ufS)(o.retail_price,i.currency))),"\xa0 x",Ut("span",null,o.quantity)),o.measure_group_id&&Ut("div",null,Ut("div",null,Ut(j.Z,null)," ",Ut("span",null," Quy \u0111\u1ed5i:"),"\xa0",Ut(S.default,{placeholder:"Ch\u1ecdn lo\u1ea1i quy \u0111\u1ed5i",value:o.measurement_info?o.measurement_info.id:void 0,style:{width:150},onChange:function(t){return a.onChangeMeasurement(t,e,n)}},h.nodes.map((function(t){return Ut(Kt,{key:t.id,value:t.id},t.name)}))))))))})),(0,x.Z)((0,y.Z)(a),"renderContentSyncQuantityAndPrice",(function(){var t=a.props.t,e=a.state,n=e.syncQuantity,o=e.syncPrice;return Ut("div",{style:{marginTop:-10}},Ut("div",{style:{display:"flex"}},Ut("div",null,Ut(V.Z,{style:{color:"#faad14",fontSize:20}})),Ut("div",{style:{paddingLeft:10}},Ut("div",{style:{fontSize:15,fontWeight:500,marginBottom:10}},t("pages.shop.saleChannel.warningSyncPrice")),Ut(s.default,{checked:n,onChange:function(t){return a.setState({syncQuantity:t.target.checked})}},t("pages.shop.saleChannel.syncQuantity")),Ut("br",null),Ut(s.default,{style:{marginTop:5},checked:o,onChange:function(t){return a.setState({syncPrice:t.target.checked})}},t("pages.shop.saleChannel.syncPrice")))),Ut(i.default,{type:"primary",style:{marginTop:20,width:"100%"},disabled:!n&&!o,onClick:function(t){t.preventDefault(),a.handleSyncRemainQuantity()}},t("components.productCreatorFirstStep.sync")))})),(0,x.Z)((0,y.Z)(a),"onSelectRow",(function(){var t=a.props,e=t.shopId,n=t.accessToken,o=a.state.params,r="".concat((0,ct.LpH)(),"/shopee/shopee_product/").concat(e,"?access_token=").concat(n);a.setState({loadingData:!0});(function t(e){return at().post(r,e).then((function(n){var o=a.state,r=o.loadingData,i=o.selectedRowKeys,s=n.data.data,c=s.map((function(t){return t.id})),l=i.filter((function(t){return!c.includes(t)})).concat(c);return r&&a.onChangeSelect(l,s),(l||[]).length>=n.data.total_entries||0==s.length||!r?void 0:(e.page+=1,t(e))}))})(qt(qt({},o),{},{page:1})).then((function(t){return a.setState({loadingData:!1})}))})),(0,x.Z)((0,y.Z)(a),"onChangeSelect",(function(t,e){var n=a.props.shopeeProducts,o=e&&e.length>0?e:n.data,r=a.state,i=r.selectedRowKeys,s=r.selectedProducts.concat(t.filter((function(t){return!i.includes(t)})).map((function(t){return o.find((function(e){return e.id==t}))}))).filter((function(e){return t.includes(e.id)}));a.setState({selectedRowKeys:t,selectedProducts:s})})),a.state={params:qt({},Xt),isLoading:!1,filters:[],searchTerm:"",selectedRowKeys:[],marketplacePlatform:"shopee",isSyncing:!1,accountSyncFrom:null,searchResult:[],expandedVariationRowList:[],syncQuantity:!1,syncPrice:!1,loadingData:!1,dataSort:void 0,searchType:"productName",selectedProducts:[]},a.handleSearchInputChange=P()(a.handleSearchInputChange,400),a}return(0,v.Z)(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("message",window.callbackAfterCallExtension)}},{key:"componentDidMount",value:function(){var t=localStorage.getItem("sort_product_sale_channel");t&&(t=JSON.parse(t),this.setState({dataSort:t})),this.fetchListOfProductShopee()}}]),(0,v.Z)(n,[{key:"renderPopoverLoadContent",value:function(){var t=this,e=this.props,n=e.currentShop,a=e.pages,o=e.t,c=a.filter((function(t){return t.shop_id==n.id&&"facebook"==t.platform}));return Ut("div",null,Ut("div",null,Ut(S.default,{style:{minWidth:"350px"},onChange:function(e){t.setState({marketplacePlatform:e})},value:this.state.marketplacePlatform},Ut(Kt,{key:"shopee"},Ut("span",null,"Shopee")),n&&n.lazada_accounts&&n.lazada_accounts.length&&Ut(Kt,{key:"lazada"},Ut("span",null,"Lazada")),n&&n.tiktok_accounts&&n.tiktok_accounts.length&&Ut(Kt,{key:"tiktok"},Ut("span",null,"TikTok")),n&&n.woocommerce_accounts&&n.woocommerce_accounts.length&&Ut(Kt,{key:"woocommerce"},Ut("span",null,"WooCommerce")),n&&n.shopify_accounts&&n.shopify_accounts.length&&Ut(Kt,{key:"shopify"},Ut("span",null,"Shopify")),n&&n.tiki_accounts&&n.tiki_accounts.length&&Ut(Kt,{key:"tiki"},Ut("span",null,"Tiki")))),Ut("div",{style:{marginTop:10}},Ut(r.default.Group,{onChange:function(e){return t.setState({accountSyncFrom:e.target.value})}},"facebook_shop"!=this.state.marketplacePlatform&&Ut(I.Fragment,null,Ut(r.default,{key:"all"},o("commons.all")),Ut("br",null)),"shopee"==this.state.marketplacePlatform?n.shopee_account.map((function(t){return Ut("div",null,Ut(r.default,{key:"".concat(t.shopee_shop_id),value:t.shopee_shop_id},t.shopee_shop_name),Ut("br",null))})):"","facebook_shop"==this.state.marketplacePlatform?c.map((function(t){return Ut("div",null,Ut(r.default,{key:"".concat(t.id),value:t.id},t.name),Ut("br",null))})):"","lazada"==this.state.marketplacePlatform?n.lazada_accounts.map((function(t){return Ut("div",null,Ut(r.default,{key:"".concat(t.lazada_sort_code),value:t.lazada_sort_code},t.lazada_shop_name),Ut("br",null))})):"","tiktok"==this.state.marketplacePlatform?n.tiktok_accounts.map((function(t){return Ut("div",null,Ut(r.default,{key:"".concat(t.tiktok_shop_id),value:t.tiktok_shop_id},t.shop_name),Ut("br",null))})):"","woocommerce"==this.state.marketplacePlatform?n.woocommerce_accounts.map((function(t){return Ut("div",null,Ut(r.default,{key:"".concat(t.consumer_url),value:t.consumer_url},t.shop_name),Ut("br",null))})):"","shopify"==this.state.marketplacePlatform?n.shopify_accounts.map((function(t){return Ut("div",null,Ut(r.default,{key:"".concat(t.consumer_url),value:t.consumer_url},t.shop_name),Ut("br",null))})):"","tiki"==this.state.marketplacePlatform?(n.tiki_accounts||[]).map((function(t){return Ut("div",null,Ut(r.default,{key:"".concat(t.tiki_shop_id),value:t.tiki_shop_id},t.shop_name),Ut("br",null))})):"")),["shopee","tiktok","woocommerce","shopify"].includes(this.state.marketplacePlatform)&&Ut("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:10,paddingTop:10,borderTop:"1px solid #d9d9d9",fontSize:14}},Ut(s.default,{value:this.state.isCreateProduct,onChange:function(e){return t.setState({isCreateProduct:e.target.checked})}},Ut("span",null,o("pages.shop.saleChannel.createANewProduct")),Ut(Tt.Z,{tip:o("pages.shop.saleChannel.createANewProductNote")}))),Ut(i.default,{type:"primary",style:{marginTop:10,width:"100%"},onClick:function(e){e.preventDefault(),t.handleSync()}},o("components.productCreatorFirstStep.sync")))}},{key:"render",value:function(){var t,e,n=this,a=this.state,r=a.isLoading,s=a.params,c=a.filters,d=a.showDetailProduct,p=a.selectedRowKeys,u=a.expandedVariationRowList,h=a.loadingData,f=a.searchType,m=a.selectedProducts,g=a.searchTerm,y=this.props,v=y.t,b=y.shopId,_=y.currentShop,k=y.accessToken,x=y.shopeeProduct,w=y.shopeeAttributes,C=y.shopeeProducts,Z=parseInt(localStorage.getItem("productPageSize")||30);return Ut(Q.Z,{className:"product-sale-channel",style:{overflow:"visible"}},Ut("div",{className:"header-select-search"},Ut(S.default,{value:f,onChange:function(t){n.setState({searchType:t,searchTerm:""}),s.search&&(delete s.search,n.fetchListOfProductShopee(s))},placeholder:v("pages.shop.advertising.selectWarehouse")},Ut(Kt,{value:"productName"},v("infoPrintedKey.productName")),Ut(Kt,{value:"productSku"},v("pages.shop.saleChannel.productSku")),Ut(Kt,{value:"classificationSku"},v("pages.shop.saleChannel.classificationSku")))),Ut("div",{className:"tools-container",style:{display:"flex",justifyContent:"space-between",marginBottom:3}},Ut("div",{style:{display:"flex"}},Ut(K.Z,{icon:Ut(A.Z,null),disabled:r,title:v("pages.shop.orderControlInfo.sync"),onClick:function(){return n.fetchListOfProductShopee(s)},isButton:!0}),Ut(K.Z,{icon:Ut(B.Z,null),color:"#00d1b2",disabled:r,title:v("pages.shop.saleChannel.importProductShopee"),onClick:function(){return n.setState({visibleSync:!0})},isButton:!0}),Ut(K.Z,{icon:Ut(W.Z,null),disabled:r,tooltip:p.length?"".concat(v("pages.shop.saleChannel.syncInventoryOf")," ").concat(p.length," ").concat(v("pages.shop.saleChannel.productToShopee")):v("pages.shop.saleChannel.syncInventoryAll"),title:v("pages.shop.saleChannel.syncInventoryAndPrice"),onClick:function(){return n.setState({visibleSynQuantity:!0})},isButton:!0}),Ut(Mt,{accessToken:k,shopId:b,selectedRowKeys:p,params:s,dispatch:this.props.dispatch,products:m,isButton:!0,title:v("pages.shop.actionTools.quickUpdate"),fetch:function(){return n.fetchListOfProductShopee(s)}}),Ut(Nt.Z,{selectedLength:p.length,loadingData:h,total:C.total_entries,onClick:function(){return n.setState({loadingData:!1,selectedRowKeys:[]})}})),Ut("div",{className:"filter"},Ut(o.default,{placeholder:v("productName"==f?"components.productCreatorFirstStep.nameProduct":"productSku"==f?"pages.shop.saleChannel.searchByProductSku":"pages.shop.saleChannel.searchByClassificationSku"),prefix:Ut(M.Z,null),value:g,onChange:function(t){n.setState({searchTerm:t.target.value}),n.handleSearchInputChange(t.target.value)}}),Ut("div",{style:{display:"flex"}},c.length>0&&!(1==c.length&&"search"==(null===(t=c[0])||void 0===t?void 0:t.key)&&""==(null===(e=c[0])||void 0===e?void 0:e.value))&&Ut(i.default,{className:"delete",danger:!0,onClick:function(){return n.handleDeleteFilter()}},v("pages.shop.saleChannel.clearFilter")),Ut(Ot,{accessToken:k,shopId:b,fetch:function(t){return n.handleAdvanceFilter(t)},filters:this.state.filters})))),Ut("div",{className:"show-filter"},c.map((function(t,e){return n.renderFilter(t,e)}))),Ut(Lt.Z,{size:"small",columns:this.columns,pagination:{size:"small",pageSize:Z,total:C&&C.total_entries?C.total_entries:1,current:s.page,onShowSizeChange:this.onShowSizeChange},expandable:{expandedRowRender:u.length?this.renderVariationShopee:void 0,expandedRowKeys:u},dataSource:this.getData(),scroll:{x:1e3,y:"calc(100vh - 212px)"},onChange:this.handleTableChange,rowSelection:{selectedRowKeys:p,onChange:function(t){return n.onChangeSelect(t)},preserveSelectedRowKeys:!0,isSelection:!0,onSelectRow:this.onSelectRow},onRow:function(t){return{onClick:function(e){return n.handleProductClick(t.key)}}},rowClassName:function(){return"row-variation"}}),r&&Ut(U.Z,null),this.state.visibleSync&&Ut(l.Z,{width:400,visible:this.state.visibleSync,onCancel:function(){return n.setState({visibleSync:!1,isCreateProduct:!1})},title:v("pages.shop.saleChannel.syncProductSaleChannel"),footer:null},this.renderPopoverLoadContent()),Ut(l.Z,{width:400,visible:this.state.visibleSynQuantity,onCancel:function(){return n.setState({visibleSynQuantity:!1,syncQuantity:!1,syncPrice:!1})},title:v("pages.shop.saleChannel.titleModalSyncPrice"),footer:null},this.renderContentSyncQuantityAndPrice()),d&&x&&Ut(l.Z,{style:{top:60},onCancel:function(){return n.setState({showDetailProduct:!1,shopeeAccount:void 0})},visible:d,footer:!1,title:v("pages.shop.saleChannel.productDetail"),wrapClassName:"product-creator-modal",width:"90%"},Ut("div",{className:"steps-container"},Ut(yt,{shopId:b,accessToken:k,shopeeProduct:x,currentShop:_,shopeeAttributes:w,shopee_account:this.state.shopeeAccount}),Ut(vt.Z,{shopeeProduct:x,currentShop:_,shopee_account:this.state.shopeeAccount}))),this.state.linkShopeeProduct&&Ut(l.Z,{title:v("pages.shop.saleChannel.detailLink"),onCancel:function(){return n.setState({linkShopeeProduct:!1,searchResult:[],comboBy:"product",item:void 0,product:void 0,renderVariation:!1})},visible:this.state.linkShopeeProduct,width:600,footer:null},this.state.renderVariation?this.renderPosVariation():this.contentLinkShopee()))}}]),n}(I.Component);(0,x.Z)(Gt,"pageInfo",{title:"pages.shop.saleChannel.productSaleChannel",sassStyle:H()});var $t=(0,L.$j)((function(t){return qt(qt({},(0,G.$L)(t)),{},{shopeeProduct:t.product.shopeeProduct,shopeeAttributes:t.product.shopeeAttributes,warehouses:t.warehouse.warehouses,pages:(0,G.xN)(t),extension:t.shop.extension,productMeasurement:t.settings.productMeasurement})}),{fetchListOfProductShopee:X.t1F,fetchShopeeProduct:X.zNg,updateLinkShopeeProduct:X.s_S,updateLinkShopeeVariation:X.omD,updateShopeeMeasurement:X.aeR})((0,T.Z)(Gt))},72703:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/shop/product/sale-channel",function(){return n(12661)}])}},function(t){t.O(0,[5460,2902,9774,2888,179],(function(){return e=72703,t(t.s=e);var e}));var e=t.O();_N_E=e}]);