(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7966],{12016:function(n){!function(){"use strict";n.exports='.f-label{font-weight:600;line-height:40px}.f-info .ant-legacy-form-item-control-wrapper{width:100%}.f-info .ant-legacy-form-item{margin-bottom:10px}.content-container .account-container{padding:53px 0;width:50%;margin:0 auto;display:flex;align-items:center;flex-direction:column}.content-container .account-container .page-content{display:flex;flex-direction:column}.content-container .account-container .page-content .user-info{height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;background:#fff;position:relative;border-radius:10px;padding-bottom:10px;min-width:370px;margin:0 31px 0 0;box-shadow:0 0 0 1px rgba(63,63,68,.05),0 1px 3px 0 rgba(63,63,68,.15);margin-left:30px;margin-top:100px}.content-container .account-container .page-content .user-info .alert-account .ant-alert-icon{top:18px}.content-container .account-container .page-content .user-info .cover{width:100%;height:117px;background:#096dd9;border-radius:9px 9px 0px 0px}.content-container .account-container .page-content .user-info .avatar{top:57px;left:calc(50% - 60px);position:absolute;box-shadow:0px 10px 40px rgba(51,51,51,.2)}.content-container .account-container .page-content .user-info .user-name{line-height:20px;font-size:16px;color:#263c8f;width:100%;text-align:center;margin-top:60px;margin-bottom:20px}.content-container .account-container .page-content .user-info .info-item{font-size:14px;line-height:17px;display:flex;justify-content:space-between;align-items:center;padding:20px;border-top:1px solid #e0e0e0}.content-container .account-container .page-content .user-info .info-item .copy-ic{position:absolute;font-size:14px;cursor:pointer;color:#096dd9;right:20px}@media screen and (max-width: 1208px){.content-container .account-container .page-content{flex-direction:column}.content-container .account-container .page-content .user-info{margin-bottom:30px;width:100%}}@media screen and (max-width: 768px){.content-container .account-container{padding:0;padding-bottom:12px;width:100%}.content-container .account-container .ant-tabs-tab{padding:20px 15px !important}.content-container .account-container .page-title{display:none}.content-container .account-container .page-content .user-info{border-radius:0;margin-bottom:12px;border:none;box-shadow:none}.content-container .account-container .page-content .user-info .cover{border-radius:0}.content-container .account-container .page-content .user-info .info-item{margin:0 16px}.content-container .account-container .page-content .subscription-info{border:none;box-shadow:none;width:100vw;padding:0;border-radius:0}.content-container .account-container .page-content .subscription-info .current-plan-tab{padding:13px 16px 38px 26px}.content-container .account-container .page-content .subscription-info .current-plan-tab .plan-name{display:none}.content-container .account-container .page-content .subscription-info .current-plan-tab .plan-id{display:none}.content-container .account-container .page-content .subscription-info .current-plan-tab .invoices-btn{display:none}.content-container .account-container .page-content .subscription-info .current-plan-tab .setting-plan{margin-top:0;display:flex;justify-content:space-around;flex-wrap:wrap}.content-container .account-container .page-content .subscription-info .current-plan-tab .setting-plan .setting-item{margin-top:25px;margin-right:10px !important}.content-container .account-container .page-content .subscription-info .current-plan-tab .plan-info{flex-direction:column;align-items:flex-start}.content-container .account-container .page-content .subscription-info .current-plan-tab .plan-info .info-item:nth-child(2){margin-top:12px}.content-container .account-container .page-content .subscription-info .current-plan-tab .plan-info .ant-btn{margin-top:25px;width:calc(100% - 10px)}.content-container .account-container .page-content .subscription-info .current-plan-tab .plan-info .title{margin-top:40px}.content-container .account-container .page-content .subscription-info .current-plan-tab .plan-info .info-item{display:block}.content-container .account-container .page-content .subscription-info .current-plan-tab .plan-info span.info-item:nth-child(3){margin-left:0 !important;margin-top:18px}.content-container .account-container .page-content .subscription-info .current-plan-tab .plan-info div.info-item:nth-child(4){margin-top:18px !important}.content-container .account-container .page-content .subscription-info .upgrade-plan-container{padding-bottom:0}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .custom-plan{border:none;padding:22px 20px 0 20px}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .custom-plan .plan-calc{flex-wrap:wrap;align-items:flex-start}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .custom-plan .plan-calc .ant-btn{width:100%;margin-top:20px}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .custom-plan .plan-calc .annual-total:before{content:"Annual (Monthly)" !important;right:250px !important;width:150px}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .custom-plan .plan-select{border:none;flex-direction:column}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .custom-plan .plan-select .plan-option .ant-select{width:100%}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .custom-plan .plan-select .plan-option:not(:first-child){margin-top:40px}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .custom-plan .plan-calc{padding:0}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .plan-table-res{display:block}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .plan-table{display:none}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .payment-form{border:none;flex-direction:column}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .payment-form .ant-col-12{width:100%}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .payment-form .ant-col-12 .title.total-price{position:absolute;top:-193px;right:10px}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .payment-form .selected-plan-render{border:0;padding-right:7px;padding-bottom:30px}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .payment-form .stripe-checkout{padding-left:0}.content-container .account-container .page-content .subscription-info .upgrade-plan-container .payment-form:after{display:block}.content-container .account-container .page-content .subscription-info .purchase-history{padding:4px 20px 20px 20px;display:flex;flex-direction:column;align-items:center}.content-container .account-container .page-content .subscription-info .purchase-history .invoice-list{margin-bottom:0}.content-container .account-container .page-content .subscription-info .purchase-history .ant-pagination{margin-bottom:30px}.content-container .account-container .page-content .subscription-info .purchase-history .subscription-card{position:relative}.content-container .account-container .page-content .subscription-info .purchase-history .subscription-card .plan-info-group{margin-top:24px}.content-container .account-container .page-content .subscription-info .purchase-history .subscription-card .plan-info{align-items:flex-start !important}.content-container .account-container .page-content .subscription-info .purchase-history .subscription-card .time-info{text-align:left !important;margin-top:24px}.content-container .account-container .page-content .subscription-info .purchase-history .subscription-card .more-btn{position:absolute;top:15px;right:15px}}.ant-select-dropdown{min-width:-webkit-fit-content !important;min-width:-moz-fit-content !important;min-width:fit-content !important}.login-fb{display:flex;flex-direction:row;justify-content:space-around;align-items:center;border-radius:30px;padding-left:15px;margin-left:20px;cursor:pointer}.login-fb .btn-login-fb{line-height:12px;font-size:14px;font-weight:400;margin-left:4px;padding-left:5px;color:#fff;-webkit-appearance:none}'}()},17330:function(n,e,t){"use strict";t.d(e,{k:function(){return r}});var a=t(38347),o=t(14494),r=function(){var n=(0,o.v9)((function(n){return n})),e=n.shop,t=n.navigation,r=(null===t||void 0===t?void 0:t.user)||{},i=r.accessToken,c=(0,a.Z)(r,["accessToken"]),s=(null===e||void 0===e?void 0:e.currentShop)||{};return{shopId:s.id,currentShop:(0,a.Z)(s,["id"]),accessToken:i,user:c,dispatch:(0,o.I0)()}}},38950:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return dn}});var a=t(4863),o=t(65400),r=t(94055),i=t(809),c=t.n(i),s=t(92447),p=t(32775),l=t(51024),u=t(56697),d=t(11187),m=t(74047),f=t(52700),g=t(4706),h=t(33814),b=t(44102),v=t(20775),y=t(26265),x=t(64749),w=t(67294),k=t(92902),_=t(14494),Z=(t(65644),t(12016)),C=t.n(Z),T=(t(72e3),t(50916)),N=t(2877),L=t(8212),P=t(99165),S=t(22318),M=t(35297),I=t(9669),F=t.n(I),G=t(74298),A=t(95213),U=t(17330),D=t(7085),E=w.createElement;function z(){var n=(0,U.k)().accessToken,e=(0,w.useState)(!1),t=e[0],a=e[1],o=(0,w.useState)(!1),r=o[0],i=o[1];return E("div",{className:"info-item"},E(M.Z,{title:G.ZP.t("pages.account.logoutOtherDevicesConfirm"),open:t,onConfirm:function(){var e="".concat((0,A.LpH)(),"/users/logout_other_devices?access_token=").concat(n);i(!0);try{F().post(e).then((function(n){a(!1),i(!1),localStorage.setItem("logoutOtherDevicesSuccessMessage",G.ZP.t("pages.account.logoutOtherDevicesSuccess")),window.location="".concat((0,A.Thw)(!0),"/login/").concat(n.data.access_token)}))}catch(t){console.log(t),a(!1),i(!1),S.Z.error(G.ZP.t("pages.admin.failure"),G.ZP.t("action.unknownError"))}},okButtonProps:{loading:r},onCancel:function(){return a(!1)}},E("a",{onClick:function(){return a(!0)}},r&&E(D.Z,null),G.ZP.t("pages.account.logoutOtherDevices"))))}var B,R=t(36934),O=t(55673),j=t(62443),H=t(5789),K=t(89366),q=t(79278),J=t(64302),$=t(26271),V=t(2603),W=t(8812),X=t(67724),Y=t(88631),Q=t(87217),nn=w.createElement;function en(n){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,a=(0,v.Z)(n);if(e){var o=(0,v.Z)(this).constructor;t=Reflect.construct(a,arguments,o)}else t=a.apply(this,arguments);return(0,b.Z)(this,t)}}var tn=(0,Q.Z)()(B=function(n){(0,h.Z)(t,n);var e=en(t);function t(n){var a;(0,m.Z)(this,t),a=e.call(this,n),(0,y.Z)((0,g.Z)(a),"handleUploadAvatar",function(){var n=(0,s.Z)(c().mark((function n(e){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("delete"!=e){n.next=4;break}a.setState({avatar_url:null}),n.next=8;break;case 4:if("upload"!=e){n.next=8;break}return t=document.getElementById("upload"),n.next=8,t.click();case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),(0,y.Z)((0,g.Z)(a),"handleChangeInput",function(){var n=(0,s.Z)(c().mark((function n(e){var t,o,r,i,s;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e[0],o=a.props.accessToken,r=new FormData,n.next=5,new Promise((function(n){var e=new FileReader;e.onload=function(){var a=new Image;a.onload=function(){r.append("width",a.width),r.append("height",a.height),n(t)},a.src=e.result},e.readAsDataURL(t)}));case 5:i=n.sent,r.append("file",i),s="".concat((0,A.LpH)(!0),"/contents?access_token=").concat(o),F().post(s,r).then((function(n){a.setState({avatar_url:n.data.content_url})})).catch((function(n){return console.log(n)}));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),(0,y.Z)((0,g.Z)(a),"content",(function(){return nn("div",null,!a.props.user.fb_id&&nn("p",{onClick:function(){return a.handleUploadAvatar("delete")},style:{cursor:"pointer",marginBottom:"10px"}},a.props.t("containers.snappyLoginForm.deleteAvatar")),nn("p",{onClick:function(){return a.handleUploadAvatar("upload")},style:{cursor:"pointer"}},a.props.t("containers.snappyLoginForm.uploadAvatar")),nn("input",{accept:"image/*",style:{display:"none"},onChange:function(n){return a.handleChangeInput(n.target.files)},id:"upload",type:"file"}))})),(0,y.Z)((0,g.Z)(a),"renderForm",(function(){var n=a.state,e=n.name,t=n.email,o=n.phone_number,r=n.message,i=n.success,c=n.avatar_url,s=a.props,p=s.user,u=s.t;return nn("div",null,nn(O.default,{gutter:24},nn(H.default,{span:16},nn(Y.Z,{className:"f-info"},nn(Y.Z.Item,null,nn("div",null,nn("label",{className:"f-label"},u("components.displayName")),p.pancake_id?nn("div",{style:{padding:"0 5px",borderBottom:"1px solid #d9d9d9"}},nn(K.Z,{style:{color:"rgba(0,0,0,.25)"}}),"\xa0",e||"-"):nn(l.default,{onChange:function(n){return a.setState({name:n.target.value,message:""})},value:e,prefix:nn(K.Z,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:u("components.displayName")}))),nn(Y.Z.Item,null,nn("div",null,nn("label",{className:"f-label"},u("containers.snappyLoginForm.phoneNumber")),nn("div",{style:{padding:"0 5px",borderBottom:"1px solid #d9d9d9"}},nn(q.Z,{style:{color:"rgba(0, 0, 0, 0.25)"}}),"\xa0",o?o.replace("+84","0"):"-"))),nn(Y.Z.Item,null,nn("div",null,nn("label",{className:"f-label"},"Email"),nn("div",{style:{padding:"0 5px",borderBottom:"1px solid #d9d9d9"}},nn(J.Z,{style:{color:"rgba(0,0,0,.25)"}}),"\xa0",t||"-"))))),nn(H.default,{style:{marginTop:"10px"},span:8},nn("div",null,nn("label",{style:{fontWeight:600}},u("components.avatar"))),nn("div",{style:{position:"relative"}},c?nn("img",{style:{borderRadius:"6px",width:"150px",marginTop:"10px"},src:c}):nn(T.Z,{name:p.name,style:{marginTop:"".concat(!p.account_created&&"10px"),borderRadius:"6px"},squared:!0,id:p.id,uid:p.uid,updateAccount:!0,seed:p.uid,className:"avatar",size:[150,150]}),nn(j.default,{placement:"bottomLeft",content:a.content(),trigger:"click"},nn("div",{style:{cursor:"pointer",position:"absolute",bottom:"".concat(c||p.account_created?"5px":"10px"),left:"5px",background:"#24292e",color:"white",width:"55px",lineHeight:"2",borderRadius:"6px"}},nn(L.Z,{style:{paddingLeft:"5px"}})," ",u("containers.snappyLoginForm.edit")))))),nn("div",null,nn("div",{style:{float:"right",color:"".concat(i?"green":"red")}},r)))})),(0,y.Z)((0,g.Z)(a),"renderFormPassword",(function(){var n=a.props.t,e=a.state,t=e.confirmPassword,o=e.new_password,r=e.current_password,i=e.messageFormPassword,c=e.success,s=e.userFirstName,p=e.userLastName,u=e.userName,d=o!==t;return nn(Y.Z,{className:"f-info"},nn(Y.Z.Item,null,nn("label",{className:"f-label"},n("containers.snappyLoginForm.userName")),nn(l.default,{value:u,placeholder:n("containers.snappyLoginForm.placeholderUserName"),onChange:function(n){return a.setState({userName:n.target.value,disableOk:!1})}})),nn(Y.Z.Item,null,nn("div",{style:{display:"flex",justifyContent:"space-between",marginTop:-10}},nn("div",{style:{width:"49%"}},nn("label",{className:"f-label"},n("containers.snappyLoginForm.firstName")),nn(l.default,{value:s,onChange:function(n){return a.setState({userFirstName:n.target.value,disableOk:!1})},placeholder:n("containers.snappyLoginForm.firstName")})),nn("div",{style:{width:"49%"}},nn("label",{className:"f-label"},n("containers.snappyLoginForm.lastName")),nn(l.default,{value:p,onChange:function(n){return a.setState({userLastName:n.target.value,disableOk:!1})},placeholder:n("containers.snappyLoginForm.lastName")})))),nn("div",{style:{marginTop:15},className:"f-label"},n("containers.snappyLoginForm.changePassword")),nn(Y.Z.Item,null,nn(l.default.Password,{value:r,onChange:function(n){return a.setState({current_password:n.target.value,messageFormPassword:""})},placeholder:n("containers.snappyLoginForm.password")})),nn(Y.Z.Item,null,nn(l.default.Password,{value:o,onChange:function(n){return a.setState({new_password:n.target.value,messageFormPassword:""})},placeholder:n("containers.snappyLoginForm.newPass")})),nn(Y.Z.Item,null,nn(l.default.Password,{defaultValue:t,onChange:function(n){return a.setState({confirmPassword:n.target.value,disableOk:!1})},placeholder:n("containers.snappyLoginForm.confirmPassword")}),void 0!==t&&nn("div",{style:{color:d?"red":"green",lineHeight:"24px",display:"flex",justifyContent:"flex-end",marginTop:5}},n(d?"containers.snappyLoginForm.passwordInCorrect":"containers.snappyLoginForm.passwordMatch"))),nn("div",null,nn("div",{style:{float:"right",color:"".concat(c?"green":"red")}},i)))})),(0,y.Z)((0,g.Z)(a),"handleUpdate",(0,s.Z)(c().mark((function n(){var e,t,o,r,i,s,p,l,u,m,f,g,h;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.props,t=e.t,o=e.updateAccount,r=e.accessToken,i=a.state,s=i.current_password,p=i.new_password,l=i.confirmPassword,u=i.userFirstName,m=i.userLastName,f=i.userName,i.avatarPancakeID,g=i.avatar_url,h={first_name:u||"",last_name:m||"",user_name:f||"",current_password:s,new_password:p,confirm_password:l||"",avatar_from_pos:g||""},a.setState({updated:!0}),n.next=6,o(r,h).then((function(n){a.setState({success:n.success,messageFormPassword:n.message}),n.success&&(a.setState({confirmPassword:void 0}),a.props.onCancel(),d.default.success(t("updateSuccess")))}));case 6:a.setState({updated:!1});case 7:case"end":return n.stop()}}),n)})))),(0,y.Z)((0,g.Z)(a),"handleBeforeUpdate",(function(){a.props.user.pancake_id?a.handleUpdate():a.handleUpdateAvatar()})),(0,y.Z)((0,g.Z)(a),"handleUpdateAvatar",(function(){var n=a.props,e=n.accessToken,t=n.updateAccountAvatar,o=n.t,r=a.state;t(e,{name:r.name,avatar_url:r.avatar_url}).then((function(n){n.success&&d.default.success(o("updateSuccess"))}))})),(0,y.Z)((0,g.Z)(a),"handleChangeTab",(function(n){a.setState({current_tab:n,message:null,messageFormPassword:null})}));var o=(n.user.name||"").split(" ");return a.state={updated:!1,disableOk:!0,avatar_url:n.user.avatar_url,name:n.user.name,email:n.user.email||null,phone_number:n.user.phone_number?n.user.phone_number.replace("+84","0"):null,current_password:"",new_password:"",current_tab:n.currentTab||1,message:"",messageFormPassword:"",success:!0,confirmPassword:void 0,userName:n.user.user_name,userFirstName:1==o.length?"":o[0],userLastName:1==o.length?o[0]:o.splice(1).join(" ")},a}return(0,f.Z)(t,[{key:"render",value:function(){var n=this,e=this.props,t=e.visible,a=e.t,r=e.user,i=this.state,c=i.current_tab,s=i.updated,p=i.disableOk;return nn("div",null,nn(u.Z,{title:1==c?nn("div",null,nn($.Z,{style:{color:"#096dd9"}})," ",a("components.updateInformation")):nn("div",null,nn(V.Z,{style:{color:"#096dd9"}})," ",a("components.changePass")),visible:t,onCancel:this.props.onCancel,footer:1==c?[nn(w.Fragment,null,r.pancake_id&&nn(o.default,{key:"change-password",onClick:function(){return n.handleChangeTab(2)}},a("components.changePass"),nn(W.Z,null))),nn(o.default,{key:"submit",type:"primary",onClick:this.handleBeforeUpdate},"OK")]:[nn(o.default,{key:"update",icon:nn(X.Z,null),onClick:function(){return n.handleChangeTab(1)}},a("components.updateInformation")),nn(o.default,{key:"submit",type:"primary",loading:s,disabled:p,onClick:this.handleBeforeUpdate},"OK")]},1==c?this.renderForm():this.renderFormPassword()),nn("style",{dangerouslySetInnerHTML:{__html:"\n          .ant-form-item { margin-bottom: 10px }\n        "}}))}}]),t}(w.Component))||B,an=(0,_.$j)(null,{updateAccount:R.sGo,updateAccountAvatar:R.M7J})(Y.Z.create()(tn)),on=t(36808),rn=t.n(on),cn=w.createElement;function sn(n){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,a=(0,v.Z)(n);if(e){var o=(0,v.Z)(this).constructor;t=Reflect.construct(a,arguments,o)}else t=a.apply(this,arguments);return(0,b.Z)(this,t)}}var pn=x.default.Option,ln=t(36808);var un=function(n){(0,h.Z)(t,n);var e=sn(t);function t(n){var a;return(0,m.Z)(this,t),a=e.call(this,n),(0,y.Z)((0,g.Z)(a),"showTextCopy",(function(n){return n?d.default.success(cn("span",null,"Copy : ",cn("span",{style:{color:"#096dd9"}}),n)):d.default.error(cn("span",null,G.ZP.t("pages.doesNotExistFacebookId")))})),(0,y.Z)((0,g.Z)(a),"handleCopyClick",(function(n){"undefined"!=typeof document&&document.execCommand("copy")})),(0,y.Z)((0,g.Z)(a),"onChangeLanguage",(function(n){var e=a.props,t=e.user,o=e.t;a.props.changeUserLocale(t.accessToken,t.uid,n),S.Z.success(o("success"),G.ZP.t("action.changeLanguageSuccess"))})),(0,y.Z)((0,g.Z)(a),"onChangeTimeZone",(function(n){var e=a.props.user;a.props.changeTimeZone(e.accessToken,e.uid,n),a.setState({timezone:n})})),(0,y.Z)((0,g.Z)(a),"confirm",(function(){u.Z.confirm({title:"Nh\u1eadp m\u1eadt kh\u1ea9u",content:cn(l.default,{type:"password",onChange:function(n){return a.setState({confirmPassword:n.target.value})}}),onOk:function(){var n=document.getElementById("btn-login");n&&n.click()},onCancel:function(){return a.setState({confirmPassword:""})},className:"crm-modal"})})),(0,y.Z)((0,g.Z)(a),"textButton",(function(){return cn("div",{className:"flex-center",id:"btn-login",onClick:a.handleLogin},cn("div",{style:{marginRight:5}},cn(N.Z,{style:{color:"#096dd9"}})),cn("div",null,cn("a",null,"Li\xean k\u1ebft v\u1edbi t\xe0i kho\u1ea3n Facebook")))})),(0,y.Z)((0,g.Z)(a),"handleLogin",(function(){var n=a.props.user,e=rn().get("pos_country"),t=rn().get("pos_locale"),o=rn().get("pos_jwt"),r=btoa(JSON.stringify({redirect_to:"pos",country:e,locale:t,pos_jwt:o,hostname:window.location.hostname})),i="".concat((0,A.LpH)(),"/users/login_success"),c="https://www.facebook.com/v11.0/dialog/oauth?auth_type=rerequest&client_id=".concat((0,A.qe5)(),"&redirect_uri=").concat(i,"&state=").concat(encodeURIComponent(r),"&scope=public_profile,email,pages_manage_metadata,pages_read_engagement,pages_show_list,pages_read_user_content,pages_manage_posts,pages_manage_engagement,read_page_mailboxes,pages_messaging,ads_read,page_events,instagram_basic,instagram_manage_messages,instagram_manage_comments,pages_show_list,ads_management,catalog_management&uid=").concat(n.uid);document.location=c})),(0,y.Z)((0,g.Z)(a),"pancakeIDLogin",(function(){var n=ln.get("pos_locale"),e=ln.get("pos_country");["vi","en"].includes(n)||((0,p.Z)("locale"),n="en");var t="".concat((0,A.LpH)(!0),"/users/pancake_id_login_success"),a={grant_type:"code",client_id:(0,A.p7l)(),redirect_uri:encodeURIComponent(t),scope:"avatar,email,subscriptions",verification_method:"email",locale:n,state:encodeURIComponent(btoa(JSON.stringify({country:e,pos_login:!0,pos_jwt:ln.get("pos_jwt"),hostname:window.location.hostname})))},o="https://account.pancake.vn/oauth2/authorize?".concat((0,A.Hls)(a));document.location=o})),(0,y.Z)((0,g.Z)(a),"btnLink",(function(){return a.state.confirmPassword?cn("div",{className:"btn-login-fb",onClick:function(){return a.handleLogin()}},cn("span",null,a.textButton()," ",a.state.isLoading&&cn(LoadingOutlined,null))):a.textButton()})),a.state={timezone:"7.0",visible:!1,currentTab:1,confirmPassword:""},a}return(0,f.Z)(t,[{key:"componentDidMount",value:function(){var n,e=rn().get("pos_error"),t=e?(n=e,decodeURIComponent(Array.prototype.map.call(atob(n),(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)})).join(""))):"";t&&(S.Z.error(G.ZP.t("error"),t),ln.set("pos_error",""));var a=this.props.user;a.timezone&&this.setState({timezone:a.timezone}),this.setUpCopyUserId(a.id),a.phone_number&&this.setUpCopyUserId(a.phone_number.replace("+84","0")),a.email&&a.email&&this.setUpCopyUserId(a.email)}},{key:"setUpCopyUserId",value:function(n){var e=this,t=document.getElementById("copy-".concat(n));t&&(this.handleEvent=function(t){t.preventDefault(),t.clipboardData&&(t.clipboardData.setData("text/plain",n),e.showTextCopy(n))},t.addEventListener("copy",this.handleEvent))}},{key:"handleCallback",value:function(){var n=(0,s.Z)(c().mark((function n(e){var t,a=this;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={fbId:e.userID,accessToken:e.accessToken,uid:this.props.user.uid,confirm_password:this.state.confirmPassword},this.setState({confirmPassword:""}),n.next=4,F()({method:"post",url:"".concat((0,A.LpH)(),"/users/login"),data:t}).then(function(){var n=(0,s.Z)(c().mark((function n(e){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(200!==e.status||!0!==e.data.success){n.next=6;break}return n.next=3,a.props.dispatch((0,R.jo$)(a.props.user.accessToken));case 3:S.Z.success(G.ZP.t("success"),G.ZP.t("pages.linkingSuccess")),n.next=7;break;case 6:S.Z.error(G.ZP.t("error"),e.data.message);case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 4:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"render",value:function(){var n=this,e=this.props,t=e.t,i=e.user;return cn("div",{style:{overflow:"auto",maxHeight:"100vh"}},cn("div",{className:"account-container"},cn("div",{className:"page-content"},cn("div",{className:"user-info"},cn("div",{className:"cover"}),cn(r.default,{title:G.ZP.t("pages.clickEditInformation")},cn(L.Z,{onClick:function(){return n.setState({visible:!0,currentTab:1})},style:{cursor:"pointer",position:"absolute",top:"10px",right:"10px",color:"white",fontSize:"18px"}})),cn(T.Z,{name:i.name,profile:!0,avatar_url:this.props.user.avatar_url,id:this.props.user.id,uid:this.props.user.uid,seed:this.props.user.uid,size:[120,120],className:"avatar"}),cn("div",{style:{paddingTop:"".concat(!i.avatar_url&&i.account_created?"15px":"0px")},className:"user-name"},this.props.user.name),!i.had_password&&cn("div",{className:"alert-account"},cn(a.default,{type:"warning",message:cn("span",{className:"flex-between"},G.ZP.t("pages.accountDoesntHavePass"),cn(o.default,{onClick:function(){return n.pancakeIDLogin()},type:"primary"},G.ZP.t("pages.updateNow"))),banner:!0})),cn("div",{className:"info-item",style:{border:0}},cn("span",null,"Facebook ID:"),cn(w.Fragment,null,cn("div",{style:{display:i.userID?"block":"none"},className:"copy-ic",id:"copy-".concat(this.props.user.id),onClick:function(){return n.handleCopyClick()}},cn("span",null,this.props.user.id),i.had_password?cn(r.default,{title:"Li\xean k\u1ebft v\u1edbi t\xe0i kho\u1ea3n facebook kh\xe1c"},cn(L.Z,{onClick:this.handleLogin,style:{marginLeft:2}})):cn(r.default,{title:this.props.id?"Click \u0111\u1ec3 copy user id":"Li\xean k\u1ebft v\u1edbi Facebook"},cn(P.Z,{style:{marginLeft:2}}))),cn("div",{style:{display:i.userID?"none":"block"}},this.btnLink()))),cn("div",{className:"info-item"},cn("span",null,t("components.customerExportExcel.name"),":"),cn("span",null,this.props.user.name)),i.phone_number&&cn("div",{className:"info-item"},cn("span",null,t("phoneNumber"),":"),cn("div",{className:"copy-ic",id:"copy-".concat(i.phone_number.replace("+84","0")),onClick:function(){return n.handleCopyClick()}},cn("span",null,i.phone_number.replace("+84","0")),cn(r.default,{title:"Click \u0111\u1ec3 copy S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"},cn(P.Z,{style:{marginLeft:2}})))),i.email&&cn("div",{className:"info-item"},cn("span",null,"Email:"),cn("div",{className:"copy-ic",id:"copy-".concat(i.email),onClick:function(){return n.handleCopyClick()}},cn("span",null,i.email),cn(r.default,{title:"Click \u0111\u1ec3 copy Email"},cn(P.Z,{style:{marginLeft:2}})))),cn("div",{className:"info-item"},cn("span",null,t("pages.account.languages"),":"),cn(x.default,{style:{width:130},size:"default",value:this.props.user.locale||"vi",onChange:this.onChangeLanguage},A.tzq.map((function(n){return cn(pn,{value:n.value,key:n.value},n.title)})))),cn("div",{className:"info-item"},cn("span",null,t("pages.account.timezone"),": "),cn(x.default,{style:{width:130},size:"default",value:this.state.timezone,onChange:this.onChangeTimeZone},cn(pn,{value:"-12.0"},"(GMT -12:00) Eniwetok, Kwajalein"),cn(pn,{value:"-11.0"},"(GMT -11:00) Midway Island, Samoa"),cn(pn,{value:"-10.0"},"(GMT -10:00) Hawaii"),cn(pn,{value:"-9.0"},"(GMT -9:00) Alaska"),cn(pn,{value:"-8.0"},"(GMT -8:00) Pacific Time (US & Canada)"),cn(pn,{value:"-7.0"},"(GMT -7:00) Mountain Time (US & Canada)"),cn(pn,{value:"-6.0"},"(GMT -6:00) Central Time (US & Canada), Mexico City"),cn(pn,{value:"-5.0"},"(GMT -5:00) Eastern Time (US & Canada), Bogota, Lima"),cn(pn,{value:"-4.0"},"(GMT -4:00) Atlantic Time (Canada), Caracas, La Paz"),cn(pn,{value:"-3.5"},"(GMT -3:30) Newfoundland"),cn(pn,{value:"-3.0"},"(GMT -3:00) Brazil, Buenos Aires, Georgetown"),cn(pn,{value:"-2.0"},"(GMT -2:00) Mid-Atlantic"),cn(pn,{value:"-1.0"},"(GMT -1:00 hour) Azores, Cape Verde Islands"),cn(pn,{value:"0.0"},"(GMT) Western Europe Time, London, Lisbon, Casablanca"),cn(pn,{value:"1.0"},"(GMT +1:00 hour) Brussels, Copenhagen, Madrid, Paris"),cn(pn,{value:"2.0"},"(GMT +2:00) Kaliningrad, South Africa"),cn(pn,{value:"3.0"},"(GMT +3:00) Baghdad, Riyadh, Moscow, St. Petersburg"),cn(pn,{value:"3.5"},"(GMT +3:30) Tehran"),cn(pn,{value:"4.0"},"(GMT +4:00) Abu Dhabi, Muscat, Baku, Tbilisi"),cn(pn,{value:"4.5"},"(GMT +4:30) Kabul"),cn(pn,{value:"5.0"},"(GMT +5:00) Ekaterinburg, Islamabad, Karachi, Tashkent"),cn(pn,{value:"5.5"},"(GMT +5:30) Bombay, Calcutta, Madras, New Delhi"),cn(pn,{value:"5.75"},"(GMT +5:45) Kathmandu"),cn(pn,{value:"6.0"},"(GMT +6:00) Almaty, Dhaka, Colombo"),cn(pn,{value:"7.0"},"(GMT +7:00) Bangkok, Hanoi, Jakarta"),cn(pn,{value:"8.0"},"(GMT +8:00) Beijing, Perth, Singapore, Hong Kong"),cn(pn,{value:"9.0"},"(GMT +9:00) Tokyo, Seoul, Osaka, Sapporo, Yakutsk"),cn(pn,{value:"9.5"},"(GMT +9:30) Adelaide, Darwin"),cn(pn,{value:"10.0"},"(GMT +10:00) Eastern Australia, Guam, Vladivostok"),cn(pn,{value:"11.0"},"(GMT +11:00) Magadan, Solomon Islands, New Caledonia"),cn(pn,{value:"12.0"},"(GMT +12:00) Auckland, Wellington, Fiji, Kamchatka"))),cn(z,null)))),this.state.visible&&cn(an,{currentTab:this.state.currentTab,user:this.props.user,accessToken:i.accessToken,visible:this.state.visible,onCancel:function(){return n.setState({visible:!1})}}))}}]),t}(w.Component);(0,y.Z)(un,"pageInfo",{title:"pages.account.setUpAccount",sassStyle:C()});var dn=(0,_.$j)((function(n){return{user:n.navigation.user}}),{changeUserLocale:R.eTM,changeTimeZone:R.KT2,updateAccount:R.sGo,getMe:R.jo$})((0,k.Z)(un))},61624:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/account",function(){return t(38950)}])}},function(n){n.O(0,[5460,8631,2902,3003,9774,2888,179],(function(){return e=61624,n(n.s=e);var e}));var e=n.O();_N_E=e}]);